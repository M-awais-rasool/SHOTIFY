function jg(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ht=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var M0={exports:{}},bo={},D0={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ms=Symbol.for("react.element"),Pg=Symbol.for("react.portal"),Tg=Symbol.for("react.fragment"),Rg=Symbol.for("react.strict_mode"),Ag=Symbol.for("react.profiler"),Og=Symbol.for("react.provider"),Fg=Symbol.for("react.context"),Lg=Symbol.for("react.forward_ref"),Ig=Symbol.for("react.suspense"),Mg=Symbol.for("react.memo"),Dg=Symbol.for("react.lazy"),dh=Symbol.iterator;function zg(t){return t===null||typeof t!="object"?null:(t=dh&&t[dh]||t["@@iterator"],typeof t=="function"?t:null)}var z0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U0=Object.assign,B0={};function _i(t,e,n){this.props=t,this.context=e,this.refs=B0,this.updater=n||z0}_i.prototype.isReactComponent={};_i.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_i.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function G0(){}G0.prototype=_i.prototype;function zu(t,e,n){this.props=t,this.context=e,this.refs=B0,this.updater=n||z0}var Uu=zu.prototype=new G0;Uu.constructor=zu;U0(Uu,_i.prototype);Uu.isPureReactComponent=!0;var hh=Array.isArray,H0=Object.prototype.hasOwnProperty,Bu={current:null},$0={key:!0,ref:!0,__self:!0,__source:!0};function V0(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)H0.call(e,r)&&!$0.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Ms,type:t,key:s,ref:a,props:i,_owner:Bu.current}}function Ug(t,e){return{$$typeof:Ms,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ms}function Bg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var fh=/\/+/g;function Dl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Bg(""+t.key):e.toString(36)}function Na(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ms:case Pg:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Dl(a,0):r,hh(i)?(n="",t!=null&&(n=t.replace(fh,"$&/")+"/"),Na(i,e,n,"",function(c){return c})):i!=null&&(Gu(i)&&(i=Ug(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(fh,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",hh(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+Dl(s,o);a+=Na(s,e,n,l,i)}else if(l=zg(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+Dl(s,o++),a+=Na(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ta(t,e,n){if(t==null)return t;var r=[],i=0;return Na(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Gg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ht={current:null},Ea={transition:null},Hg={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:Ea,ReactCurrentOwner:Bu};function W0(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:ta,forEach:function(t,e,n){ta(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ta(t,function(){e++}),e},toArray:function(t){return ta(t,function(e){return e})||[]},only:function(t){if(!Gu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=_i;ve.Fragment=Tg;ve.Profiler=Ag;ve.PureComponent=zu;ve.StrictMode=Rg;ve.Suspense=Ig;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hg;ve.act=W0;ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=U0({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Bu.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)H0.call(e,l)&&!$0.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Ms,type:t.type,key:i,ref:s,props:r,_owner:a}};ve.createContext=function(t){return t={$$typeof:Fg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Og,_context:t},t.Consumer=t};ve.createElement=V0;ve.createFactory=function(t){var e=V0.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:Lg,render:t}};ve.isValidElement=Gu;ve.lazy=function(t){return{$$typeof:Dg,_payload:{_status:-1,_result:t},_init:Gg}};ve.memo=function(t,e){return{$$typeof:Mg,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=Ea.transition;Ea.transition={};try{t()}finally{Ea.transition=e}};ve.unstable_act=W0;ve.useCallback=function(t,e){return ht.current.useCallback(t,e)};ve.useContext=function(t){return ht.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return ht.current.useDeferredValue(t)};ve.useEffect=function(t,e){return ht.current.useEffect(t,e)};ve.useId=function(){return ht.current.useId()};ve.useImperativeHandle=function(t,e,n){return ht.current.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return ht.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return ht.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return ht.current.useMemo(t,e)};ve.useReducer=function(t,e,n){return ht.current.useReducer(t,e,n)};ve.useRef=function(t){return ht.current.useRef(t)};ve.useState=function(t){return ht.current.useState(t)};ve.useSyncExternalStore=function(t,e,n){return ht.current.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return ht.current.useTransition()};ve.version="18.3.1";D0.exports=ve;var X=D0.exports;const Hu=wo(X),$g=jg({__proto__:null,default:Hu},[X]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vg=X,Wg=Symbol.for("react.element"),Kg=Symbol.for("react.fragment"),Yg=Object.prototype.hasOwnProperty,Xg=Vg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qg={key:!0,ref:!0,__self:!0,__source:!0};function K0(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Yg.call(e,r)&&!qg.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Wg,type:t,key:s,ref:a,props:i,_owner:Xg.current}}bo.Fragment=Kg;bo.jsx=K0;bo.jsxs=K0;M0.exports=bo;var f=M0.exports,Nc={},Y0={exports:{}},Nt={},X0={exports:{}},q0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,G){var z=U.length;U.push(G);e:for(;0<z;){var F=z-1>>>1,L=U[F];if(0<i(L,G))U[F]=G,U[z]=L,z=F;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var G=U[0],z=U.pop();if(z!==G){U[0]=z;e:for(var F=0,L=U.length,te=L>>>1;F<te;){var J=2*(F+1)-1,Q=U[J],ae=J+1,M=U[ae];if(0>i(Q,z))ae<L&&0>i(M,Q)?(U[F]=M,U[ae]=z,F=ae):(U[F]=Q,U[J]=z,F=J);else if(ae<L&&0>i(M,z))U[F]=M,U[ae]=z,F=ae;else break e}}return G}function i(U,G){var z=U.sortIndex-G.sortIndex;return z!==0?z:U.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,y=null,v=3,p=!1,h=!1,m=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function d(U){for(var G=n(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=U)r(c),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(c)}}function w(U){if(m=!1,d(U),!h)if(n(l)!==null)h=!0,Z(b);else{var G=n(c);G!==null&&$(w,G.startTime-U)}}function b(U,G){h=!1,m&&(m=!1,g(N),N=-1),p=!0;var z=v;try{for(d(G),y=n(l);y!==null&&(!(y.expirationTime>G)||U&&!D());){var F=y.callback;if(typeof F=="function"){y.callback=null,v=y.priorityLevel;var L=F(y.expirationTime<=G);G=t.unstable_now(),typeof L=="function"?y.callback=L:y===n(l)&&r(l),d(G)}else r(l);y=n(l)}if(y!==null)var te=!0;else{var J=n(c);J!==null&&$(w,J.startTime-G),te=!1}return te}finally{y=null,v=z,p=!1}}var E=!1,j=null,N=-1,R=5,P=-1;function D(){return!(t.unstable_now()-P<R)}function C(){if(j!==null){var U=t.unstable_now();P=U;var G=!0;try{G=j(!0,U)}finally{G?O():(E=!1,j=null)}}else E=!1}var O;if(typeof x=="function")O=function(){x(C)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,I=S.port2;S.port1.onmessage=C,O=function(){I.postMessage(null)}}else O=function(){_(C,0)};function Z(U){j=U,E||(E=!0,O())}function $(U,G){N=_(function(){U(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){h||p||(h=!0,Z(b))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var z=v;v=G;try{return U()}finally{v=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,G){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var z=v;v=U;try{return G()}finally{v=z}},t.unstable_scheduleCallback=function(U,G,z){var F=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?F+z:F):z=F,U){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=z+L,U={id:u++,callback:G,priorityLevel:U,startTime:z,expirationTime:L,sortIndex:-1},z>F?(U.sortIndex=z,e(c,U),n(l)===null&&U===n(c)&&(m?(g(N),N=-1):m=!0,$(w,z-F))):(U.sortIndex=L,e(l,U),h||p||(h=!0,Z(b))),U},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(U){var G=v;return function(){var z=v;v=G;try{return U.apply(this,arguments)}finally{v=z}}}})(q0);X0.exports=q0;var Zg=X0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg=X,Ct=Zg;function ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Z0=new Set,hs={};function jr(t,e){oi(t,e),oi(t+"Capture",e)}function oi(t,e){for(hs[t]=e,t=0;t<e.length;t++)Z0.add(e[t])}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ec=Object.prototype.hasOwnProperty,Jg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ph={},mh={};function e2(t){return Ec.call(mh,t)?!0:Ec.call(ph,t)?!1:Jg.test(t)?mh[t]=!0:(ph[t]=!0,!1)}function t2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function n2(t,e,n,r){if(e===null||typeof e>"u"||t2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ft(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){rt[t]=new ft(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];rt[e]=new ft(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){rt[t]=new ft(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){rt[t]=new ft(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){rt[t]=new ft(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){rt[t]=new ft(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){rt[t]=new ft(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){rt[t]=new ft(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){rt[t]=new ft(t,5,!1,t.toLowerCase(),null,!1,!1)});var $u=/[\-:]([a-z])/g;function Vu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($u,Vu);rt[e]=new ft(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($u,Vu);rt[e]=new ft(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($u,Vu);rt[e]=new ft(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){rt[t]=new ft(t,1,!1,t.toLowerCase(),null,!1,!1)});rt.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){rt[t]=new ft(t,1,!1,t.toLowerCase(),null,!0,!0)});function Wu(t,e,n,r){var i=rt.hasOwnProperty(e)?rt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(n2(e,n,i,r)&&(n=null),r||i===null?e2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Sn=Qg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,na=Symbol.for("react.element"),Hr=Symbol.for("react.portal"),$r=Symbol.for("react.fragment"),Ku=Symbol.for("react.strict_mode"),jc=Symbol.for("react.profiler"),Q0=Symbol.for("react.provider"),J0=Symbol.for("react.context"),Yu=Symbol.for("react.forward_ref"),Pc=Symbol.for("react.suspense"),Tc=Symbol.for("react.suspense_list"),Xu=Symbol.for("react.memo"),An=Symbol.for("react.lazy"),ep=Symbol.for("react.offscreen"),gh=Symbol.iterator;function zi(t){return t===null||typeof t!="object"?null:(t=gh&&t[gh]||t["@@iterator"],typeof t=="function"?t:null)}var Me=Object.assign,zl;function Zi(t){if(zl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zl=e&&e[1]||""}return`
`+zl+t}var Ul=!1;function Bl(t,e){if(!t||Ul)return"";Ul=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Ul=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Zi(t):""}function r2(t){switch(t.tag){case 5:return Zi(t.type);case 16:return Zi("Lazy");case 13:return Zi("Suspense");case 19:return Zi("SuspenseList");case 0:case 2:case 15:return t=Bl(t.type,!1),t;case 11:return t=Bl(t.type.render,!1),t;case 1:return t=Bl(t.type,!0),t;default:return""}}function Rc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $r:return"Fragment";case Hr:return"Portal";case jc:return"Profiler";case Ku:return"StrictMode";case Pc:return"Suspense";case Tc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case J0:return(t.displayName||"Context")+".Consumer";case Q0:return(t._context.displayName||"Context")+".Provider";case Yu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xu:return e=t.displayName||null,e!==null?e:Rc(t.type)||"Memo";case An:e=t._payload,t=t._init;try{return Rc(t(e))}catch{}}return null}function i2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rc(e);case 8:return e===Ku?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function s2(t){var e=tp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ra(t){t._valueTracker||(t._valueTracker=s2(t))}function np(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=tp(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $a(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ac(t,e){var n=e.checked;return Me({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function yh(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Yn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rp(t,e){e=e.checked,e!=null&&Wu(t,"checked",e,!1)}function Oc(t,e){rp(t,e);var n=Yn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fc(t,e.type,n):e.hasOwnProperty("defaultValue")&&Fc(t,e.type,Yn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function vh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fc(t,e,n){(e!=="number"||$a(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qi=Array.isArray;function ti(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Lc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ne(91));return Me({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ne(92));if(Qi(n)){if(1<n.length)throw Error(ne(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yn(n)}}function ip(t,e){var n=Yn(e.value),r=Yn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function _h(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ic(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ia,ap=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ia=ia||document.createElement("div"),ia.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ia.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ns={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a2=["Webkit","ms","Moz","O"];Object.keys(ns).forEach(function(t){a2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ns[e]=ns[t]})});function op(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ns.hasOwnProperty(t)&&ns[t]?(""+e).trim():e+"px"}function lp(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=op(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var o2=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mc(t,e){if(e){if(o2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ne(62))}}function Dc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zc=null;function qu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Uc=null,ni=null,ri=null;function wh(t){if(t=Us(t)){if(typeof Uc!="function")throw Error(ne(280));var e=t.stateNode;e&&(e=Eo(e),Uc(t.stateNode,t.type,e))}}function cp(t){ni?ri?ri.push(t):ri=[t]:ni=t}function up(){if(ni){var t=ni,e=ri;if(ri=ni=null,wh(t),e)for(t=0;t<e.length;t++)wh(e[t])}}function dp(t,e){return t(e)}function hp(){}var Gl=!1;function fp(t,e,n){if(Gl)return t(e,n);Gl=!0;try{return dp(t,e,n)}finally{Gl=!1,(ni!==null||ri!==null)&&(hp(),up())}}function ps(t,e){var n=t.stateNode;if(n===null)return null;var r=Eo(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ne(231,e,typeof n));return n}var Bc=!1;if(xn)try{var Ui={};Object.defineProperty(Ui,"passive",{get:function(){Bc=!0}}),window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,Ui)}catch{Bc=!1}function l2(t,e,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var rs=!1,Va=null,Wa=!1,Gc=null,c2={onError:function(t){rs=!0,Va=t}};function u2(t,e,n,r,i,s,a,o,l){rs=!1,Va=null,l2.apply(c2,arguments)}function d2(t,e,n,r,i,s,a,o,l){if(u2.apply(this,arguments),rs){if(rs){var c=Va;rs=!1,Va=null}else throw Error(ne(198));Wa||(Wa=!0,Gc=c)}}function Pr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function pp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function bh(t){if(Pr(t)!==t)throw Error(ne(188))}function h2(t){var e=t.alternate;if(!e){if(e=Pr(t),e===null)throw Error(ne(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return bh(i),t;if(s===r)return bh(i),e;s=s.sibling}throw Error(ne(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?t:e}function mp(t){return t=h2(t),t!==null?gp(t):null}function gp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=gp(t);if(e!==null)return e;t=t.sibling}return null}var yp=Ct.unstable_scheduleCallback,Sh=Ct.unstable_cancelCallback,f2=Ct.unstable_shouldYield,p2=Ct.unstable_requestPaint,He=Ct.unstable_now,m2=Ct.unstable_getCurrentPriorityLevel,Zu=Ct.unstable_ImmediatePriority,vp=Ct.unstable_UserBlockingPriority,Ka=Ct.unstable_NormalPriority,g2=Ct.unstable_LowPriority,xp=Ct.unstable_IdlePriority,So=null,nn=null;function y2(t){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(So,t,void 0,(t.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:_2,v2=Math.log,x2=Math.LN2;function _2(t){return t>>>=0,t===0?32:31-(v2(t)/x2|0)|0}var sa=64,aa=4194304;function Ji(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ya(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=Ji(o):(s&=a,s!==0&&(r=Ji(s)))}else a=n&~i,a!==0?r=Ji(a):s!==0&&(r=Ji(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-$t(e),i=1<<n,r|=t[n],e&=~i;return r}function w2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-$t(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=w2(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function Hc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _p(){var t=sa;return sa<<=1,!(sa&4194240)&&(sa=64),t}function Hl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ds(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$t(e),t[e]=n}function S2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-$t(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Qu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$t(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ce=0;function wp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bp,Ju,Sp,kp,Cp,$c=!1,oa=[],zn=null,Un=null,Bn=null,ms=new Map,gs=new Map,Fn=[],k2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kh(t,e){switch(t){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":ms.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gs.delete(e.pointerId)}}function Bi(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Us(e),e!==null&&Ju(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function C2(t,e,n,r,i){switch(e){case"focusin":return zn=Bi(zn,t,e,n,r,i),!0;case"dragenter":return Un=Bi(Un,t,e,n,r,i),!0;case"mouseover":return Bn=Bi(Bn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ms.set(s,Bi(ms.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,gs.set(s,Bi(gs.get(s)||null,t,e,n,r,i)),!0}return!1}function Np(t){var e=dr(t.target);if(e!==null){var n=Pr(e);if(n!==null){if(e=n.tag,e===13){if(e=pp(n),e!==null){t.blockedOn=e,Cp(t.priority,function(){Sp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ja(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zc=r,n.target.dispatchEvent(r),zc=null}else return e=Us(n),e!==null&&Ju(e),t.blockedOn=n,!1;e.shift()}return!0}function Ch(t,e,n){ja(t)&&n.delete(e)}function N2(){$c=!1,zn!==null&&ja(zn)&&(zn=null),Un!==null&&ja(Un)&&(Un=null),Bn!==null&&ja(Bn)&&(Bn=null),ms.forEach(Ch),gs.forEach(Ch)}function Gi(t,e){t.blockedOn===e&&(t.blockedOn=null,$c||($c=!0,Ct.unstable_scheduleCallback(Ct.unstable_NormalPriority,N2)))}function ys(t){function e(i){return Gi(i,t)}if(0<oa.length){Gi(oa[0],t);for(var n=1;n<oa.length;n++){var r=oa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(zn!==null&&Gi(zn,t),Un!==null&&Gi(Un,t),Bn!==null&&Gi(Bn,t),ms.forEach(e),gs.forEach(e),n=0;n<Fn.length;n++)r=Fn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fn.length&&(n=Fn[0],n.blockedOn===null);)Np(n),n.blockedOn===null&&Fn.shift()}var ii=Sn.ReactCurrentBatchConfig,Xa=!0;function E2(t,e,n,r){var i=Ce,s=ii.transition;ii.transition=null;try{Ce=1,ed(t,e,n,r)}finally{Ce=i,ii.transition=s}}function j2(t,e,n,r){var i=Ce,s=ii.transition;ii.transition=null;try{Ce=4,ed(t,e,n,r)}finally{Ce=i,ii.transition=s}}function ed(t,e,n,r){if(Xa){var i=Vc(t,e,n,r);if(i===null)Jl(t,e,r,qa,n),kh(t,r);else if(C2(i,t,e,n,r))r.stopPropagation();else if(kh(t,r),e&4&&-1<k2.indexOf(t)){for(;i!==null;){var s=Us(i);if(s!==null&&bp(s),s=Vc(t,e,n,r),s===null&&Jl(t,e,r,qa,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Jl(t,e,r,null,n)}}var qa=null;function Vc(t,e,n,r){if(qa=null,t=qu(r),t=dr(t),t!==null)if(e=Pr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=pp(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qa=t,null}function Ep(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m2()){case Zu:return 1;case vp:return 4;case Ka:case g2:return 16;case xp:return 536870912;default:return 16}default:return 16}}var In=null,td=null,Pa=null;function jp(){if(Pa)return Pa;var t,e=td,n=e.length,r,i="value"in In?In.value:In.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Pa=i.slice(t,1<r?1-r:void 0)}function Ta(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function la(){return!0}function Nh(){return!1}function Et(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?la:Nh,this.isPropagationStopped=Nh,this}return Me(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=la)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=la)},persist:function(){},isPersistent:la}),e}var wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nd=Et(wi),zs=Me({},wi,{view:0,detail:0}),P2=Et(zs),$l,Vl,Hi,ko=Me({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hi&&(Hi&&t.type==="mousemove"?($l=t.screenX-Hi.screenX,Vl=t.screenY-Hi.screenY):Vl=$l=0,Hi=t),$l)},movementY:function(t){return"movementY"in t?t.movementY:Vl}}),Eh=Et(ko),T2=Me({},ko,{dataTransfer:0}),R2=Et(T2),A2=Me({},zs,{relatedTarget:0}),Wl=Et(A2),O2=Me({},wi,{animationName:0,elapsedTime:0,pseudoElement:0}),F2=Et(O2),L2=Me({},wi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),I2=Et(L2),M2=Me({},wi,{data:0}),jh=Et(M2),D2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=U2[t])?!!e[t]:!1}function rd(){return B2}var G2=Me({},zs,{key:function(t){if(t.key){var e=D2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ta(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?z2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rd,charCode:function(t){return t.type==="keypress"?Ta(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ta(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),H2=Et(G2),$2=Me({},ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ph=Et($2),V2=Me({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rd}),W2=Et(V2),K2=Me({},wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y2=Et(K2),X2=Me({},ko,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q2=Et(X2),Z2=[9,13,27,32],id=xn&&"CompositionEvent"in window,is=null;xn&&"documentMode"in document&&(is=document.documentMode);var Q2=xn&&"TextEvent"in window&&!is,Pp=xn&&(!id||is&&8<is&&11>=is),Th=" ",Rh=!1;function Tp(t,e){switch(t){case"keyup":return Z2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vr=!1;function J2(t,e){switch(t){case"compositionend":return Rp(e);case"keypress":return e.which!==32?null:(Rh=!0,Th);case"textInput":return t=e.data,t===Th&&Rh?null:t;default:return null}}function ey(t,e){if(Vr)return t==="compositionend"||!id&&Tp(t,e)?(t=jp(),Pa=td=In=null,Vr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Pp&&e.locale!=="ko"?null:e.data;default:return null}}var ty={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ah(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ty[t.type]:e==="textarea"}function Ap(t,e,n,r){cp(r),e=Za(e,"onChange"),0<e.length&&(n=new nd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ss=null,vs=null;function ny(t){Hp(t,0)}function Co(t){var e=Yr(t);if(np(e))return t}function ry(t,e){if(t==="change")return e}var Op=!1;if(xn){var Kl;if(xn){var Yl="oninput"in document;if(!Yl){var Oh=document.createElement("div");Oh.setAttribute("oninput","return;"),Yl=typeof Oh.oninput=="function"}Kl=Yl}else Kl=!1;Op=Kl&&(!document.documentMode||9<document.documentMode)}function Fh(){ss&&(ss.detachEvent("onpropertychange",Fp),vs=ss=null)}function Fp(t){if(t.propertyName==="value"&&Co(vs)){var e=[];Ap(e,vs,t,qu(t)),fp(ny,e)}}function iy(t,e,n){t==="focusin"?(Fh(),ss=e,vs=n,ss.attachEvent("onpropertychange",Fp)):t==="focusout"&&Fh()}function sy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Co(vs)}function ay(t,e){if(t==="click")return Co(e)}function oy(t,e){if(t==="input"||t==="change")return Co(e)}function ly(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kt=typeof Object.is=="function"?Object.is:ly;function xs(t,e){if(Kt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ec.call(e,i)||!Kt(t[i],e[i]))return!1}return!0}function Lh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ih(t,e){var n=Lh(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lh(n)}}function Lp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Lp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ip(){for(var t=window,e=$a();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$a(t.document)}return e}function sd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function cy(t){var e=Ip(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Lp(n.ownerDocument.documentElement,n)){if(r!==null&&sd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Ih(n,s);var a=Ih(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var uy=xn&&"documentMode"in document&&11>=document.documentMode,Wr=null,Wc=null,as=null,Kc=!1;function Mh(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kc||Wr==null||Wr!==$a(r)||(r=Wr,"selectionStart"in r&&sd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),as&&xs(as,r)||(as=r,r=Za(Wc,"onSelect"),0<r.length&&(e=new nd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Wr)))}function ca(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Kr={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionend:ca("Transition","TransitionEnd")},Xl={},Mp={};xn&&(Mp=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function No(t){if(Xl[t])return Xl[t];if(!Kr[t])return t;var e=Kr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Mp)return Xl[t]=e[n];return t}var Dp=No("animationend"),zp=No("animationiteration"),Up=No("animationstart"),Bp=No("transitionend"),Gp=new Map,Dh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zn(t,e){Gp.set(t,e),jr(e,[t])}for(var ql=0;ql<Dh.length;ql++){var Zl=Dh[ql],dy=Zl.toLowerCase(),hy=Zl[0].toUpperCase()+Zl.slice(1);Zn(dy,"on"+hy)}Zn(Dp,"onAnimationEnd");Zn(zp,"onAnimationIteration");Zn(Up,"onAnimationStart");Zn("dblclick","onDoubleClick");Zn("focusin","onFocus");Zn("focusout","onBlur");Zn(Bp,"onTransitionEnd");oi("onMouseEnter",["mouseout","mouseover"]);oi("onMouseLeave",["mouseout","mouseover"]);oi("onPointerEnter",["pointerout","pointerover"]);oi("onPointerLeave",["pointerout","pointerover"]);jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fy=new Set("cancel close invalid load scroll toggle".split(" ").concat(es));function zh(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,d2(r,e,void 0,t),t.currentTarget=null}function Hp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;zh(i,o,c),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;zh(i,o,c),s=l}}}if(Wa)throw t=Gc,Wa=!1,Gc=null,t}function Te(t,e){var n=e[Qc];n===void 0&&(n=e[Qc]=new Set);var r=t+"__bubble";n.has(r)||($p(e,t,2,!1),n.add(r))}function Ql(t,e,n){var r=0;e&&(r|=4),$p(n,t,r,e)}var ua="_reactListening"+Math.random().toString(36).slice(2);function _s(t){if(!t[ua]){t[ua]=!0,Z0.forEach(function(n){n!=="selectionchange"&&(fy.has(n)||Ql(n,!1,t),Ql(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ua]||(e[ua]=!0,Ql("selectionchange",!1,e))}}function $p(t,e,n,r){switch(Ep(e)){case 1:var i=E2;break;case 4:i=j2;break;default:i=ed}n=i.bind(null,e,n,t),i=void 0,!Bc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Jl(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=dr(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}fp(function(){var c=s,u=qu(n),y=[];e:{var v=Gp.get(t);if(v!==void 0){var p=nd,h=t;switch(t){case"keypress":if(Ta(n)===0)break e;case"keydown":case"keyup":p=H2;break;case"focusin":h="focus",p=Wl;break;case"focusout":h="blur",p=Wl;break;case"beforeblur":case"afterblur":p=Wl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Eh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=R2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=W2;break;case Dp:case zp:case Up:p=F2;break;case Bp:p=Y2;break;case"scroll":p=P2;break;case"wheel":p=q2;break;case"copy":case"cut":case"paste":p=I2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ph}var m=(e&4)!==0,_=!m&&t==="scroll",g=m?v!==null?v+"Capture":null:v;m=[];for(var x=c,d;x!==null;){d=x;var w=d.stateNode;if(d.tag===5&&w!==null&&(d=w,g!==null&&(w=ps(x,g),w!=null&&m.push(ws(x,w,d)))),_)break;x=x.return}0<m.length&&(v=new p(v,h,null,n,u),y.push({event:v,listeners:m}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",v&&n!==zc&&(h=n.relatedTarget||n.fromElement)&&(dr(h)||h[_n]))break e;if((p||v)&&(v=u.window===u?u:(v=u.ownerDocument)?v.defaultView||v.parentWindow:window,p?(h=n.relatedTarget||n.toElement,p=c,h=h?dr(h):null,h!==null&&(_=Pr(h),h!==_||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=c),p!==h)){if(m=Eh,w="onMouseLeave",g="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(m=Ph,w="onPointerLeave",g="onPointerEnter",x="pointer"),_=p==null?v:Yr(p),d=h==null?v:Yr(h),v=new m(w,x+"leave",p,n,u),v.target=_,v.relatedTarget=d,w=null,dr(u)===c&&(m=new m(g,x+"enter",h,n,u),m.target=d,m.relatedTarget=_,w=m),_=w,p&&h)t:{for(m=p,g=h,x=0,d=m;d;d=Dr(d))x++;for(d=0,w=g;w;w=Dr(w))d++;for(;0<x-d;)m=Dr(m),x--;for(;0<d-x;)g=Dr(g),d--;for(;x--;){if(m===g||g!==null&&m===g.alternate)break t;m=Dr(m),g=Dr(g)}m=null}else m=null;p!==null&&Uh(y,v,p,m,!1),h!==null&&_!==null&&Uh(y,_,h,m,!0)}}e:{if(v=c?Yr(c):window,p=v.nodeName&&v.nodeName.toLowerCase(),p==="select"||p==="input"&&v.type==="file")var b=ry;else if(Ah(v))if(Op)b=oy;else{b=sy;var E=iy}else(p=v.nodeName)&&p.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(b=ay);if(b&&(b=b(t,c))){Ap(y,b,n,u);break e}E&&E(t,v,c),t==="focusout"&&(E=v._wrapperState)&&E.controlled&&v.type==="number"&&Fc(v,"number",v.value)}switch(E=c?Yr(c):window,t){case"focusin":(Ah(E)||E.contentEditable==="true")&&(Wr=E,Wc=c,as=null);break;case"focusout":as=Wc=Wr=null;break;case"mousedown":Kc=!0;break;case"contextmenu":case"mouseup":case"dragend":Kc=!1,Mh(y,n,u);break;case"selectionchange":if(uy)break;case"keydown":case"keyup":Mh(y,n,u)}var j;if(id)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Vr?Tp(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Pp&&n.locale!=="ko"&&(Vr||N!=="onCompositionStart"?N==="onCompositionEnd"&&Vr&&(j=jp()):(In=u,td="value"in In?In.value:In.textContent,Vr=!0)),E=Za(c,N),0<E.length&&(N=new jh(N,t,null,n,u),y.push({event:N,listeners:E}),j?N.data=j:(j=Rp(n),j!==null&&(N.data=j)))),(j=Q2?J2(t,n):ey(t,n))&&(c=Za(c,"onBeforeInput"),0<c.length&&(u=new jh("onBeforeInput","beforeinput",null,n,u),y.push({event:u,listeners:c}),u.data=j))}Hp(y,e)})}function ws(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Za(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ps(t,n),s!=null&&r.unshift(ws(t,s,i)),s=ps(t,e),s!=null&&r.push(ws(t,s,i))),t=t.return}return r}function Dr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Uh(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=ps(n,s),l!=null&&a.unshift(ws(n,l,o))):i||(l=ps(n,s),l!=null&&a.push(ws(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var py=/\r\n?/g,my=/\u0000|\uFFFD/g;function Bh(t){return(typeof t=="string"?t:""+t).replace(py,`
`).replace(my,"")}function da(t,e,n){if(e=Bh(e),Bh(t)!==e&&n)throw Error(ne(425))}function Qa(){}var Yc=null,Xc=null;function qc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zc=typeof setTimeout=="function"?setTimeout:void 0,gy=typeof clearTimeout=="function"?clearTimeout:void 0,Gh=typeof Promise=="function"?Promise:void 0,yy=typeof queueMicrotask=="function"?queueMicrotask:typeof Gh<"u"?function(t){return Gh.resolve(null).then(t).catch(vy)}:Zc;function vy(t){setTimeout(function(){throw t})}function ec(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ys(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ys(e)}function Gn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Hh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var bi=Math.random().toString(36).slice(2),en="__reactFiber$"+bi,bs="__reactProps$"+bi,_n="__reactContainer$"+bi,Qc="__reactEvents$"+bi,xy="__reactListeners$"+bi,_y="__reactHandles$"+bi;function dr(t){var e=t[en];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_n]||n[en]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Hh(t);t!==null;){if(n=t[en])return n;t=Hh(t)}return e}t=n,n=t.parentNode}return null}function Us(t){return t=t[en]||t[_n],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Yr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ne(33))}function Eo(t){return t[bs]||null}var Jc=[],Xr=-1;function Qn(t){return{current:t}}function Re(t){0>Xr||(t.current=Jc[Xr],Jc[Xr]=null,Xr--)}function Pe(t,e){Xr++,Jc[Xr]=t.current,t.current=e}var Xn={},lt=Qn(Xn),gt=Qn(!1),vr=Xn;function li(t,e){var n=t.type.contextTypes;if(!n)return Xn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yt(t){return t=t.childContextTypes,t!=null}function Ja(){Re(gt),Re(lt)}function $h(t,e,n){if(lt.current!==Xn)throw Error(ne(168));Pe(lt,e),Pe(gt,n)}function Vp(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ne(108,i2(t)||"Unknown",i));return Me({},n,r)}function eo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xn,vr=lt.current,Pe(lt,t),Pe(gt,gt.current),!0}function Vh(t,e,n){var r=t.stateNode;if(!r)throw Error(ne(169));n?(t=Vp(t,e,vr),r.__reactInternalMemoizedMergedChildContext=t,Re(gt),Re(lt),Pe(lt,t)):Re(gt),Pe(gt,n)}var pn=null,jo=!1,tc=!1;function Wp(t){pn===null?pn=[t]:pn.push(t)}function wy(t){jo=!0,Wp(t)}function Jn(){if(!tc&&pn!==null){tc=!0;var t=0,e=Ce;try{var n=pn;for(Ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}pn=null,jo=!1}catch(i){throw pn!==null&&(pn=pn.slice(t+1)),yp(Zu,Jn),i}finally{Ce=e,tc=!1}}return null}var qr=[],Zr=0,to=null,no=0,Tt=[],Rt=0,xr=null,mn=1,gn="";function lr(t,e){qr[Zr++]=no,qr[Zr++]=to,to=t,no=e}function Kp(t,e,n){Tt[Rt++]=mn,Tt[Rt++]=gn,Tt[Rt++]=xr,xr=t;var r=mn;t=gn;var i=32-$t(r)-1;r&=~(1<<i),n+=1;var s=32-$t(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,mn=1<<32-$t(e)+i|n<<i|r,gn=s+t}else mn=1<<s|n<<i|r,gn=t}function ad(t){t.return!==null&&(lr(t,1),Kp(t,1,0))}function od(t){for(;t===to;)to=qr[--Zr],qr[Zr]=null,no=qr[--Zr],qr[Zr]=null;for(;t===xr;)xr=Tt[--Rt],Tt[Rt]=null,gn=Tt[--Rt],Tt[Rt]=null,mn=Tt[--Rt],Tt[Rt]=null}var kt=null,St=null,Oe=!1,Gt=null;function Yp(t,e){var n=At(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Wh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kt=t,St=Gn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kt=t,St=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=xr!==null?{id:mn,overflow:gn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=At(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kt=t,St=null,!0):!1;default:return!1}}function eu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tu(t){if(Oe){var e=St;if(e){var n=e;if(!Wh(t,e)){if(eu(t))throw Error(ne(418));e=Gn(n.nextSibling);var r=kt;e&&Wh(t,e)?Yp(r,n):(t.flags=t.flags&-4097|2,Oe=!1,kt=t)}}else{if(eu(t))throw Error(ne(418));t.flags=t.flags&-4097|2,Oe=!1,kt=t}}}function Kh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kt=t}function ha(t){if(t!==kt)return!1;if(!Oe)return Kh(t),Oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qc(t.type,t.memoizedProps)),e&&(e=St)){if(eu(t))throw Xp(),Error(ne(418));for(;e;)Yp(t,e),e=Gn(e.nextSibling)}if(Kh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){St=Gn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}St=null}}else St=kt?Gn(t.stateNode.nextSibling):null;return!0}function Xp(){for(var t=St;t;)t=Gn(t.nextSibling)}function ci(){St=kt=null,Oe=!1}function ld(t){Gt===null?Gt=[t]:Gt.push(t)}var by=Sn.ReactCurrentBatchConfig;function $i(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,t))}return t}function fa(t,e){throw t=Object.prototype.toString.call(e),Error(ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yh(t){var e=t._init;return e(t._payload)}function qp(t){function e(g,x){if(t){var d=g.deletions;d===null?(g.deletions=[x],g.flags|=16):d.push(x)}}function n(g,x){if(!t)return null;for(;x!==null;)e(g,x),x=x.sibling;return null}function r(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function i(g,x){return g=Wn(g,x),g.index=0,g.sibling=null,g}function s(g,x,d){return g.index=d,t?(d=g.alternate,d!==null?(d=d.index,d<x?(g.flags|=2,x):d):(g.flags|=2,x)):(g.flags|=1048576,x)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,x,d,w){return x===null||x.tag!==6?(x=lc(d,g.mode,w),x.return=g,x):(x=i(x,d),x.return=g,x)}function l(g,x,d,w){var b=d.type;return b===$r?u(g,x,d.props.children,w,d.key):x!==null&&(x.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===An&&Yh(b)===x.type)?(w=i(x,d.props),w.ref=$i(g,x,d),w.return=g,w):(w=Ma(d.type,d.key,d.props,null,g.mode,w),w.ref=$i(g,x,d),w.return=g,w)}function c(g,x,d,w){return x===null||x.tag!==4||x.stateNode.containerInfo!==d.containerInfo||x.stateNode.implementation!==d.implementation?(x=cc(d,g.mode,w),x.return=g,x):(x=i(x,d.children||[]),x.return=g,x)}function u(g,x,d,w,b){return x===null||x.tag!==7?(x=gr(d,g.mode,w,b),x.return=g,x):(x=i(x,d),x.return=g,x)}function y(g,x,d){if(typeof x=="string"&&x!==""||typeof x=="number")return x=lc(""+x,g.mode,d),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case na:return d=Ma(x.type,x.key,x.props,null,g.mode,d),d.ref=$i(g,null,x),d.return=g,d;case Hr:return x=cc(x,g.mode,d),x.return=g,x;case An:var w=x._init;return y(g,w(x._payload),d)}if(Qi(x)||zi(x))return x=gr(x,g.mode,d,null),x.return=g,x;fa(g,x)}return null}function v(g,x,d,w){var b=x!==null?x.key:null;if(typeof d=="string"&&d!==""||typeof d=="number")return b!==null?null:o(g,x,""+d,w);if(typeof d=="object"&&d!==null){switch(d.$$typeof){case na:return d.key===b?l(g,x,d,w):null;case Hr:return d.key===b?c(g,x,d,w):null;case An:return b=d._init,v(g,x,b(d._payload),w)}if(Qi(d)||zi(d))return b!==null?null:u(g,x,d,w,null);fa(g,d)}return null}function p(g,x,d,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(d)||null,o(x,g,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case na:return g=g.get(w.key===null?d:w.key)||null,l(x,g,w,b);case Hr:return g=g.get(w.key===null?d:w.key)||null,c(x,g,w,b);case An:var E=w._init;return p(g,x,d,E(w._payload),b)}if(Qi(w)||zi(w))return g=g.get(d)||null,u(x,g,w,b,null);fa(x,w)}return null}function h(g,x,d,w){for(var b=null,E=null,j=x,N=x=0,R=null;j!==null&&N<d.length;N++){j.index>N?(R=j,j=null):R=j.sibling;var P=v(g,j,d[N],w);if(P===null){j===null&&(j=R);break}t&&j&&P.alternate===null&&e(g,j),x=s(P,x,N),E===null?b=P:E.sibling=P,E=P,j=R}if(N===d.length)return n(g,j),Oe&&lr(g,N),b;if(j===null){for(;N<d.length;N++)j=y(g,d[N],w),j!==null&&(x=s(j,x,N),E===null?b=j:E.sibling=j,E=j);return Oe&&lr(g,N),b}for(j=r(g,j);N<d.length;N++)R=p(j,g,N,d[N],w),R!==null&&(t&&R.alternate!==null&&j.delete(R.key===null?N:R.key),x=s(R,x,N),E===null?b=R:E.sibling=R,E=R);return t&&j.forEach(function(D){return e(g,D)}),Oe&&lr(g,N),b}function m(g,x,d,w){var b=zi(d);if(typeof b!="function")throw Error(ne(150));if(d=b.call(d),d==null)throw Error(ne(151));for(var E=b=null,j=x,N=x=0,R=null,P=d.next();j!==null&&!P.done;N++,P=d.next()){j.index>N?(R=j,j=null):R=j.sibling;var D=v(g,j,P.value,w);if(D===null){j===null&&(j=R);break}t&&j&&D.alternate===null&&e(g,j),x=s(D,x,N),E===null?b=D:E.sibling=D,E=D,j=R}if(P.done)return n(g,j),Oe&&lr(g,N),b;if(j===null){for(;!P.done;N++,P=d.next())P=y(g,P.value,w),P!==null&&(x=s(P,x,N),E===null?b=P:E.sibling=P,E=P);return Oe&&lr(g,N),b}for(j=r(g,j);!P.done;N++,P=d.next())P=p(j,g,N,P.value,w),P!==null&&(t&&P.alternate!==null&&j.delete(P.key===null?N:P.key),x=s(P,x,N),E===null?b=P:E.sibling=P,E=P);return t&&j.forEach(function(C){return e(g,C)}),Oe&&lr(g,N),b}function _(g,x,d,w){if(typeof d=="object"&&d!==null&&d.type===$r&&d.key===null&&(d=d.props.children),typeof d=="object"&&d!==null){switch(d.$$typeof){case na:e:{for(var b=d.key,E=x;E!==null;){if(E.key===b){if(b=d.type,b===$r){if(E.tag===7){n(g,E.sibling),x=i(E,d.props.children),x.return=g,g=x;break e}}else if(E.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===An&&Yh(b)===E.type){n(g,E.sibling),x=i(E,d.props),x.ref=$i(g,E,d),x.return=g,g=x;break e}n(g,E);break}else e(g,E);E=E.sibling}d.type===$r?(x=gr(d.props.children,g.mode,w,d.key),x.return=g,g=x):(w=Ma(d.type,d.key,d.props,null,g.mode,w),w.ref=$i(g,x,d),w.return=g,g=w)}return a(g);case Hr:e:{for(E=d.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===d.containerInfo&&x.stateNode.implementation===d.implementation){n(g,x.sibling),x=i(x,d.children||[]),x.return=g,g=x;break e}else{n(g,x);break}else e(g,x);x=x.sibling}x=cc(d,g.mode,w),x.return=g,g=x}return a(g);case An:return E=d._init,_(g,x,E(d._payload),w)}if(Qi(d))return h(g,x,d,w);if(zi(d))return m(g,x,d,w);fa(g,d)}return typeof d=="string"&&d!==""||typeof d=="number"?(d=""+d,x!==null&&x.tag===6?(n(g,x.sibling),x=i(x,d),x.return=g,g=x):(n(g,x),x=lc(d,g.mode,w),x.return=g,g=x),a(g)):n(g,x)}return _}var ui=qp(!0),Zp=qp(!1),ro=Qn(null),io=null,Qr=null,cd=null;function ud(){cd=Qr=io=null}function dd(t){var e=ro.current;Re(ro),t._currentValue=e}function nu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function si(t,e){io=t,cd=Qr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mt=!0),t.firstContext=null)}function Ft(t){var e=t._currentValue;if(cd!==t)if(t={context:t,memoizedValue:e,next:null},Qr===null){if(io===null)throw Error(ne(308));Qr=t,io.dependencies={lanes:0,firstContext:t}}else Qr=Qr.next=t;return e}var hr=null;function hd(t){hr===null?hr=[t]:hr.push(t)}function Qp(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,hd(e)):(n.next=i.next,i.next=n),e.interleaved=n,wn(t,r)}function wn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var On=!1;function fd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Hn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,wn(t,n)}return i=r.interleaved,i===null?(e.next=e,hd(r)):(e.next=i.next,i.next=e),r.interleaved=e,wn(t,n)}function Ra(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qu(t,n)}}function Xh(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function so(t,e,n,r){var i=t.updateQueue;On=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var y=i.baseState;a=0,u=c=l=null,o=s;do{var v=o.lane,p=o.eventTime;if((r&v)===v){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=t,m=o;switch(v=e,p=n,m.tag){case 1:if(h=m.payload,typeof h=="function"){y=h.call(p,y,v);break e}y=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=m.payload,v=typeof h=="function"?h.call(p,y,v):h,v==null)break e;y=Me({},y,v);break e;case 2:On=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[o]:v.push(o))}else p={eventTime:p,lane:v,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=y):u=u.next=p,a|=v;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;v=o,o=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(u===null&&(l=y),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);wr|=a,t.lanes=a,t.memoizedState=y}}function qh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ne(191,i));i.call(r)}}}var Bs={},rn=Qn(Bs),Ss=Qn(Bs),ks=Qn(Bs);function fr(t){if(t===Bs)throw Error(ne(174));return t}function pd(t,e){switch(Pe(ks,e),Pe(Ss,t),Pe(rn,Bs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ic(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ic(e,t)}Re(rn),Pe(rn,e)}function di(){Re(rn),Re(Ss),Re(ks)}function e1(t){fr(ks.current);var e=fr(rn.current),n=Ic(e,t.type);e!==n&&(Pe(Ss,t),Pe(rn,n))}function md(t){Ss.current===t&&(Re(rn),Re(Ss))}var Le=Qn(0);function ao(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var nc=[];function gd(){for(var t=0;t<nc.length;t++)nc[t]._workInProgressVersionPrimary=null;nc.length=0}var Aa=Sn.ReactCurrentDispatcher,rc=Sn.ReactCurrentBatchConfig,_r=0,Ie=null,Xe=null,Je=null,oo=!1,os=!1,Cs=0,Sy=0;function it(){throw Error(ne(321))}function yd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Kt(t[n],e[n]))return!1;return!0}function vd(t,e,n,r,i,s){if(_r=s,Ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Aa.current=t===null||t.memoizedState===null?Ey:jy,t=n(r,i),os){s=0;do{if(os=!1,Cs=0,25<=s)throw Error(ne(301));s+=1,Je=Xe=null,e.updateQueue=null,Aa.current=Py,t=n(r,i)}while(os)}if(Aa.current=lo,e=Xe!==null&&Xe.next!==null,_r=0,Je=Xe=Ie=null,oo=!1,e)throw Error(ne(300));return t}function xd(){var t=Cs!==0;return Cs=0,t}function Jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Ie.memoizedState=Je=t:Je=Je.next=t,Je}function Lt(){if(Xe===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var e=Je===null?Ie.memoizedState:Je.next;if(e!==null)Je=e,Xe=t;else{if(t===null)throw Error(ne(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Je===null?Ie.memoizedState=Je=t:Je=Je.next=t}return Je}function Ns(t,e){return typeof e=="function"?e(t):e}function ic(t){var e=Lt(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=Xe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,c=s;do{var u=c.lane;if((_r&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var y={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=y,a=r):l=l.next=y,Ie.lanes|=u,wr|=u}c=c.next}while(c!==null&&c!==s);l===null?a=r:l.next=o,Kt(r,e.memoizedState)||(mt=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ie.lanes|=s,wr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function sc(t){var e=Lt(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Kt(s,e.memoizedState)||(mt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function t1(){}function n1(t,e){var n=Ie,r=Lt(),i=e(),s=!Kt(r.memoizedState,i);if(s&&(r.memoizedState=i,mt=!0),r=r.queue,_d(s1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Je!==null&&Je.memoizedState.tag&1){if(n.flags|=2048,Es(9,i1.bind(null,n,r,i,e),void 0,null),et===null)throw Error(ne(349));_r&30||r1(n,e,i)}return i}function r1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function i1(t,e,n,r){e.value=n,e.getSnapshot=r,a1(e)&&o1(t)}function s1(t,e,n){return n(function(){a1(e)&&o1(t)})}function a1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Kt(t,n)}catch{return!0}}function o1(t){var e=wn(t,1);e!==null&&Vt(e,t,1,-1)}function Zh(t){var e=Jt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:t},e.queue=t,t=t.dispatch=Ny.bind(null,Ie,t),[e.memoizedState,t]}function Es(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function l1(){return Lt().memoizedState}function Oa(t,e,n,r){var i=Jt();Ie.flags|=t,i.memoizedState=Es(1|e,n,void 0,r===void 0?null:r)}function Po(t,e,n,r){var i=Lt();r=r===void 0?null:r;var s=void 0;if(Xe!==null){var a=Xe.memoizedState;if(s=a.destroy,r!==null&&yd(r,a.deps)){i.memoizedState=Es(e,n,s,r);return}}Ie.flags|=t,i.memoizedState=Es(1|e,n,s,r)}function Qh(t,e){return Oa(8390656,8,t,e)}function _d(t,e){return Po(2048,8,t,e)}function c1(t,e){return Po(4,2,t,e)}function u1(t,e){return Po(4,4,t,e)}function d1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function h1(t,e,n){return n=n!=null?n.concat([t]):null,Po(4,4,d1.bind(null,e,t),n)}function wd(){}function f1(t,e){var n=Lt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function p1(t,e){var n=Lt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function m1(t,e,n){return _r&21?(Kt(n,e)||(n=_p(),Ie.lanes|=n,wr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mt=!0),t.memoizedState=n)}function ky(t,e){var n=Ce;Ce=n!==0&&4>n?n:4,t(!0);var r=rc.transition;rc.transition={};try{t(!1),e()}finally{Ce=n,rc.transition=r}}function g1(){return Lt().memoizedState}function Cy(t,e,n){var r=Vn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},y1(t))v1(e,n);else if(n=Qp(t,e,n,r),n!==null){var i=dt();Vt(n,t,r,i),x1(n,e,r)}}function Ny(t,e,n){var r=Vn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(y1(t))v1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Kt(o,a)){var l=e.interleaved;l===null?(i.next=i,hd(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Qp(t,e,i,r),n!==null&&(i=dt(),Vt(n,t,r,i),x1(n,e,r))}}function y1(t){var e=t.alternate;return t===Ie||e!==null&&e===Ie}function v1(t,e){os=oo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function x1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qu(t,n)}}var lo={readContext:Ft,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},Ey={readContext:Ft,useCallback:function(t,e){return Jt().memoizedState=[t,e===void 0?null:e],t},useContext:Ft,useEffect:Qh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Oa(4194308,4,d1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Oa(4194308,4,t,e)},useInsertionEffect:function(t,e){return Oa(4,2,t,e)},useMemo:function(t,e){var n=Jt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Jt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Cy.bind(null,Ie,t),[r.memoizedState,t]},useRef:function(t){var e=Jt();return t={current:t},e.memoizedState=t},useState:Zh,useDebugValue:wd,useDeferredValue:function(t){return Jt().memoizedState=t},useTransition:function(){var t=Zh(!1),e=t[0];return t=ky.bind(null,t[1]),Jt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ie,i=Jt();if(Oe){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=e(),et===null)throw Error(ne(349));_r&30||r1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Qh(s1.bind(null,r,s,t),[t]),r.flags|=2048,Es(9,i1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Jt(),e=et.identifierPrefix;if(Oe){var n=gn,r=mn;n=(r&~(1<<32-$t(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Cs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Sy++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jy={readContext:Ft,useCallback:f1,useContext:Ft,useEffect:_d,useImperativeHandle:h1,useInsertionEffect:c1,useLayoutEffect:u1,useMemo:p1,useReducer:ic,useRef:l1,useState:function(){return ic(Ns)},useDebugValue:wd,useDeferredValue:function(t){var e=Lt();return m1(e,Xe.memoizedState,t)},useTransition:function(){var t=ic(Ns)[0],e=Lt().memoizedState;return[t,e]},useMutableSource:t1,useSyncExternalStore:n1,useId:g1,unstable_isNewReconciler:!1},Py={readContext:Ft,useCallback:f1,useContext:Ft,useEffect:_d,useImperativeHandle:h1,useInsertionEffect:c1,useLayoutEffect:u1,useMemo:p1,useReducer:sc,useRef:l1,useState:function(){return sc(Ns)},useDebugValue:wd,useDeferredValue:function(t){var e=Lt();return Xe===null?e.memoizedState=t:m1(e,Xe.memoizedState,t)},useTransition:function(){var t=sc(Ns)[0],e=Lt().memoizedState;return[t,e]},useMutableSource:t1,useSyncExternalStore:n1,useId:g1,unstable_isNewReconciler:!1};function Ut(t,e){if(t&&t.defaultProps){e=Me({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ru(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Me({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var To={isMounted:function(t){return(t=t._reactInternals)?Pr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=dt(),i=Vn(t),s=yn(r,i);s.payload=e,n!=null&&(s.callback=n),e=Hn(t,s,i),e!==null&&(Vt(e,t,i,r),Ra(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=dt(),i=Vn(t),s=yn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Hn(t,s,i),e!==null&&(Vt(e,t,i,r),Ra(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dt(),r=Vn(t),i=yn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Hn(t,i,r),e!==null&&(Vt(e,t,r,n),Ra(e,t,r))}};function Jh(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!xs(n,r)||!xs(i,s):!0}function _1(t,e,n){var r=!1,i=Xn,s=e.contextType;return typeof s=="object"&&s!==null?s=Ft(s):(i=yt(e)?vr:lt.current,r=e.contextTypes,s=(r=r!=null)?li(t,i):Xn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=To,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ef(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&To.enqueueReplaceState(e,e.state,null)}function iu(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},fd(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ft(s):(s=yt(e)?vr:lt.current,i.context=li(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ru(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&To.enqueueReplaceState(i,i.state,null),so(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function hi(t,e){try{var n="",r=e;do n+=r2(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ac(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function su(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ty=typeof WeakMap=="function"?WeakMap:Map;function w1(t,e,n){n=yn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){uo||(uo=!0,mu=r),su(t,e)},n}function b1(t,e,n){n=yn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){su(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){su(t,e),typeof r!="function"&&($n===null?$n=new Set([this]):$n.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function tf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Ty;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=$y.bind(null,t,e,n),e.then(t,t))}function nf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rf(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=yn(-1,1),e.tag=2,Hn(n,e,1))),n.lanes|=1),t)}var Ry=Sn.ReactCurrentOwner,mt=!1;function ut(t,e,n,r){e.child=t===null?Zp(e,null,n,r):ui(e,t.child,n,r)}function sf(t,e,n,r,i){n=n.render;var s=e.ref;return si(e,i),r=vd(t,e,n,r,s,i),n=xd(),t!==null&&!mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,bn(t,e,i)):(Oe&&n&&ad(e),e.flags|=1,ut(t,e,r,i),e.child)}function af(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Pd(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,S1(t,e,s,r,i)):(t=Ma(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:xs,n(a,r)&&t.ref===e.ref)return bn(t,e,i)}return e.flags|=1,t=Wn(s,r),t.ref=e.ref,t.return=e,e.child=t}function S1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(xs(s,r)&&t.ref===e.ref)if(mt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(mt=!0);else return e.lanes=t.lanes,bn(t,e,i)}return au(t,e,n,r,i)}function k1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(ei,wt),wt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pe(ei,wt),wt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Pe(ei,wt),wt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Pe(ei,wt),wt|=r;return ut(t,e,i,n),e.child}function C1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function au(t,e,n,r,i){var s=yt(n)?vr:lt.current;return s=li(e,s),si(e,i),n=vd(t,e,n,r,s,i),r=xd(),t!==null&&!mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,bn(t,e,i)):(Oe&&r&&ad(e),e.flags|=1,ut(t,e,n,i),e.child)}function of(t,e,n,r,i){if(yt(n)){var s=!0;eo(e)}else s=!1;if(si(e,i),e.stateNode===null)Fa(t,e),_1(e,n,r),iu(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ft(c):(c=yt(n)?vr:lt.current,c=li(e,c));var u=n.getDerivedStateFromProps,y=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";y||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&ef(e,a,r,c),On=!1;var v=e.memoizedState;a.state=v,so(e,r,a,i),l=e.memoizedState,o!==r||v!==l||gt.current||On?(typeof u=="function"&&(ru(e,n,u,r),l=e.memoizedState),(o=On||Jh(e,n,o,r,v,l,c))?(y||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Jp(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Ut(e.type,o),a.props=c,y=e.pendingProps,v=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ft(l):(l=yt(n)?vr:lt.current,l=li(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==y||v!==l)&&ef(e,a,r,l),On=!1,v=e.memoizedState,a.state=v,so(e,r,a,i);var h=e.memoizedState;o!==y||v!==h||gt.current||On?(typeof p=="function"&&(ru(e,n,p,r),h=e.memoizedState),(c=On||Jh(e,n,c,r,v,h,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,h,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,h,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=h),a.props=r,a.state=h,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return ou(t,e,n,r,s,i)}function ou(t,e,n,r,i,s){C1(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Vh(e,n,!1),bn(t,e,s);r=e.stateNode,Ry.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ui(e,t.child,null,s),e.child=ui(e,null,o,s)):ut(t,e,o,s),e.memoizedState=r.state,i&&Vh(e,n,!0),e.child}function N1(t){var e=t.stateNode;e.pendingContext?$h(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$h(t,e.context,!1),pd(t,e.containerInfo)}function lf(t,e,n,r,i){return ci(),ld(i),e.flags|=256,ut(t,e,n,r),e.child}var lu={dehydrated:null,treeContext:null,retryLane:0};function cu(t){return{baseLanes:t,cachePool:null,transitions:null}}function E1(t,e,n){var r=e.pendingProps,i=Le.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Pe(Le,i&1),t===null)return tu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Oo(a,r,0,null),t=gr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=cu(n),e.memoizedState=lu,t):bd(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Ay(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Wn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Wn(o,s):(s=gr(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?cu(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=lu,r}return s=t.child,t=s.sibling,r=Wn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function bd(t,e){return e=Oo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function pa(t,e,n,r){return r!==null&&ld(r),ui(e,t.child,null,n),t=bd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ay(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=ac(Error(ne(422))),pa(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Oo({mode:"visible",children:r.children},i,0,null),s=gr(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ui(e,t.child,null,a),e.child.memoizedState=cu(a),e.memoizedState=lu,s);if(!(e.mode&1))return pa(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(ne(419)),r=ac(s,r,void 0),pa(t,e,a,r)}if(o=(a&t.childLanes)!==0,mt||o){if(r=et,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,wn(t,i),Vt(r,t,i,-1))}return jd(),r=ac(Error(ne(421))),pa(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Vy.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,St=Gn(i.nextSibling),kt=e,Oe=!0,Gt=null,t!==null&&(Tt[Rt++]=mn,Tt[Rt++]=gn,Tt[Rt++]=xr,mn=t.id,gn=t.overflow,xr=e),e=bd(e,r.children),e.flags|=4096,e)}function cf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),nu(t.return,e,n)}function oc(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function j1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ut(t,e,r.children,n),r=Le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cf(t,n,e);else if(t.tag===19)cf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pe(Le,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ao(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),oc(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ao(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}oc(e,!0,n,null,s);break;case"together":oc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fa(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function bn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),wr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ne(153));if(e.child!==null){for(t=e.child,n=Wn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Oy(t,e,n){switch(e.tag){case 3:N1(e),ci();break;case 5:e1(e);break;case 1:yt(e.type)&&eo(e);break;case 4:pd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pe(ro,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pe(Le,Le.current&1),e.flags|=128,null):n&e.child.childLanes?E1(t,e,n):(Pe(Le,Le.current&1),t=bn(t,e,n),t!==null?t.sibling:null);Pe(Le,Le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return j1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pe(Le,Le.current),r)break;return null;case 22:case 23:return e.lanes=0,k1(t,e,n)}return bn(t,e,n)}var P1,uu,T1,R1;P1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};uu=function(){};T1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,fr(rn.current);var s=null;switch(n){case"input":i=Ac(t,i),r=Ac(t,r),s=[];break;case"select":i=Me({},i,{value:void 0}),r=Me({},r,{value:void 0}),s=[];break;case"textarea":i=Lc(t,i),r=Lc(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Qa)}Mc(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(hs.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(hs.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Te("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};R1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Vi(t,e){if(!Oe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function st(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Fy(t,e,n){var r=e.pendingProps;switch(od(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(e),null;case 1:return yt(e.type)&&Ja(),st(e),null;case 3:return r=e.stateNode,di(),Re(gt),Re(lt),gd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ha(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gt!==null&&(vu(Gt),Gt=null))),uu(t,e),st(e),null;case 5:md(e);var i=fr(ks.current);if(n=e.type,t!==null&&e.stateNode!=null)T1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ne(166));return st(e),null}if(t=fr(rn.current),ha(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[en]=e,r[bs]=s,t=(e.mode&1)!==0,n){case"dialog":Te("cancel",r),Te("close",r);break;case"iframe":case"object":case"embed":Te("load",r);break;case"video":case"audio":for(i=0;i<es.length;i++)Te(es[i],r);break;case"source":Te("error",r);break;case"img":case"image":case"link":Te("error",r),Te("load",r);break;case"details":Te("toggle",r);break;case"input":yh(r,s),Te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Te("invalid",r);break;case"textarea":xh(r,s),Te("invalid",r)}Mc(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&da(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&da(r.textContent,o,t),i=["children",""+o]):hs.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Te("scroll",r)}switch(n){case"input":ra(r),vh(r,s,!0);break;case"textarea":ra(r),_h(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Qa)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sp(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[en]=e,t[bs]=r,P1(t,e,!1,!1),e.stateNode=t;e:{switch(a=Dc(n,r),n){case"dialog":Te("cancel",t),Te("close",t),i=r;break;case"iframe":case"object":case"embed":Te("load",t),i=r;break;case"video":case"audio":for(i=0;i<es.length;i++)Te(es[i],t);i=r;break;case"source":Te("error",t),i=r;break;case"img":case"image":case"link":Te("error",t),Te("load",t),i=r;break;case"details":Te("toggle",t),i=r;break;case"input":yh(t,r),i=Ac(t,r),Te("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Me({},r,{value:void 0}),Te("invalid",t);break;case"textarea":xh(t,r),i=Lc(t,r),Te("invalid",t);break;default:i=r}Mc(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?lp(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ap(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&fs(t,l):typeof l=="number"&&fs(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(hs.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Te("scroll",t):l!=null&&Wu(t,s,l,a))}switch(n){case"input":ra(t),vh(t,r,!1);break;case"textarea":ra(t),_h(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Yn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ti(t,!!r.multiple,s,!1):r.defaultValue!=null&&ti(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Qa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return st(e),null;case 6:if(t&&e.stateNode!=null)R1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ne(166));if(n=fr(ks.current),fr(rn.current),ha(e)){if(r=e.stateNode,n=e.memoizedProps,r[en]=e,(s=r.nodeValue!==n)&&(t=kt,t!==null))switch(t.tag){case 3:da(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&da(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[en]=e,e.stateNode=r}return st(e),null;case 13:if(Re(Le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Oe&&St!==null&&e.mode&1&&!(e.flags&128))Xp(),ci(),e.flags|=98560,s=!1;else if(s=ha(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ne(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ne(317));s[en]=e}else ci(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;st(e),s=!1}else Gt!==null&&(vu(Gt),Gt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?qe===0&&(qe=3):jd())),e.updateQueue!==null&&(e.flags|=4),st(e),null);case 4:return di(),uu(t,e),t===null&&_s(e.stateNode.containerInfo),st(e),null;case 10:return dd(e.type._context),st(e),null;case 17:return yt(e.type)&&Ja(),st(e),null;case 19:if(Re(Le),s=e.memoizedState,s===null)return st(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Vi(s,!1);else{if(qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ao(t),a!==null){for(e.flags|=128,Vi(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pe(Le,Le.current&1|2),e.child}t=t.sibling}s.tail!==null&&He()>fi&&(e.flags|=128,r=!0,Vi(s,!1),e.lanes=4194304)}else{if(!r)if(t=ao(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Vi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Oe)return st(e),null}else 2*He()-s.renderingStartTime>fi&&n!==1073741824&&(e.flags|=128,r=!0,Vi(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=He(),e.sibling=null,n=Le.current,Pe(Le,r?n&1|2:n&1),e):(st(e),null);case 22:case 23:return Ed(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?wt&1073741824&&(st(e),e.subtreeFlags&6&&(e.flags|=8192)):st(e),null;case 24:return null;case 25:return null}throw Error(ne(156,e.tag))}function Ly(t,e){switch(od(e),e.tag){case 1:return yt(e.type)&&Ja(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return di(),Re(gt),Re(lt),gd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return md(e),null;case 13:if(Re(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ne(340));ci()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Re(Le),null;case 4:return di(),null;case 10:return dd(e.type._context),null;case 22:case 23:return Ed(),null;case 24:return null;default:return null}}var ma=!1,at=!1,Iy=typeof WeakSet=="function"?WeakSet:Set,le=null;function Jr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(t,e,r)}else n.current=null}function du(t,e,n){try{n()}catch(r){ze(t,e,r)}}var uf=!1;function My(t,e){if(Yc=Xa,t=Ip(),sd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,u=0,y=t,v=null;t:for(;;){for(var p;y!==n||i!==0&&y.nodeType!==3||(o=a+i),y!==s||r!==0&&y.nodeType!==3||(l=a+r),y.nodeType===3&&(a+=y.nodeValue.length),(p=y.firstChild)!==null;)v=y,y=p;for(;;){if(y===t)break t;if(v===n&&++c===i&&(o=a),v===s&&++u===r&&(l=a),(p=y.nextSibling)!==null)break;y=v,v=y.parentNode}y=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xc={focusedElem:t,selectionRange:n},Xa=!1,le=e;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){e=le;try{var h=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var m=h.memoizedProps,_=h.memoizedState,g=e.stateNode,x=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:Ut(e.type,m),_);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var d=e.stateNode.containerInfo;d.nodeType===1?d.textContent="":d.nodeType===9&&d.documentElement&&d.removeChild(d.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(w){ze(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}return h=uf,uf=!1,h}function ls(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&du(e,n,s)}i=i.next}while(i!==r)}}function Ro(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function hu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function A1(t){var e=t.alternate;e!==null&&(t.alternate=null,A1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[en],delete e[bs],delete e[Qc],delete e[xy],delete e[_y])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function O1(t){return t.tag===5||t.tag===3||t.tag===4}function df(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||O1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qa));else if(r!==4&&(t=t.child,t!==null))for(fu(t,e,n),t=t.sibling;t!==null;)fu(t,e,n),t=t.sibling}function pu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(pu(t,e,n),t=t.sibling;t!==null;)pu(t,e,n),t=t.sibling}var tt=null,Bt=!1;function Pn(t,e,n){for(n=n.child;n!==null;)F1(t,e,n),n=n.sibling}function F1(t,e,n){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(So,n)}catch{}switch(n.tag){case 5:at||Jr(n,e);case 6:var r=tt,i=Bt;tt=null,Pn(t,e,n),tt=r,Bt=i,tt!==null&&(Bt?(t=tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):tt.removeChild(n.stateNode));break;case 18:tt!==null&&(Bt?(t=tt,n=n.stateNode,t.nodeType===8?ec(t.parentNode,n):t.nodeType===1&&ec(t,n),ys(t)):ec(tt,n.stateNode));break;case 4:r=tt,i=Bt,tt=n.stateNode.containerInfo,Bt=!0,Pn(t,e,n),tt=r,Bt=i;break;case 0:case 11:case 14:case 15:if(!at&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&du(n,e,a),i=i.next}while(i!==r)}Pn(t,e,n);break;case 1:if(!at&&(Jr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ze(n,e,o)}Pn(t,e,n);break;case 21:Pn(t,e,n);break;case 22:n.mode&1?(at=(r=at)||n.memoizedState!==null,Pn(t,e,n),at=r):Pn(t,e,n);break;default:Pn(t,e,n)}}function hf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Iy),e.forEach(function(r){var i=Wy.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Mt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:tt=o.stateNode,Bt=!1;break e;case 3:tt=o.stateNode.containerInfo,Bt=!0;break e;case 4:tt=o.stateNode.containerInfo,Bt=!0;break e}o=o.return}if(tt===null)throw Error(ne(160));F1(s,a,i),tt=null,Bt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ze(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)L1(e,t),e=e.sibling}function L1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mt(e,t),Zt(t),r&4){try{ls(3,t,t.return),Ro(3,t)}catch(m){ze(t,t.return,m)}try{ls(5,t,t.return)}catch(m){ze(t,t.return,m)}}break;case 1:Mt(e,t),Zt(t),r&512&&n!==null&&Jr(n,n.return);break;case 5:if(Mt(e,t),Zt(t),r&512&&n!==null&&Jr(n,n.return),t.flags&32){var i=t.stateNode;try{fs(i,"")}catch(m){ze(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&rp(i,s),Dc(o,a);var c=Dc(o,s);for(a=0;a<l.length;a+=2){var u=l[a],y=l[a+1];u==="style"?lp(i,y):u==="dangerouslySetInnerHTML"?ap(i,y):u==="children"?fs(i,y):Wu(i,u,y,c)}switch(o){case"input":Oc(i,s);break;case"textarea":ip(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?ti(i,!!s.multiple,p,!1):v!==!!s.multiple&&(s.defaultValue!=null?ti(i,!!s.multiple,s.defaultValue,!0):ti(i,!!s.multiple,s.multiple?[]:"",!1))}i[bs]=s}catch(m){ze(t,t.return,m)}}break;case 6:if(Mt(e,t),Zt(t),r&4){if(t.stateNode===null)throw Error(ne(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){ze(t,t.return,m)}}break;case 3:if(Mt(e,t),Zt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ys(e.containerInfo)}catch(m){ze(t,t.return,m)}break;case 4:Mt(e,t),Zt(t);break;case 13:Mt(e,t),Zt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Cd=He())),r&4&&hf(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(at=(c=at)||u,Mt(e,t),at=c):Mt(e,t),Zt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(le=t,u=t.child;u!==null;){for(y=le=u;le!==null;){switch(v=le,p=v.child,v.tag){case 0:case 11:case 14:case 15:ls(4,v,v.return);break;case 1:Jr(v,v.return);var h=v.stateNode;if(typeof h.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,h.props=e.memoizedProps,h.state=e.memoizedState,h.componentWillUnmount()}catch(m){ze(r,n,m)}}break;case 5:Jr(v,v.return);break;case 22:if(v.memoizedState!==null){pf(y);continue}}p!==null?(p.return=v,le=p):pf(y)}u=u.sibling}e:for(u=null,y=t;;){if(y.tag===5){if(u===null){u=y;try{i=y.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=y.stateNode,l=y.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=op("display",a))}catch(m){ze(t,t.return,m)}}}else if(y.tag===6){if(u===null)try{y.stateNode.nodeValue=c?"":y.memoizedProps}catch(m){ze(t,t.return,m)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===t)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;u===y&&(u=null),y=y.return}u===y&&(u=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:Mt(e,t),Zt(t),r&4&&hf(t);break;case 21:break;default:Mt(e,t),Zt(t)}}function Zt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(O1(n)){var r=n;break e}n=n.return}throw Error(ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(fs(i,""),r.flags&=-33);var s=df(t);pu(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=df(t);fu(t,o,a);break;default:throw Error(ne(161))}}catch(l){ze(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Dy(t,e,n){le=t,I1(t)}function I1(t,e,n){for(var r=(t.mode&1)!==0;le!==null;){var i=le,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||ma;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||at;o=ma;var c=at;if(ma=a,(at=l)&&!c)for(le=i;le!==null;)a=le,l=a.child,a.tag===22&&a.memoizedState!==null?mf(i):l!==null?(l.return=a,le=l):mf(i);for(;s!==null;)le=s,I1(s),s=s.sibling;le=i,ma=o,at=c}ff(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,le=s):ff(t)}}function ff(t){for(;le!==null;){var e=le;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:at||Ro(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!at)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ut(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&qh(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qh(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var y=u.dehydrated;y!==null&&ys(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}at||e.flags&512&&hu(e)}catch(v){ze(e,e.return,v)}}if(e===t){le=null;break}if(n=e.sibling,n!==null){n.return=e.return,le=n;break}le=e.return}}function pf(t){for(;le!==null;){var e=le;if(e===t){le=null;break}var n=e.sibling;if(n!==null){n.return=e.return,le=n;break}le=e.return}}function mf(t){for(;le!==null;){var e=le;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ro(4,e)}catch(l){ze(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ze(e,i,l)}}var s=e.return;try{hu(e)}catch(l){ze(e,s,l)}break;case 5:var a=e.return;try{hu(e)}catch(l){ze(e,a,l)}}}catch(l){ze(e,e.return,l)}if(e===t){le=null;break}var o=e.sibling;if(o!==null){o.return=e.return,le=o;break}le=e.return}}var zy=Math.ceil,co=Sn.ReactCurrentDispatcher,Sd=Sn.ReactCurrentOwner,Ot=Sn.ReactCurrentBatchConfig,be=0,et=null,Ke=null,nt=0,wt=0,ei=Qn(0),qe=0,js=null,wr=0,Ao=0,kd=0,cs=null,pt=null,Cd=0,fi=1/0,fn=null,uo=!1,mu=null,$n=null,ga=!1,Mn=null,ho=0,us=0,gu=null,La=-1,Ia=0;function dt(){return be&6?He():La!==-1?La:La=He()}function Vn(t){return t.mode&1?be&2&&nt!==0?nt&-nt:by.transition!==null?(Ia===0&&(Ia=_p()),Ia):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:Ep(t.type)),t):1}function Vt(t,e,n,r){if(50<us)throw us=0,gu=null,Error(ne(185));Ds(t,n,r),(!(be&2)||t!==et)&&(t===et&&(!(be&2)&&(Ao|=n),qe===4&&Ln(t,nt)),vt(t,r),n===1&&be===0&&!(e.mode&1)&&(fi=He()+500,jo&&Jn()))}function vt(t,e){var n=t.callbackNode;b2(t,e);var r=Ya(t,t===et?nt:0);if(r===0)n!==null&&Sh(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Sh(n),e===1)t.tag===0?wy(gf.bind(null,t)):Wp(gf.bind(null,t)),yy(function(){!(be&6)&&Jn()}),n=null;else{switch(wp(r)){case 1:n=Zu;break;case 4:n=vp;break;case 16:n=Ka;break;case 536870912:n=xp;break;default:n=Ka}n=$1(n,M1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function M1(t,e){if(La=-1,Ia=0,be&6)throw Error(ne(327));var n=t.callbackNode;if(ai()&&t.callbackNode!==n)return null;var r=Ya(t,t===et?nt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fo(t,r);else{e=r;var i=be;be|=2;var s=z1();(et!==t||nt!==e)&&(fn=null,fi=He()+500,mr(t,e));do try{Gy();break}catch(o){D1(t,o)}while(!0);ud(),co.current=s,be=i,Ke!==null?e=0:(et=null,nt=0,e=qe)}if(e!==0){if(e===2&&(i=Hc(t),i!==0&&(r=i,e=yu(t,i))),e===1)throw n=js,mr(t,0),Ln(t,r),vt(t,He()),n;if(e===6)Ln(t,r);else{if(i=t.current.alternate,!(r&30)&&!Uy(i)&&(e=fo(t,r),e===2&&(s=Hc(t),s!==0&&(r=s,e=yu(t,s))),e===1))throw n=js,mr(t,0),Ln(t,r),vt(t,He()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ne(345));case 2:cr(t,pt,fn);break;case 3:if(Ln(t,r),(r&130023424)===r&&(e=Cd+500-He(),10<e)){if(Ya(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){dt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Zc(cr.bind(null,t,pt,fn),e);break}cr(t,pt,fn);break;case 4:if(Ln(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-$t(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=He()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zy(r/1960))-r,10<r){t.timeoutHandle=Zc(cr.bind(null,t,pt,fn),r);break}cr(t,pt,fn);break;case 5:cr(t,pt,fn);break;default:throw Error(ne(329))}}}return vt(t,He()),t.callbackNode===n?M1.bind(null,t):null}function yu(t,e){var n=cs;return t.current.memoizedState.isDehydrated&&(mr(t,e).flags|=256),t=fo(t,e),t!==2&&(e=pt,pt=n,e!==null&&vu(e)),t}function vu(t){pt===null?pt=t:pt.push.apply(pt,t)}function Uy(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Kt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ln(t,e){for(e&=~kd,e&=~Ao,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$t(e),r=1<<n;t[n]=-1,e&=~r}}function gf(t){if(be&6)throw Error(ne(327));ai();var e=Ya(t,0);if(!(e&1))return vt(t,He()),null;var n=fo(t,e);if(t.tag!==0&&n===2){var r=Hc(t);r!==0&&(e=r,n=yu(t,r))}if(n===1)throw n=js,mr(t,0),Ln(t,e),vt(t,He()),n;if(n===6)throw Error(ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,cr(t,pt,fn),vt(t,He()),null}function Nd(t,e){var n=be;be|=1;try{return t(e)}finally{be=n,be===0&&(fi=He()+500,jo&&Jn())}}function br(t){Mn!==null&&Mn.tag===0&&!(be&6)&&ai();var e=be;be|=1;var n=Ot.transition,r=Ce;try{if(Ot.transition=null,Ce=1,t)return t()}finally{Ce=r,Ot.transition=n,be=e,!(be&6)&&Jn()}}function Ed(){wt=ei.current,Re(ei)}function mr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,gy(n)),Ke!==null)for(n=Ke.return;n!==null;){var r=n;switch(od(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ja();break;case 3:di(),Re(gt),Re(lt),gd();break;case 5:md(r);break;case 4:di();break;case 13:Re(Le);break;case 19:Re(Le);break;case 10:dd(r.type._context);break;case 22:case 23:Ed()}n=n.return}if(et=t,Ke=t=Wn(t.current,null),nt=wt=e,qe=0,js=null,kd=Ao=wr=0,pt=cs=null,hr!==null){for(e=0;e<hr.length;e++)if(n=hr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}hr=null}return t}function D1(t,e){do{var n=Ke;try{if(ud(),Aa.current=lo,oo){for(var r=Ie.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}oo=!1}if(_r=0,Je=Xe=Ie=null,os=!1,Cs=0,Sd.current=null,n===null||n.return===null){qe=1,js=e,Ke=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=nt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,y=u.tag;if(!(u.mode&1)&&(y===0||y===11||y===15)){var v=u.alternate;v?(u.updateQueue=v.updateQueue,u.memoizedState=v.memoizedState,u.lanes=v.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=nf(a);if(p!==null){p.flags&=-257,rf(p,a,o,s,e),p.mode&1&&tf(s,c,e),e=p,l=c;var h=e.updateQueue;if(h===null){var m=new Set;m.add(l),e.updateQueue=m}else h.add(l);break e}else{if(!(e&1)){tf(s,c,e),jd();break e}l=Error(ne(426))}}else if(Oe&&o.mode&1){var _=nf(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),rf(_,a,o,s,e),ld(hi(l,o));break e}}s=l=hi(l,o),qe!==4&&(qe=2),cs===null?cs=[s]:cs.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=w1(s,l,e);Xh(s,g);break e;case 1:o=l;var x=s.type,d=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&($n===null||!$n.has(d)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=b1(s,o,e);Xh(s,w);break e}}s=s.return}while(s!==null)}B1(n)}catch(b){e=b,Ke===n&&n!==null&&(Ke=n=n.return);continue}break}while(!0)}function z1(){var t=co.current;return co.current=lo,t===null?lo:t}function jd(){(qe===0||qe===3||qe===2)&&(qe=4),et===null||!(wr&268435455)&&!(Ao&268435455)||Ln(et,nt)}function fo(t,e){var n=be;be|=2;var r=z1();(et!==t||nt!==e)&&(fn=null,mr(t,e));do try{By();break}catch(i){D1(t,i)}while(!0);if(ud(),be=n,co.current=r,Ke!==null)throw Error(ne(261));return et=null,nt=0,qe}function By(){for(;Ke!==null;)U1(Ke)}function Gy(){for(;Ke!==null&&!f2();)U1(Ke)}function U1(t){var e=H1(t.alternate,t,wt);t.memoizedProps=t.pendingProps,e===null?B1(t):Ke=e,Sd.current=null}function B1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ly(n,e),n!==null){n.flags&=32767,Ke=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qe=6,Ke=null;return}}else if(n=Fy(n,e,wt),n!==null){Ke=n;return}if(e=e.sibling,e!==null){Ke=e;return}Ke=e=t}while(e!==null);qe===0&&(qe=5)}function cr(t,e,n){var r=Ce,i=Ot.transition;try{Ot.transition=null,Ce=1,Hy(t,e,n,r)}finally{Ot.transition=i,Ce=r}return null}function Hy(t,e,n,r){do ai();while(Mn!==null);if(be&6)throw Error(ne(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ne(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(S2(t,s),t===et&&(Ke=et=null,nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ga||(ga=!0,$1(Ka,function(){return ai(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ot.transition,Ot.transition=null;var a=Ce;Ce=1;var o=be;be|=4,Sd.current=null,My(t,n),L1(n,t),cy(Xc),Xa=!!Yc,Xc=Yc=null,t.current=n,Dy(n),p2(),be=o,Ce=a,Ot.transition=s}else t.current=n;if(ga&&(ga=!1,Mn=t,ho=i),s=t.pendingLanes,s===0&&($n=null),y2(n.stateNode),vt(t,He()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(uo)throw uo=!1,t=mu,mu=null,t;return ho&1&&t.tag!==0&&ai(),s=t.pendingLanes,s&1?t===gu?us++:(us=0,gu=t):us=0,Jn(),null}function ai(){if(Mn!==null){var t=wp(ho),e=Ot.transition,n=Ce;try{if(Ot.transition=null,Ce=16>t?16:t,Mn===null)var r=!1;else{if(t=Mn,Mn=null,ho=0,be&6)throw Error(ne(331));var i=be;for(be|=4,le=t.current;le!==null;){var s=le,a=s.child;if(le.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(le=c;le!==null;){var u=le;switch(u.tag){case 0:case 11:case 15:ls(8,u,s)}var y=u.child;if(y!==null)y.return=u,le=y;else for(;le!==null;){u=le;var v=u.sibling,p=u.return;if(A1(u),u===c){le=null;break}if(v!==null){v.return=p,le=v;break}le=p}}}var h=s.alternate;if(h!==null){var m=h.child;if(m!==null){h.child=null;do{var _=m.sibling;m.sibling=null,m=_}while(m!==null)}}le=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,le=a;else e:for(;le!==null;){if(s=le,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ls(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,le=g;break e}le=s.return}}var x=t.current;for(le=x;le!==null;){a=le;var d=a.child;if(a.subtreeFlags&2064&&d!==null)d.return=a,le=d;else e:for(a=x;le!==null;){if(o=le,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ro(9,o)}}catch(b){ze(o,o.return,b)}if(o===a){le=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,le=w;break e}le=o.return}}if(be=i,Jn(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(So,t)}catch{}r=!0}return r}finally{Ce=n,Ot.transition=e}}return!1}function yf(t,e,n){e=hi(n,e),e=w1(t,e,1),t=Hn(t,e,1),e=dt(),t!==null&&(Ds(t,1,e),vt(t,e))}function ze(t,e,n){if(t.tag===3)yf(t,t,n);else for(;e!==null;){if(e.tag===3){yf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($n===null||!$n.has(r))){t=hi(n,t),t=b1(e,t,1),e=Hn(e,t,1),t=dt(),e!==null&&(Ds(e,1,t),vt(e,t));break}}e=e.return}}function $y(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=dt(),t.pingedLanes|=t.suspendedLanes&n,et===t&&(nt&n)===n&&(qe===4||qe===3&&(nt&130023424)===nt&&500>He()-Cd?mr(t,0):kd|=n),vt(t,e)}function G1(t,e){e===0&&(t.mode&1?(e=aa,aa<<=1,!(aa&130023424)&&(aa=4194304)):e=1);var n=dt();t=wn(t,e),t!==null&&(Ds(t,e,n),vt(t,n))}function Vy(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),G1(t,n)}function Wy(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ne(314))}r!==null&&r.delete(e),G1(t,n)}var H1;H1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gt.current)mt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mt=!1,Oy(t,e,n);mt=!!(t.flags&131072)}else mt=!1,Oe&&e.flags&1048576&&Kp(e,no,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Fa(t,e),t=e.pendingProps;var i=li(e,lt.current);si(e,n),i=vd(null,e,r,t,i,n);var s=xd();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yt(r)?(s=!0,eo(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fd(e),i.updater=To,e.stateNode=i,i._reactInternals=e,iu(e,r,t,n),e=ou(null,e,r,!0,s,n)):(e.tag=0,Oe&&s&&ad(e),ut(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Fa(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Yy(r),t=Ut(r,t),i){case 0:e=au(null,e,r,t,n);break e;case 1:e=of(null,e,r,t,n);break e;case 11:e=sf(null,e,r,t,n);break e;case 14:e=af(null,e,r,Ut(r.type,t),n);break e}throw Error(ne(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ut(r,i),au(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ut(r,i),of(t,e,r,i,n);case 3:e:{if(N1(e),t===null)throw Error(ne(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Jp(t,e),so(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=hi(Error(ne(423)),e),e=lf(t,e,r,n,i);break e}else if(r!==i){i=hi(Error(ne(424)),e),e=lf(t,e,r,n,i);break e}else for(St=Gn(e.stateNode.containerInfo.firstChild),kt=e,Oe=!0,Gt=null,n=Zp(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ci(),r===i){e=bn(t,e,n);break e}ut(t,e,r,n)}e=e.child}return e;case 5:return e1(e),t===null&&tu(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,qc(r,i)?a=null:s!==null&&qc(r,s)&&(e.flags|=32),C1(t,e),ut(t,e,a,n),e.child;case 6:return t===null&&tu(e),null;case 13:return E1(t,e,n);case 4:return pd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ui(e,null,r,n):ut(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ut(r,i),sf(t,e,r,i,n);case 7:return ut(t,e,e.pendingProps,n),e.child;case 8:return ut(t,e,e.pendingProps.children,n),e.child;case 12:return ut(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Pe(ro,r._currentValue),r._currentValue=a,s!==null)if(Kt(s.value,a)){if(s.children===i.children&&!gt.current){e=bn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=yn(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),nu(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(ne(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),nu(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}ut(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,si(e,n),i=Ft(i),r=r(i),e.flags|=1,ut(t,e,r,n),e.child;case 14:return r=e.type,i=Ut(r,e.pendingProps),i=Ut(r.type,i),af(t,e,r,i,n);case 15:return S1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ut(r,i),Fa(t,e),e.tag=1,yt(r)?(t=!0,eo(e)):t=!1,si(e,n),_1(e,r,i),iu(e,r,i,n),ou(null,e,r,!0,t,n);case 19:return j1(t,e,n);case 22:return k1(t,e,n)}throw Error(ne(156,e.tag))};function $1(t,e){return yp(t,e)}function Ky(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(t,e,n,r){return new Ky(t,e,n,r)}function Pd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yy(t){if(typeof t=="function")return Pd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yu)return 11;if(t===Xu)return 14}return 2}function Wn(t,e){var n=t.alternate;return n===null?(n=At(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ma(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")Pd(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case $r:return gr(n.children,i,s,e);case Ku:a=8,i|=8;break;case jc:return t=At(12,n,e,i|2),t.elementType=jc,t.lanes=s,t;case Pc:return t=At(13,n,e,i),t.elementType=Pc,t.lanes=s,t;case Tc:return t=At(19,n,e,i),t.elementType=Tc,t.lanes=s,t;case ep:return Oo(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q0:a=10;break e;case J0:a=9;break e;case Yu:a=11;break e;case Xu:a=14;break e;case An:a=16,r=null;break e}throw Error(ne(130,t==null?t:typeof t,""))}return e=At(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function gr(t,e,n,r){return t=At(7,t,r,e),t.lanes=n,t}function Oo(t,e,n,r){return t=At(22,t,r,e),t.elementType=ep,t.lanes=n,t.stateNode={isHidden:!1},t}function lc(t,e,n){return t=At(6,t,null,e),t.lanes=n,t}function cc(t,e,n){return e=At(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Xy(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hl(0),this.expirationTimes=Hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Td(t,e,n,r,i,s,a,o,l){return t=new Xy(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=At(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fd(s),t}function qy(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function V1(t){if(!t)return Xn;t=t._reactInternals;e:{if(Pr(t)!==t||t.tag!==1)throw Error(ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ne(171))}if(t.tag===1){var n=t.type;if(yt(n))return Vp(t,n,e)}return e}function W1(t,e,n,r,i,s,a,o,l){return t=Td(n,r,!0,t,i,s,a,o,l),t.context=V1(null),n=t.current,r=dt(),i=Vn(n),s=yn(r,i),s.callback=e??null,Hn(n,s,i),t.current.lanes=i,Ds(t,i,r),vt(t,r),t}function Fo(t,e,n,r){var i=e.current,s=dt(),a=Vn(i);return n=V1(n),e.context===null?e.context=n:e.pendingContext=n,e=yn(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Hn(i,e,a),t!==null&&(Vt(t,i,a,s),Ra(t,i,a)),a}function po(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Rd(t,e){vf(t,e),(t=t.alternate)&&vf(t,e)}function Zy(){return null}var K1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ad(t){this._internalRoot=t}Lo.prototype.render=Ad.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ne(409));Fo(t,e,null,null)};Lo.prototype.unmount=Ad.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;br(function(){Fo(null,t,null,null)}),e[_n]=null}};function Lo(t){this._internalRoot=t}Lo.prototype.unstable_scheduleHydration=function(t){if(t){var e=kp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fn.length&&e!==0&&e<Fn[n].priority;n++);Fn.splice(n,0,t),n===0&&Np(t)}};function Od(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Io(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xf(){}function Qy(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=po(a);s.call(c)}}var a=W1(e,r,t,0,null,!1,!1,"",xf);return t._reactRootContainer=a,t[_n]=a.current,_s(t.nodeType===8?t.parentNode:t),br(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=po(l);o.call(c)}}var l=Td(t,0,!1,null,null,!1,!1,"",xf);return t._reactRootContainer=l,t[_n]=l.current,_s(t.nodeType===8?t.parentNode:t),br(function(){Fo(e,l,n,r)}),l}function Mo(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=po(a);o.call(l)}}Fo(e,a,t,i)}else a=Qy(n,e,t,i,r);return po(a)}bp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ji(e.pendingLanes);n!==0&&(Qu(e,n|1),vt(e,He()),!(be&6)&&(fi=He()+500,Jn()))}break;case 13:br(function(){var r=wn(t,1);if(r!==null){var i=dt();Vt(r,t,1,i)}}),Rd(t,1)}};Ju=function(t){if(t.tag===13){var e=wn(t,134217728);if(e!==null){var n=dt();Vt(e,t,134217728,n)}Rd(t,134217728)}};Sp=function(t){if(t.tag===13){var e=Vn(t),n=wn(t,e);if(n!==null){var r=dt();Vt(n,t,e,r)}Rd(t,e)}};kp=function(){return Ce};Cp=function(t,e){var n=Ce;try{return Ce=t,e()}finally{Ce=n}};Uc=function(t,e,n){switch(e){case"input":if(Oc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Eo(r);if(!i)throw Error(ne(90));np(r),Oc(r,i)}}}break;case"textarea":ip(t,n);break;case"select":e=n.value,e!=null&&ti(t,!!n.multiple,e,!1)}};dp=Nd;hp=br;var Jy={usingClientEntryPoint:!1,Events:[Us,Yr,Eo,cp,up,Nd]},Wi={findFiberByHostInstance:dr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},e5={bundleType:Wi.bundleType,version:Wi.version,rendererPackageName:Wi.rendererPackageName,rendererConfig:Wi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mp(t),t===null?null:t.stateNode},findFiberByHostInstance:Wi.findFiberByHostInstance||Zy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ya=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ya.isDisabled&&ya.supportsFiber)try{So=ya.inject(e5),nn=ya}catch{}}Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jy;Nt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Od(e))throw Error(ne(200));return qy(t,e,null,n)};Nt.createRoot=function(t,e){if(!Od(t))throw Error(ne(299));var n=!1,r="",i=K1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Td(t,1,!1,null,null,n,!1,r,i),t[_n]=e.current,_s(t.nodeType===8?t.parentNode:t),new Ad(e)};Nt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ne(188)):(t=Object.keys(t).join(","),Error(ne(268,t)));return t=mp(e),t=t===null?null:t.stateNode,t};Nt.flushSync=function(t){return br(t)};Nt.hydrate=function(t,e,n){if(!Io(e))throw Error(ne(200));return Mo(null,t,e,!0,n)};Nt.hydrateRoot=function(t,e,n){if(!Od(t))throw Error(ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=K1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=W1(e,null,t,1,n??null,i,!1,s,a),t[_n]=e.current,_s(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Lo(e)};Nt.render=function(t,e,n){if(!Io(e))throw Error(ne(200));return Mo(null,t,e,!1,n)};Nt.unmountComponentAtNode=function(t){if(!Io(t))throw Error(ne(40));return t._reactRootContainer?(br(function(){Mo(null,null,t,!1,function(){t._reactRootContainer=null,t[_n]=null})}),!0):!1};Nt.unstable_batchedUpdates=Nd;Nt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Io(n))throw Error(ne(200));if(t==null||t._reactInternals===void 0)throw Error(ne(38));return Mo(t,e,n,!1,r)};Nt.version="18.3.1-next-f1338f8080-20240426";function Y1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Y1)}catch(t){console.error(t)}}Y1(),Y0.exports=Nt;var t5=Y0.exports,_f=t5;Nc.createRoot=_f.createRoot,Nc.hydrateRoot=_f.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ps(){return Ps=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ps.apply(this,arguments)}var Dn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Dn||(Dn={}));const wf="popstate";function n5(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return xu("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:mo(i)}return i5(e,n,null,t)}function $e(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fd(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function r5(){return Math.random().toString(36).substr(2,8)}function bf(t,e){return{usr:t.state,key:t.key,idx:e}}function xu(t,e,n,r){return n===void 0&&(n=null),Ps({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Si(e):e,{state:n,key:e&&e.key||r||r5()})}function mo(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Si(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function i5(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=Dn.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(Ps({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function y(){o=Dn.Pop;let _=u(),g=_==null?null:_-c;c=_,l&&l({action:o,location:m.location,delta:g})}function v(_,g){o=Dn.Push;let x=xu(m.location,_,g);c=u()+1;let d=bf(x,c),w=m.createHref(x);try{a.pushState(d,"",w)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(w)}s&&l&&l({action:o,location:m.location,delta:1})}function p(_,g){o=Dn.Replace;let x=xu(m.location,_,g);c=u();let d=bf(x,c),w=m.createHref(x);a.replaceState(d,"",w),s&&l&&l({action:o,location:m.location,delta:0})}function h(_){let g=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof _=="string"?_:mo(_);return x=x.replace(/ $/,"%20"),$e(g,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,g)}let m={get action(){return o},get location(){return t(i,a)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(wf,y),l=_,()=>{i.removeEventListener(wf,y),l=null}},createHref(_){return e(i,_)},createURL:h,encodeLocation(_){let g=h(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:v,replace:p,go(_){return a.go(_)}};return m}var Sf;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Sf||(Sf={}));function s5(t,e,n){return n===void 0&&(n="/"),a5(t,e,n)}function a5(t,e,n,r){let i=typeof e=="string"?Si(e):e,s=Ld(i.pathname||"/",n);if(s==null)return null;let a=X1(t);o5(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=x5(s);o=g5(a[l],c)}return o}function X1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&($e(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Kn([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&($e(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),X1(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:p5(c,s.index),routesMeta:u})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of q1(s.path))i(s,a,l)}),e}function q1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=q1(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function o5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:m5(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const l5=/^:[\w-]+$/,c5=3,u5=2,d5=1,h5=10,f5=-2,kf=t=>t==="*";function p5(t,e){let n=t.split("/"),r=n.length;return n.some(kf)&&(r+=f5),e&&(r+=u5),n.filter(i=>!kf(i)).reduce((i,s)=>i+(l5.test(s)?c5:s===""?d5:h5),r)}function m5(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function g5(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",y=y5({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),v=l.route;if(!y)return null;Object.assign(i,y.params),a.push({params:i,pathname:Kn([s,y.pathname]),pathnameBase:k5(Kn([s,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(s=Kn([s,y.pathnameBase]))}return a}function y5(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=v5(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,u,y)=>{let{paramName:v,isOptional:p}=u;if(v==="*"){let m=o[y]||"";a=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const h=o[y];return p&&!h?c[v]=void 0:c[v]=(h||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function v5(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Fd(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function x5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fd(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ld(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const _5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,w5=t=>_5.test(t);function b5(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Si(t):t,s;if(n)if(w5(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Fd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?s=Cf(n.substring(1),"/"):s=Cf(n,e)}else s=e;return{pathname:s,search:C5(r),hash:N5(i)}}function Cf(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function uc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function S5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Id(t,e){let n=S5(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Md(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Si(t):(i=Ps({},t),$e(!i.pathname||!i.pathname.includes("?"),uc("?","pathname","search",i)),$e(!i.pathname||!i.pathname.includes("#"),uc("#","pathname","hash",i)),$e(!i.search||!i.search.includes("#"),uc("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let y=e.length-1;if(!r&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),y-=1;i.pathname=v.join("/")}o=y>=0?e[y]:"/"}let l=b5(i,o),c=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Kn=t=>t.join("/").replace(/\/\/+/g,"/"),k5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),C5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,N5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function E5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Z1=["post","put","patch","delete"];new Set(Z1);const j5=["get",...Z1];new Set(j5);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ts(){return Ts=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ts.apply(this,arguments)}const Dd=X.createContext(null),P5=X.createContext(null),er=X.createContext(null),Do=X.createContext(null),on=X.createContext({outlet:null,matches:[],isDataRoute:!1}),Q1=X.createContext(null);function T5(t,e){let{relative:n}=e===void 0?{}:e;ki()||$e(!1);let{basename:r,navigator:i}=X.useContext(er),{hash:s,pathname:a,search:o}=tm(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:Kn([r,a])),i.createHref({pathname:l,search:o,hash:s})}function ki(){return X.useContext(Do)!=null}function Ci(){return ki()||$e(!1),X.useContext(Do).location}function J1(t){X.useContext(er).static||X.useLayoutEffect(t)}function kn(){let{isDataRoute:t}=X.useContext(on);return t?V5():R5()}function R5(){ki()||$e(!1);let t=X.useContext(Dd),{basename:e,future:n,navigator:r}=X.useContext(er),{matches:i}=X.useContext(on),{pathname:s}=Ci(),a=JSON.stringify(Id(i,n.v7_relativeSplatPath)),o=X.useRef(!1);return J1(()=>{o.current=!0}),X.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let y=Md(c,JSON.parse(a),s,u.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Kn([e,y.pathname])),(u.replace?r.replace:r.push)(y,u.state,u)},[e,r,a,s,t])}const A5=X.createContext(null);function O5(t){let e=X.useContext(on).outlet;return e&&X.createElement(A5.Provider,{value:t},e)}function em(){let{matches:t}=X.useContext(on),e=t[t.length-1];return e?e.params:{}}function tm(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=X.useContext(er),{matches:i}=X.useContext(on),{pathname:s}=Ci(),a=JSON.stringify(Id(i,r.v7_relativeSplatPath));return X.useMemo(()=>Md(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function F5(t,e){return L5(t,e)}function L5(t,e,n,r){ki()||$e(!1);let{navigator:i}=X.useContext(er),{matches:s}=X.useContext(on),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=Ci(),u;if(e){var y;let _=typeof e=="string"?Si(e):e;l==="/"||(y=_.pathname)!=null&&y.startsWith(l)||$e(!1),u=_}else u=c;let v=u.pathname||"/",p=v;if(l!=="/"){let _=l.replace(/^\//,"").split("/");p="/"+v.replace(/^\//,"").split("/").slice(_.length).join("/")}let h=s5(t,{pathname:p}),m=U5(h&&h.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:Kn([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Kn([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r);return e&&m?X.createElement(Do.Provider,{value:{location:Ts({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Dn.Pop}},m):m}function I5(){let t=$5(),e=E5(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),n?X.createElement("pre",{style:i},n):null,null)}const M5=X.createElement(I5,null);class D5 extends X.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?X.createElement(on.Provider,{value:this.props.routeContext},X.createElement(Q1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function z5(t){let{routeContext:e,match:n,children:r}=t,i=X.useContext(Dd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),X.createElement(on.Provider,{value:e},r)}function U5(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let u=a.findIndex(y=>y.route.id&&(o==null?void 0:o[y.route.id])!==void 0);u>=0||$e(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<a.length;u++){let y=a[u];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(c=u),y.route.id){let{loaderData:v,errors:p}=n,h=y.route.loader&&v[y.route.id]===void 0&&(!p||p[y.route.id]===void 0);if(y.route.lazy||h){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,y,v)=>{let p,h=!1,m=null,_=null;n&&(p=o&&y.route.id?o[y.route.id]:void 0,m=y.route.errorElement||M5,l&&(c<0&&v===0?(W5("route-fallback"),h=!0,_=null):c===v&&(h=!0,_=y.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,v+1)),x=()=>{let d;return p?d=m:h?d=_:y.route.Component?d=X.createElement(y.route.Component,null):y.route.element?d=y.route.element:d=u,X.createElement(z5,{match:y,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:d})};return n&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?X.createElement(D5,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:x(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):x()},null)}var nm=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(nm||{}),rm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(rm||{});function B5(t){let e=X.useContext(Dd);return e||$e(!1),e}function G5(t){let e=X.useContext(P5);return e||$e(!1),e}function H5(t){let e=X.useContext(on);return e||$e(!1),e}function im(t){let e=H5(),n=e.matches[e.matches.length-1];return n.route.id||$e(!1),n.route.id}function $5(){var t;let e=X.useContext(Q1),n=G5(),r=im();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function V5(){let{router:t}=B5(nm.UseNavigateStable),e=im(rm.UseNavigateStable),n=X.useRef(!1);return J1(()=>{n.current=!0}),X.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ts({fromRouteId:e},s)))},[t,e])}const Nf={};function W5(t,e,n){Nf[t]||(Nf[t]=!0)}function K5(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function _u(t){let{to:e,replace:n,state:r,relative:i}=t;ki()||$e(!1);let{future:s,static:a}=X.useContext(er),{matches:o}=X.useContext(on),{pathname:l}=Ci(),c=kn(),u=Md(e,Id(o,s.v7_relativeSplatPath),l,i==="path"),y=JSON.stringify(u);return X.useEffect(()=>c(JSON.parse(y),{replace:n,state:r,relative:i}),[c,y,i,n,r]),null}function wu(t){return O5(t.context)}function Dt(t){$e(!1)}function Y5(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Dn.Pop,navigator:s,static:a=!1,future:o}=t;ki()&&$e(!1);let l=e.replace(/^\/*/,"/"),c=X.useMemo(()=>({basename:l,navigator:s,static:a,future:Ts({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=Si(r));let{pathname:u="/",search:y="",hash:v="",state:p=null,key:h="default"}=r,m=X.useMemo(()=>{let _=Ld(u,l);return _==null?null:{location:{pathname:_,search:y,hash:v,state:p,key:h},navigationType:i}},[l,u,y,v,p,h,i]);return m==null?null:X.createElement(er.Provider,{value:c},X.createElement(Do.Provider,{children:n,value:m}))}function X5(t){let{children:e,location:n}=t;return F5(bu(e),n)}new Promise(()=>{});function bu(t,e){e===void 0&&(e=[]);let n=[];return X.Children.forEach(t,(r,i)=>{if(!X.isValidElement(r))return;let s=[...e,i];if(r.type===X.Fragment){n.push.apply(n,bu(r.props.children,s));return}r.type!==Dt&&$e(!1),!r.props.index||!r.props.children||$e(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=bu(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Su(){return Su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Su.apply(this,arguments)}function q5(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Z5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Q5(t,e){return t.button===0&&(!e||e==="_self")&&!Z5(t)}const J5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ev="6";try{window.__reactRouterVersion=ev}catch{}const tv="startTransition",Ef=$g[tv];function nv(t){let{basename:e,children:n,future:r,window:i}=t,s=X.useRef();s.current==null&&(s.current=n5({window:i,v5Compat:!0}));let a=s.current,[o,l]=X.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},u=X.useCallback(y=>{c&&Ef?Ef(()=>l(y)):l(y)},[l,c]);return X.useLayoutEffect(()=>a.listen(u),[a,u]),X.useEffect(()=>K5(r),[r]),X.createElement(Y5,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const rv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,an=X.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:y}=e,v=q5(e,J5),{basename:p}=X.useContext(er),h,m=!1;if(typeof c=="string"&&iv.test(c)&&(h=c,rv))try{let d=new URL(window.location.href),w=c.startsWith("//")?new URL(d.protocol+c):new URL(c),b=Ld(w.pathname,p);w.origin===d.origin&&b!=null?c=b+w.search+w.hash:m=!0}catch{}let _=T5(c,{relative:i}),g=sv(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:y});function x(d){r&&r(d),d.defaultPrevented||g(d)}return X.createElement("a",Su({},v,{href:h||_,onClick:m||s?r:x,ref:n,target:l}))});var jf;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(jf||(jf={}));var Pf;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Pf||(Pf={}));function sv(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=kn(),c=Ci(),u=tm(t,{relative:a});return X.useCallback(y=>{if(Q5(y,n)){y.preventDefault();let v=r!==void 0?r:mo(c)===mo(u);l(t,{replace:v,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,u,r,i,n,t,s,a,o])}const av={},Tf=t=>{let e;const n=new Set,r=(u,y)=>{const v=typeof u=="function"?u(e):u;if(!Object.is(v,e)){const p=e;e=y??(typeof v!="object"||v===null)?v:Object.assign({},e,v),n.forEach(h=>h(e,p))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(av?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,i,l);return l},ov=t=>t?Tf(t):Tf;var sm={exports:{}},am={},om={exports:{}},lm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pi=X;function lv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cv=typeof Object.is=="function"?Object.is:lv,uv=pi.useState,dv=pi.useEffect,hv=pi.useLayoutEffect,fv=pi.useDebugValue;function pv(t,e){var n=e(),r=uv({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return hv(function(){i.value=n,i.getSnapshot=e,dc(i)&&s({inst:i})},[t,n,e]),dv(function(){return dc(i)&&s({inst:i}),t(function(){dc(i)&&s({inst:i})})},[t]),fv(n),n}function dc(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cv(t,n)}catch{return!0}}function mv(t,e){return e()}var gv=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?mv:pv;lm.useSyncExternalStore=pi.useSyncExternalStore!==void 0?pi.useSyncExternalStore:gv;om.exports=lm;var yv=om.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zo=X,vv=yv;function xv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _v=typeof Object.is=="function"?Object.is:xv,wv=vv.useSyncExternalStore,bv=zo.useRef,Sv=zo.useEffect,kv=zo.useMemo,Cv=zo.useDebugValue;am.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=bv(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=kv(function(){function l(p){if(!c){if(c=!0,u=p,p=r(p),i!==void 0&&a.hasValue){var h=a.value;if(i(h,p))return y=h}return y=p}if(h=y,_v(u,p))return h;var m=r(p);return i!==void 0&&i(h,m)?(u=p,h):(u=p,y=m)}var c=!1,u,y,v=n===void 0?null:n;return[function(){return l(e())},v===null?void 0:function(){return l(v())}]},[e,n,r,i]);var o=wv(t,s[0],s[1]);return Sv(function(){a.hasValue=!0,a.value=o},[o]),Cv(o),o};sm.exports=am;var Nv=sm.exports;const Ev=wo(Nv),cm={},{useDebugValue:jv}=Hu,{useSyncExternalStoreWithSelector:Pv}=Ev;let Rf=!1;const Tv=t=>t;function Rv(t,e=Tv,n){(cm?"production":void 0)!=="production"&&n&&!Rf&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Rf=!0);const r=Pv(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return jv(r),r}const Af=t=>{(cm?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?ov(t):t,n=(r,i)=>Rv(e,r,i);return Object.assign(n,e),n},um=t=>t?Af(t):Af,Av={};function Ov(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const a=l=>l===null?null:JSON.parse(l,void 0),o=(s=n.getItem(i))!=null?s:null;return o instanceof Promise?o.then(a):a(o)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const Rs=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Rs(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Rs(r)(n)}}}},Fv=(t,e)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:_=>_,version:0,merge:(_,g)=>({...g,..._}),...e},a=!1;const o=new Set,l=new Set;let c;try{c=s.getStorage()}catch{}if(!c)return t((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(..._)},r,i);const u=Rs(s.serialize),y=()=>{const _=s.partialize({...r()});let g;const x=u({state:_,version:s.version}).then(d=>c.setItem(s.name,d)).catch(d=>{g=d});if(g)throw g;return x},v=i.setState;i.setState=(_,g)=>{v(_,g),y()};const p=t((..._)=>{n(..._),y()},r,i);let h;const m=()=>{var _;if(!c)return;a=!1,o.forEach(x=>x(r()));const g=((_=s.onRehydrateStorage)==null?void 0:_.call(s,r()))||void 0;return Rs(c.getItem.bind(c))(s.name).then(x=>{if(x)return s.deserialize(x)}).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==s.version){if(s.migrate)return s.migrate(x.state,x.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return x.state}).then(x=>{var d;return h=s.merge(x,(d=r())!=null?d:p),n(h,!0),y()}).then(()=>{g==null||g(h,void 0),a=!0,l.forEach(x=>x(h))}).catch(x=>{g==null||g(void 0,x)})};return i.persist={setOptions:_=>{s={...s,..._},_.getStorage&&(c=_.getStorage())},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>m(),hasHydrated:()=>a,onHydrate:_=>(o.add(_),()=>{o.delete(_)}),onFinishHydration:_=>(l.add(_),()=>{l.delete(_)})},m(),h||p},Lv=(t,e)=>(n,r,i)=>{let s={storage:Ov(()=>localStorage),partialize:m=>m,version:0,merge:(m,_)=>({..._,...m}),...e},a=!1;const o=new Set,l=new Set;let c=s.storage;if(!c)return t((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...m)},r,i);const u=()=>{const m=s.partialize({...r()});return c.setItem(s.name,{state:m,version:s.version})},y=i.setState;i.setState=(m,_)=>{y(m,_),u()};const v=t((...m)=>{n(...m),u()},r,i);i.getInitialState=()=>v;let p;const h=()=>{var m,_;if(!c)return;a=!1,o.forEach(x=>{var d;return x((d=r())!=null?d:v)});const g=((_=s.onRehydrateStorage)==null?void 0:_.call(s,(m=r())!=null?m:v))||void 0;return Rs(c.getItem.bind(c))(s.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==s.version){if(s.migrate)return[!0,s.migrate(x.state,x.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var d;const[w,b]=x;if(p=s.merge(b,(d=r())!=null?d:v),n(p,!0),w)return u()}).then(()=>{g==null||g(p,void 0),p=r(),a=!0,l.forEach(x=>x(p))}).catch(x=>{g==null||g(void 0,x)})};return i.persist={setOptions:m=>{s={...s,...m},m.storage&&(c=m.storage)},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>h(),hasHydrated:()=>a,onHydrate:m=>(o.add(m),()=>{o.delete(m)}),onFinishHydration:m=>(l.add(m),()=>{l.delete(m)})},s.skipHydration||h(),p||v},Iv=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((Av?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Fv(t,e)):Lv(t,e),Mv=Iv,Ni=um()(Mv(t=>({user:null,token:null,isAuthenticated:!1,setAuth:(e,n)=>t({user:e,token:n,isAuthenticated:!0}),logout:()=>t({user:null,token:null,isAuthenticated:!1})}),{name:"shotify-auth"}));function va({className:t,delay:e,bgColor:n,accentColor:r}){return f.jsx("div",{className:`absolute ${t} transition-transform duration-1000`,style:{animation:`floatSmooth ${12+e}s ease-in-out infinite`,animationDelay:`${e}s`},children:f.jsxs("div",{className:`relative rounded-2xl ${n} shadow-2xl overflow-hidden`,style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.15)"},children:[f.jsxs("div",{className:"h-8 bg-white/80 backdrop-blur-sm flex items-center px-3 border-b border-gray-200/50",children:[f.jsxs("div",{className:"flex gap-1.5",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),f.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),f.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"})]}),f.jsx("div",{className:"ml-3 flex-1 h-4 bg-gray-100 rounded max-w-[120px]"})]}),f.jsx("div",{className:`p-4 ${n}`,children:f.jsx("div",{className:`h-full w-full rounded-lg bg-gradient-to-br ${r} flex items-center justify-center`,children:f.jsx("svg",{className:"w-8 h-8 text-white/60",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})})]})})}function Dv(){return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 flex items-center justify-center p-4 relative overflow-hidden",children:[f.jsx("style",{children:`
        @keyframes floatSmooth {
          0%, 100% {
            transform: translateY(0px) rotate(0deg);
          }
          25% {
            transform: translateY(-15px) rotate(1deg);
          }
          50% {
            transform: translateY(-8px) rotate(-1deg);
          }
          75% {
            transform: translateY(-20px) rotate(0.5deg);
          }
        }
        
        @keyframes pulse-slow {
          0%, 100% {
            opacity: 0.4;
            transform: scale(1);
          }
          50% {
            opacity: 0.6;
            transform: scale(1.05);
          }
        }
        
        @keyframes moveGradient {
          0% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
          100% { background-position: 0% 50%; }
        }
      `}),f.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[f.jsx("div",{className:"absolute -top-40 -left-40 w-[600px] h-[600px] rounded-full opacity-60",style:{background:"radial-gradient(circle, rgba(99, 102, 241, 0.15) 0%, transparent 70%)",animation:"pulse-slow 8s ease-in-out infinite"}}),f.jsx("div",{className:"absolute -bottom-40 -right-40 w-[700px] h-[700px] rounded-full opacity-50",style:{background:"radial-gradient(circle, rgba(59, 130, 246, 0.12) 0%, transparent 70%)",animation:"pulse-slow 10s ease-in-out infinite 2s"}}),f.jsx("div",{className:"absolute top-1/4 right-1/3 w-[400px] h-[400px] rounded-full opacity-40",style:{background:"radial-gradient(circle, rgba(168, 85, 247, 0.1) 0%, transparent 70%)",animation:"pulse-slow 12s ease-in-out infinite 4s"}}),f.jsx(va,{className:"w-52 h-40 top-0 left-[8%] -rotate-12",delay:0,bgColor:"bg-gradient-to-br from-violet-500 to-purple-600",accentColor:"from-violet-400/40 to-purple-500/40"}),f.jsx(va,{className:"w-64 h-48 top-[15%] right-[5%] rotate-[8deg]",delay:2,bgColor:"bg-gradient-to-br from-blue-500 to-cyan-500",accentColor:"from-blue-400/40 to-cyan-400/40"}),f.jsx(va,{className:"w-48 h-36 bottom-[20%] left-[5%] rotate-6",delay:4,bgColor:"bg-gradient-to-br from-rose-500 to-pink-500",accentColor:"from-rose-400/40 to-pink-400/40"}),f.jsx(va,{className:"w-56 h-44 bottom-[10%] right-[10%] -rotate-6",delay:3,bgColor:"bg-gradient-to-br from-emerald-500 to-teal-500",accentColor:"from-emerald-400/40 to-teal-400/40"}),f.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-[0.03]",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("defs",{children:f.jsx("pattern",{id:"smallGrid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:f.jsx("circle",{cx:"20",cy:"20",r:"1",fill:"currentColor",className:"text-blue-500"})})}),f.jsx("rect",{width:"100%",height:"100%",fill:"url(#smallGrid)"})]})]}),f.jsx("div",{className:"relative z-10",children:f.jsx(wu,{})})]})}/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),he=(t,e)=>{const n=X.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...c},u)=>X.createElement("svg",{ref:u,...zv,width:i,height:i,stroke:r,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${Uv(t)}`,o].join(" "),...c},[...e.map(([y,v])=>X.createElement(y,v)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=he("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=he("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=he("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=he("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=he("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=he("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=he("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=he("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=he("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=he("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=he("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=he("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=he("Crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=he("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=he("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=he("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=he("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=he("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=he("ImagePlus",[["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"31hg93"}],["line",{x1:"16",x2:"22",y1:"5",y2:"5",key:"ez7e4s"}],["line",{x1:"19",x2:"19",y1:"2",y2:"8",key:"1gkr8c"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=he("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=he("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=he("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=he("LayoutTemplate",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=he("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=he("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=he("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=he("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=he("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=he("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=he("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=he("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=he("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=he("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=he("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=he("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=he("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=he("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=he("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=he("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=he("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=he("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=he("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function c3(){const{user:t,logout:e}=Ni(),n=Ci(),r=kn(),[i,s]=X.useState(!1),a=X.useRef(null);X.useEffect(()=>{function u(y){a.current&&!a.current.contains(y.target)&&s(!1)}return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]);const o=()=>{e(),r("/login")},l=[{path:"/dashboard",label:"Projects",icon:Xv},{path:"/templates",label:"Templates",icon:n3}];return n.pathname.includes("/editor/")?f.jsx(wu,{}):f.jsxs("div",{className:"min-h-screen bg-background",children:[f.jsx("header",{className:"sticky top-0 z-40 bg-surface/80 backdrop-blur-xl border-b border-border",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex items-center justify-between h-16",children:[f.jsxs(an,{to:"/dashboard",className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-9 h-9 bg-accent-blue rounded-lg flex items-center justify-center",children:f.jsxs("svg",{className:"w-5 h-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[f.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"3",strokeWidth:"2"}),f.jsx("rect",{x:"7",y:"7",width:"10",height:"10",rx:"1",fill:"currentColor"})]})}),f.jsx("span",{className:"text-xl font-semibold text-text-primary",children:"Shotify"})]}),f.jsx("nav",{className:"hidden md:flex items-center gap-1",children:l.map(({path:u,label:y,icon:v})=>{const p=n.pathname===u;return f.jsxs(an,{to:u,className:`
                      flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium
                      transition-all duration-150
                      ${p?"bg-surface text-text-primary":"text-text-secondary hover:text-text-primary hover:bg-surface/50"}
                    `,children:[f.jsx(v,{className:"w-4 h-4"}),y]},u)})}),f.jsxs("div",{className:"relative",ref:a,children:[f.jsxs("button",{onClick:()=>s(!i),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-surface transition-colors",children:[f.jsx("div",{className:"w-8 h-8 bg-accent-blue/20 rounded-full flex items-center justify-center",children:f.jsx(l3,{className:"w-4 h-4 text-accent-blue"})}),f.jsx("span",{className:"hidden sm:block text-sm font-medium text-text-primary",children:(t==null?void 0:t.name)||"User"}),f.jsx(zd,{className:`w-4 h-4 text-text-secondary transition-transform ${i?"rotate-180":""}`})]}),i&&f.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-surface border border-border rounded-xl shadow-xl overflow-hidden animate-scale-in",children:[f.jsxs("div",{className:"px-4 py-3 border-b border-border",children:[f.jsx("p",{className:"text-sm font-medium text-text-primary",children:t==null?void 0:t.name}),f.jsx("p",{className:"text-xs text-text-secondary truncate",children:t==null?void 0:t.email})]}),f.jsx("div",{className:"p-2",children:f.jsxs("button",{onClick:o,className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",children:[f.jsx(Zv,{className:"w-4 h-4"}),"Sign out"]})})]})]})]})})}),f.jsx("main",{children:f.jsx(wu,{})})]})}function ym(t,e){return function(){return t.apply(e,arguments)}}const{toString:u3}=Object.prototype,{getPrototypeOf:Hd}=Object,{iterator:Bo,toStringTag:vm}=Symbol,Go=(t=>e=>{const n=u3.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Yt=t=>(t=t.toLowerCase(),e=>Go(e)===t),Ho=t=>e=>typeof e===t,{isArray:Ei}=Array,mi=Ho("undefined");function Hs(t){return t!==null&&!mi(t)&&t.constructor!==null&&!mi(t.constructor)&&xt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const xm=Yt("ArrayBuffer");function d3(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&xm(t.buffer),e}const h3=Ho("string"),xt=Ho("function"),_m=Ho("number"),$s=t=>t!==null&&typeof t=="object",f3=t=>t===!0||t===!1,za=t=>{if(Go(t)!=="object")return!1;const e=Hd(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(vm in t)&&!(Bo in t)},p3=t=>{if(!$s(t)||Hs(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},m3=Yt("Date"),g3=Yt("File"),y3=Yt("Blob"),v3=Yt("FileList"),x3=t=>$s(t)&&xt(t.pipe),_3=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||xt(t.append)&&((e=Go(t))==="formdata"||e==="object"&&xt(t.toString)&&t.toString()==="[object FormData]"))},w3=Yt("URLSearchParams"),[b3,S3,k3,C3]=["ReadableStream","Request","Response","Headers"].map(Yt),N3=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Vs(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Ei(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(Hs(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(r=0;r<a;r++)o=s[r],e.call(null,t[o],o,t)}}function wm(t,e){if(Hs(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const pr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,bm=t=>!mi(t)&&t!==pr;function Nu(){const{caseless:t,skipUndefined:e}=bm(this)&&this||{},n={},r=(i,s)=>{const a=t&&wm(n,s)||s;za(n[a])&&za(i)?n[a]=Nu(n[a],i):za(i)?n[a]=Nu({},i):Ei(i)?n[a]=i.slice():(!e||!mi(i))&&(n[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Vs(arguments[i],r);return n}const E3=(t,e,n,{allOwnKeys:r}={})=>(Vs(e,(i,s)=>{n&&xt(i)?t[s]=ym(i,n):t[s]=i},{allOwnKeys:r}),t),j3=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),P3=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},T3=(t,e,n,r)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!r||r(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=n!==!1&&Hd(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},R3=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},A3=t=>{if(!t)return null;if(Ei(t))return t;let e=t.length;if(!_m(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},O3=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Hd(Uint8Array)),F3=(t,e)=>{const r=(t&&t[Bo]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},L3=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},I3=Yt("HTMLFormElement"),M3=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Uf=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),D3=Yt("RegExp"),Sm=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Vs(n,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(r[s]=a||i)}),Object.defineProperties(t,r)},z3=t=>{Sm(t,(e,n)=>{if(xt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(xt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},U3=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Ei(t)?r(t):r(String(t).split(e)),n},B3=()=>{},G3=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function H3(t){return!!(t&&xt(t.append)&&t[vm]==="FormData"&&t[Bo])}const $3=t=>{const e=new Array(10),n=(r,i)=>{if($s(r)){if(e.indexOf(r)>=0)return;if(Hs(r))return r;if(!("toJSON"in r)){e[i]=r;const s=Ei(r)?[]:{};return Vs(r,(a,o)=>{const l=n(a,i+1);!mi(l)&&(s[o]=l)}),e[i]=void 0,s}}return r};return n(t,0)},V3=Yt("AsyncFunction"),W3=t=>t&&($s(t)||xt(t))&&xt(t.then)&&xt(t.catch),km=((t,e)=>t?setImmediate:e?((n,r)=>(pr.addEventListener("message",({source:i,data:s})=>{i===pr&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),pr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",xt(pr.postMessage)),K3=typeof queueMicrotask<"u"?queueMicrotask.bind(pr):typeof process<"u"&&process.nextTick||km,Y3=t=>t!=null&&xt(t[Bo]),V={isArray:Ei,isArrayBuffer:xm,isBuffer:Hs,isFormData:_3,isArrayBufferView:d3,isString:h3,isNumber:_m,isBoolean:f3,isObject:$s,isPlainObject:za,isEmptyObject:p3,isReadableStream:b3,isRequest:S3,isResponse:k3,isHeaders:C3,isUndefined:mi,isDate:m3,isFile:g3,isBlob:y3,isRegExp:D3,isFunction:xt,isStream:x3,isURLSearchParams:w3,isTypedArray:O3,isFileList:v3,forEach:Vs,merge:Nu,extend:E3,trim:N3,stripBOM:j3,inherits:P3,toFlatObject:T3,kindOf:Go,kindOfTest:Yt,endsWith:R3,toArray:A3,forEachEntry:F3,matchAll:L3,isHTMLForm:I3,hasOwnProperty:Uf,hasOwnProp:Uf,reduceDescriptors:Sm,freezeMethods:z3,toObjectSet:U3,toCamelCase:M3,noop:B3,toFiniteNumber:G3,findKey:wm,global:pr,isContextDefined:bm,isSpecCompliantForm:H3,toJSONObject:$3,isAsyncFn:V3,isThenable:W3,setImmediate:km,asap:K3,isIterable:Y3};function me(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}V.inherits(me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const Cm=me.prototype,Nm={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Nm[t]={value:t}});Object.defineProperties(me,Nm);Object.defineProperty(Cm,"isAxiosError",{value:!0});me.from=(t,e,n,r,i,s)=>{const a=Object.create(Cm);V.toFlatObject(t,a,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const o=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return me.call(a,o,l,n,r,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",s&&Object.assign(a,s),a};const X3=null;function Eu(t){return V.isPlainObject(t)||V.isArray(t)}function Em(t){return V.endsWith(t,"[]")?t.slice(0,-2):t}function Bf(t,e,n){return t?t.concat(e).map(function(i,s){return i=Em(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function q3(t){return V.isArray(t)&&!t.some(Eu)}const Z3=V.toFlatObject(V,{},null,function(e){return/^is[A-Z]/.test(e)});function $o(t,e,n){if(!V.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=V.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,_){return!V.isUndefined(_[m])});const r=n.metaTokens,i=n.visitor||u,s=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(e);if(!V.isFunction(i))throw new TypeError("visitor must be a function");function c(h){if(h===null)return"";if(V.isDate(h))return h.toISOString();if(V.isBoolean(h))return h.toString();if(!l&&V.isBlob(h))throw new me("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(h)||V.isTypedArray(h)?l&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function u(h,m,_){let g=h;if(h&&!_&&typeof h=="object"){if(V.endsWith(m,"{}"))m=r?m:m.slice(0,-2),h=JSON.stringify(h);else if(V.isArray(h)&&q3(h)||(V.isFileList(h)||V.endsWith(m,"[]"))&&(g=V.toArray(h)))return m=Em(m),g.forEach(function(d,w){!(V.isUndefined(d)||d===null)&&e.append(a===!0?Bf([m],w,s):a===null?m:m+"[]",c(d))}),!1}return Eu(h)?!0:(e.append(Bf(_,m,s),c(h)),!1)}const y=[],v=Object.assign(Z3,{defaultVisitor:u,convertValue:c,isVisitable:Eu});function p(h,m){if(!V.isUndefined(h)){if(y.indexOf(h)!==-1)throw Error("Circular reference detected in "+m.join("."));y.push(h),V.forEach(h,function(g,x){(!(V.isUndefined(g)||g===null)&&i.call(e,g,V.isString(x)?x.trim():x,m,v))===!0&&p(g,m?m.concat(x):[x])}),y.pop()}}if(!V.isObject(t))throw new TypeError("data must be an object");return p(t),e}function Gf(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function $d(t,e){this._pairs=[],t&&$o(t,this,e)}const jm=$d.prototype;jm.append=function(e,n){this._pairs.push([e,n])};jm.toString=function(e){const n=e?function(r){return e.call(this,r,Gf)}:Gf;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Q3(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Pm(t,e,n){if(!e)return t;const r=n&&n.encode||Q3;V.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=V.isURLSearchParams(e)?e.toString():new $d(e,n).toString(r),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class Hf{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){V.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Tm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},J3=typeof URLSearchParams<"u"?URLSearchParams:$d,e4=typeof FormData<"u"?FormData:null,t4=typeof Blob<"u"?Blob:null,n4={isBrowser:!0,classes:{URLSearchParams:J3,FormData:e4,Blob:t4},protocols:["http","https","file","blob","url","data"]},Vd=typeof window<"u"&&typeof document<"u",ju=typeof navigator=="object"&&navigator||void 0,r4=Vd&&(!ju||["ReactNative","NativeScript","NS"].indexOf(ju.product)<0),i4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",s4=Vd&&window.location.href||"http://localhost",a4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vd,hasStandardBrowserEnv:r4,hasStandardBrowserWebWorkerEnv:i4,navigator:ju,origin:s4},Symbol.toStringTag,{value:"Module"})),ot={...a4,...n4};function o4(t,e){return $o(t,new ot.classes.URLSearchParams,{visitor:function(n,r,i,s){return ot.isNode&&V.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function l4(t){return V.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function c4(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function Rm(t){function e(n,r,i,s){let a=n[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=n.length;return a=!a&&V.isArray(i)?i.length:a,l?(V.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!o):((!i[a]||!V.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],s)&&V.isArray(i[a])&&(i[a]=c4(i[a])),!o)}if(V.isFormData(t)&&V.isFunction(t.entries)){const n={};return V.forEachEntry(t,(r,i)=>{e(l4(r),i,n,0)}),n}return null}function u4(t,e,n){if(V.isString(t))try{return(e||JSON.parse)(t),V.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Ws={transitional:Tm,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=V.isObject(e);if(s&&V.isHTMLForm(e)&&(e=new FormData(e)),V.isFormData(e))return i?JSON.stringify(Rm(e)):e;if(V.isArrayBuffer(e)||V.isBuffer(e)||V.isStream(e)||V.isFile(e)||V.isBlob(e)||V.isReadableStream(e))return e;if(V.isArrayBufferView(e))return e.buffer;if(V.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return o4(e,this.formSerializer).toString();if((o=V.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return $o(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),u4(e)):e}],transformResponse:[function(e){const n=this.transitional||Ws.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(V.isResponse(e)||V.isReadableStream(e))return e;if(e&&V.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?me.from(o,me.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ot.classes.FormData,Blob:ot.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],t=>{Ws.headers[t]={}});const d4=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),h4=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&d4[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},$f=Symbol("internals");function Ki(t){return t&&String(t).trim().toLowerCase()}function Ua(t){return t===!1||t==null?t:V.isArray(t)?t.map(Ua):String(t)}function f4(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const p4=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function hc(t,e,n,r,i){if(V.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!V.isString(e)){if(V.isString(r))return e.indexOf(r)!==-1;if(V.isRegExp(r))return r.test(e)}}function m4(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function g4(t,e){const n=V.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,a){return this[r].call(this,e,i,s,a)},configurable:!0})})}let _t=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(o,l,c){const u=Ki(l);if(!u)throw new Error("header name must be a non-empty string");const y=V.findKey(i,u);(!y||i[y]===void 0||c===!0||c===void 0&&i[y]!==!1)&&(i[y||l]=Ua(o))}const a=(o,l)=>V.forEach(o,(c,u)=>s(c,u,l));if(V.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(V.isString(e)&&(e=e.trim())&&!p4(e))a(h4(e),n);else if(V.isObject(e)&&V.isIterable(e)){let o={},l,c;for(const u of e){if(!V.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[c=u[0]]=(l=o[c])?V.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}a(o,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=Ki(e),e){const r=V.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return f4(i);if(V.isFunction(n))return n.call(this,i,r);if(V.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ki(e),e){const r=V.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||hc(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(a){if(a=Ki(a),a){const o=V.findKey(r,a);o&&(!n||hc(r,r[o],o,n))&&(delete r[o],i=!0)}}return V.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||hc(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return V.forEach(this,(i,s)=>{const a=V.findKey(r,s);if(a){n[a]=Ua(i),delete n[s];return}const o=e?m4(s):String(s).trim();o!==s&&delete n[s],n[o]=Ua(i),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return V.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&V.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[$f]=this[$f]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=Ki(a);r[o]||(g4(i,a),r[o]=!0)}return V.isArray(e)?e.forEach(s):s(e),this}};_t.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(_t.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});V.freezeMethods(_t);function fc(t,e){const n=this||Ws,r=e||n,i=_t.from(r.headers);let s=r.data;return V.forEach(t,function(o){s=o.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function Am(t){return!!(t&&t.__CANCEL__)}function ji(t,e,n){me.call(this,t??"canceled",me.ERR_CANCELED,e,n),this.name="CanceledError"}V.inherits(ji,me,{__CANCEL__:!0});function Om(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new me("Request failed with status code "+n.status,[me.ERR_BAD_REQUEST,me.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function y4(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function v4(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[s];a||(a=c),n[i]=l,r[i]=c;let y=s,v=0;for(;y!==i;)v+=n[y++],y=y%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-a<e)return;const p=u&&c-u;return p?Math.round(v*1e3/p):void 0}}function x4(t,e){let n=0,r=1e3/e,i,s;const a=(c,u=Date.now())=>{n=u,i=null,s&&(clearTimeout(s),s=null),t(...c)};return[(...c)=>{const u=Date.now(),y=u-n;y>=r?a(c,u):(i=c,s||(s=setTimeout(()=>{s=null,a(i)},r-y)))},()=>i&&a(i)]}const go=(t,e,n=3)=>{let r=0;const i=v4(50,250);return x4(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-r,c=i(l),u=a<=o;r=a;const y={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&u?(o-a)/c:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(y)},n)},Vf=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Wf=t=>(...e)=>V.asap(()=>t(...e)),_4=ot.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,ot.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(ot.origin),ot.navigator&&/(msie|trident)/i.test(ot.navigator.userAgent)):()=>!0,w4=ot.hasStandardBrowserEnv?{write(t,e,n,r,i,s,a){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(e)}`];V.isNumber(n)&&o.push(`expires=${new Date(n).toUTCString()}`),V.isString(r)&&o.push(`path=${r}`),V.isString(i)&&o.push(`domain=${i}`),s===!0&&o.push("secure"),V.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function b4(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function S4(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Fm(t,e,n){let r=!b4(e);return t&&(r||n==!1)?S4(t,e):e}const Kf=t=>t instanceof _t?{...t}:t;function Cr(t,e){e=e||{};const n={};function r(c,u,y,v){return V.isPlainObject(c)&&V.isPlainObject(u)?V.merge.call({caseless:v},c,u):V.isPlainObject(u)?V.merge({},u):V.isArray(u)?u.slice():u}function i(c,u,y,v){if(V.isUndefined(u)){if(!V.isUndefined(c))return r(void 0,c,y,v)}else return r(c,u,y,v)}function s(c,u){if(!V.isUndefined(u))return r(void 0,u)}function a(c,u){if(V.isUndefined(u)){if(!V.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function o(c,u,y){if(y in e)return r(c,u);if(y in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,u,y)=>i(Kf(c),Kf(u),y,!0)};return V.forEach(Object.keys({...t,...e}),function(u){const y=l[u]||i,v=y(t[u],e[u],u);V.isUndefined(v)&&y!==o||(n[u]=v)}),n}const Lm=t=>{const e=Cr({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;if(e.headers=a=_t.from(a),e.url=Pm(Fm(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),V.isFormData(n)){if(ot.hasStandardBrowserEnv||ot.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(V.isFunction(n.getHeaders)){const l=n.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([u,y])=>{c.includes(u.toLowerCase())&&a.set(u,y)})}}if(ot.hasStandardBrowserEnv&&(r&&V.isFunction(r)&&(r=r(e)),r||r!==!1&&_4(e.url))){const l=i&&s&&w4.read(s);l&&a.set(i,l)}return e},k4=typeof XMLHttpRequest<"u",C4=k4&&function(t){return new Promise(function(n,r){const i=Lm(t);let s=i.data;const a=_t.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=i,u,y,v,p,h;function m(){p&&p(),h&&h(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let _=new XMLHttpRequest;_.open(i.method.toUpperCase(),i.url,!0),_.timeout=i.timeout;function g(){if(!_)return;const d=_t.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),b={data:!o||o==="text"||o==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:d,config:t,request:_};Om(function(j){n(j),m()},function(j){r(j),m()},b),_=null}"onloadend"in _?_.onloadend=g:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(g)},_.onabort=function(){_&&(r(new me("Request aborted",me.ECONNABORTED,t,_)),_=null)},_.onerror=function(w){const b=w&&w.message?w.message:"Network Error",E=new me(b,me.ERR_NETWORK,t,_);E.event=w||null,r(E),_=null},_.ontimeout=function(){let w=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const b=i.transitional||Tm;i.timeoutErrorMessage&&(w=i.timeoutErrorMessage),r(new me(w,b.clarifyTimeoutError?me.ETIMEDOUT:me.ECONNABORTED,t,_)),_=null},s===void 0&&a.setContentType(null),"setRequestHeader"in _&&V.forEach(a.toJSON(),function(w,b){_.setRequestHeader(b,w)}),V.isUndefined(i.withCredentials)||(_.withCredentials=!!i.withCredentials),o&&o!=="json"&&(_.responseType=i.responseType),c&&([v,h]=go(c,!0),_.addEventListener("progress",v)),l&&_.upload&&([y,p]=go(l),_.upload.addEventListener("progress",y),_.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(u=d=>{_&&(r(!d||d.type?new ji(null,t,_):d),_.abort(),_=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const x=y4(i.url);if(x&&ot.protocols.indexOf(x)===-1){r(new me("Unsupported protocol "+x+":",me.ERR_BAD_REQUEST,t));return}_.send(s||null)})},N4=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(c){if(!i){i=!0,o();const u=c instanceof Error?c:this.reason;r.abort(u instanceof me?u:new ji(u instanceof Error?u.message:u))}};let a=e&&setTimeout(()=>{a=null,s(new me(`timeout ${e} of ms exceeded`,me.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>V.asap(o),l}},E4=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},j4=async function*(t,e){for await(const n of P4(t))yield*E4(n,e)},P4=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},Yf=(t,e,n,r)=>{const i=j4(t,e);let s=0,a,o=l=>{a||(a=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){o(),l.close();return}let y=u.byteLength;if(n){let v=s+=y;n(v)}l.enqueue(new Uint8Array(u))}catch(c){throw o(c),c}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},Xf=64*1024,{isFunction:xa}=V,T4=(({Request:t,Response:e})=>({Request:t,Response:e}))(V.global),{ReadableStream:qf,TextEncoder:Zf}=V.global,Qf=(t,...e)=>{try{return!!t(...e)}catch{return!1}},R4=t=>{t=V.merge.call({skipUndefined:!0},T4,t);const{fetch:e,Request:n,Response:r}=t,i=e?xa(e):typeof fetch=="function",s=xa(n),a=xa(r);if(!i)return!1;const o=i&&xa(qf),l=i&&(typeof Zf=="function"?(h=>m=>h.encode(m))(new Zf):async h=>new Uint8Array(await new n(h).arrayBuffer())),c=s&&o&&Qf(()=>{let h=!1;const m=new n(ot.origin,{body:new qf,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!m}),u=a&&o&&Qf(()=>V.isReadableStream(new r("").body)),y={stream:u&&(h=>h.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!y[h]&&(y[h]=(m,_)=>{let g=m&&m[h];if(g)return g.call(m);throw new me(`Response type '${h}' is not supported`,me.ERR_NOT_SUPPORT,_)})});const v=async h=>{if(h==null)return 0;if(V.isBlob(h))return h.size;if(V.isSpecCompliantForm(h))return(await new n(ot.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(V.isArrayBufferView(h)||V.isArrayBuffer(h))return h.byteLength;if(V.isURLSearchParams(h)&&(h=h+""),V.isString(h))return(await l(h)).byteLength},p=async(h,m)=>{const _=V.toFiniteNumber(h.getContentLength());return _??v(m)};return async h=>{let{url:m,method:_,data:g,signal:x,cancelToken:d,timeout:w,onDownloadProgress:b,onUploadProgress:E,responseType:j,headers:N,withCredentials:R="same-origin",fetchOptions:P}=Lm(h),D=e||fetch;j=j?(j+"").toLowerCase():"text";let C=N4([x,d&&d.toAbortSignal()],w),O=null;const S=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let I;try{if(E&&c&&_!=="get"&&_!=="head"&&(I=await p(N,g))!==0){let F=new n(m,{method:"POST",body:g,duplex:"half"}),L;if(V.isFormData(g)&&(L=F.headers.get("content-type"))&&N.setContentType(L),F.body){const[te,J]=Vf(I,go(Wf(E)));g=Yf(F.body,Xf,te,J)}}V.isString(R)||(R=R?"include":"omit");const Z=s&&"credentials"in n.prototype,$={...P,signal:C,method:_.toUpperCase(),headers:N.normalize().toJSON(),body:g,duplex:"half",credentials:Z?R:void 0};O=s&&new n(m,$);let U=await(s?D(O,P):D(m,$));const G=u&&(j==="stream"||j==="response");if(u&&(b||G&&S)){const F={};["status","statusText","headers"].forEach(Q=>{F[Q]=U[Q]});const L=V.toFiniteNumber(U.headers.get("content-length")),[te,J]=b&&Vf(L,go(Wf(b),!0))||[];U=new r(Yf(U.body,Xf,te,()=>{J&&J(),S&&S()}),F)}j=j||"text";let z=await y[V.findKey(y,j)||"text"](U,h);return!G&&S&&S(),await new Promise((F,L)=>{Om(F,L,{data:z,headers:_t.from(U.headers),status:U.status,statusText:U.statusText,config:h,request:O})})}catch(Z){throw S&&S(),Z&&Z.name==="TypeError"&&/Load failed|fetch/i.test(Z.message)?Object.assign(new me("Network Error",me.ERR_NETWORK,h,O),{cause:Z.cause||Z}):me.from(Z,Z&&Z.code,h,O)}}},A4=new Map,Im=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,s=[r,i,n];let a=s.length,o=a,l,c,u=A4;for(;o--;)l=s[o],c=u.get(l),c===void 0&&u.set(l,c=o?new Map:R4(e)),u=c;return c};Im();const Wd={http:X3,xhr:C4,fetch:{get:Im}};V.forEach(Wd,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Jf=t=>`- ${t}`,O4=t=>V.isFunction(t)||t===null||t===!1;function F4(t,e){t=V.isArray(t)?t:[t];const{length:n}=t;let r,i;const s={};for(let a=0;a<n;a++){r=t[a];let o;if(i=r,!O4(r)&&(i=Wd[(o=String(r)).toLowerCase()],i===void 0))throw new me(`Unknown adapter '${o}'`);if(i&&(V.isFunction(i)||(i=i.get(e))))break;s[o||"#"+a]=i}if(!i){const a=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=n?a.length>1?`since :
`+a.map(Jf).join(`
`):" "+Jf(a[0]):"as no adapter specified";throw new me("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i}const Mm={getAdapter:F4,adapters:Wd};function pc(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ji(null,t)}function e0(t){return pc(t),t.headers=_t.from(t.headers),t.data=fc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Mm.getAdapter(t.adapter||Ws.adapter,t)(t).then(function(r){return pc(t),r.data=fc.call(t,t.transformResponse,r),r.headers=_t.from(r.headers),r},function(r){return Am(r)||(pc(t),r&&r.response&&(r.response.data=fc.call(t,t.transformResponse,r.response),r.response.headers=_t.from(r.response.headers))),Promise.reject(r)})}const Dm="1.13.2",Vo={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Vo[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const t0={};Vo.transitional=function(e,n,r){function i(s,a){return"[Axios v"+Dm+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,o)=>{if(e===!1)throw new me(i(a," has been removed"+(n?" in "+n:"")),me.ERR_DEPRECATED);return n&&!t0[a]&&(t0[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,a,o):!0}};Vo.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function L4(t,e,n){if(typeof t!="object")throw new me("options must be an object",me.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new me("option "+s+" must be "+l,me.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new me("Unknown option "+s,me.ERR_BAD_OPTION)}}const Ba={assertOptions:L4,validators:Vo},Qt=Ba.validators;let yr=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Hf,response:new Hf}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Cr(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Ba.assertOptions(r,{silentJSONParsing:Qt.transitional(Qt.boolean),forcedJSONParsing:Qt.transitional(Qt.boolean),clarifyTimeoutError:Qt.transitional(Qt.boolean)},!1),i!=null&&(V.isFunction(i)?n.paramsSerializer={serialize:i}:Ba.assertOptions(i,{encode:Qt.function,serialize:Qt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ba.assertOptions(n,{baseUrl:Qt.spelling("baseURL"),withXsrfToken:Qt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&V.merge(s.common,s[n.method]);s&&V.forEach(["delete","get","head","post","put","patch","common"],h=>{delete s[h]}),n.headers=_t.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,o.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,y=0,v;if(!l){const h=[e0.bind(this),void 0];for(h.unshift(...o),h.push(...c),v=h.length,u=Promise.resolve(n);y<v;)u=u.then(h[y++],h[y++]);return u}v=o.length;let p=n;for(;y<v;){const h=o[y++],m=o[y++];try{p=h(p)}catch(_){m.call(this,_);break}}try{u=e0.call(this,p)}catch(h){return Promise.reject(h)}for(y=0,v=c.length;y<v;)u=u.then(c[y++],c[y++]);return u}getUri(e){e=Cr(this.defaults,e);const n=Fm(e.baseURL,e.url,e.allowAbsoluteUrls);return Pm(n,e.params,e.paramsSerializer)}};V.forEach(["delete","get","head","options"],function(e){yr.prototype[e]=function(n,r){return this.request(Cr(r||{},{method:e,url:n,data:(r||{}).data}))}});V.forEach(["post","put","patch"],function(e){function n(r){return function(s,a,o){return this.request(Cr(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}yr.prototype[e]=n(),yr.prototype[e+"Form"]=n(!0)});let I4=class zm{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{r.subscribe(o),s=o}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},e(function(s,a,o){r.reason||(r.reason=new ji(s,a,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new zm(function(i){e=i}),cancel:e}}};function M4(t){return function(n){return t.apply(null,n)}}function D4(t){return V.isObject(t)&&t.isAxiosError===!0}const Pu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Pu).forEach(([t,e])=>{Pu[e]=t});function Um(t){const e=new yr(t),n=ym(yr.prototype.request,e);return V.extend(n,yr.prototype,e,{allOwnKeys:!0}),V.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Um(Cr(t,i))},n}const Ve=Um(Ws);Ve.Axios=yr;Ve.CanceledError=ji;Ve.CancelToken=I4;Ve.isCancel=Am;Ve.VERSION=Dm;Ve.toFormData=$o;Ve.AxiosError=me;Ve.Cancel=Ve.CanceledError;Ve.all=function(e){return Promise.all(e)};Ve.spread=M4;Ve.isAxiosError=D4;Ve.mergeConfig=Cr;Ve.AxiosHeaders=_t;Ve.formToJSON=t=>Rm(V.isHTMLForm(t)?new FormData(t):t);Ve.getAdapter=Mm.getAdapter;Ve.HttpStatusCode=Pu;Ve.default=Ve;const{Axios:dw,AxiosError:hw,CanceledError:fw,isCancel:pw,CancelToken:mw,VERSION:gw,all:yw,Cancel:vw,isAxiosError:xw,spread:_w,toFormData:ww,AxiosHeaders:bw,HttpStatusCode:Sw,formToJSON:kw,getAdapter:Cw,mergeConfig:Nw}=Ve,z4="http://localhost:8080/api",bt=Ve.create({baseURL:z4,headers:{"Content-Type":"application/json"}});bt.interceptors.request.use(t=>{const e=Ni.getState().token;return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));bt.interceptors.response.use(t=>t,t=>{var e;return((e=t.response)==null?void 0:e.status)===401&&(Ni.getState().logout(),window.location.href="/login"),Promise.reject(t)});const Bm={register:t=>bt.post("/auth/register",t),login:t=>bt.post("/auth/login",t),getMe:()=>bt.get("/auth/me")},U4={getAll:t=>bt.get("/get-templates",{params:{platform:t}}),getById:t=>bt.get(`/get-template-byId/${t}`)},gi={create:t=>bt.post("/create-project",t),getAll:()=>bt.get("/get-projects"),getById:t=>bt.get(`/get-project-byId/${t}`),update:(t,e)=>bt.put(`/update-project/${t}`,e),delete:t=>bt.delete(`/delete-projects/${t}`)},Gm={uploadImage:t=>{const e=new FormData;return e.append("image",t),bt.post("/uploads/image",e,{headers:{"Content-Type":"multipart/form-data"}})}};function B4(){const t=kn(),{setAuth:e}=Ni(),[n,r]=X.useState(!1),[i,s]=X.useState(!1),[a,o]=X.useState(""),[l,c]=X.useState({email:"",password:""}),u=async v=>{var p,h;v.preventDefault(),o(""),r(!0);try{const m=await Bm.login(l),{token:_,user:g}=m.data.data;e(g,_),t("/dashboard")}catch(m){o(((h=(p=m.response)==null?void 0:p.data)==null?void 0:h.error)||"Invalid email or password")}finally{r(!1)}},y=["Unlimited screenshot editing","Professional export options","Cloud storage included","Team collaboration tools"];return f.jsxs("div",{className:"w-full max-w-6xl flex flex-col lg:flex-row gap-8 lg:gap-16 items-center animate-blur-in px-4",children:[f.jsxs("div",{className:"flex-1 max-w-lg lg:max-w-none",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-8 animate-slide-up opacity-0 stagger-1",style:{animationFillMode:"forwards"},children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-black to-indigo-900 rounded-xl flex items-center justify-center shadow-lg shadow-black-500/25",children:f.jsxs("svg",{className:"w-7 h-7 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[f.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"3",strokeWidth:"2"}),f.jsx("rect",{x:"7",y:"7",width:"10",height:"10",rx:"1",fill:"currentColor"})]})}),f.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"Shotify"})]}),f.jsxs("div",{className:"animate-slide-up opacity-0 stagger-2",style:{animationFillMode:"forwards"},children:[f.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900 leading-tight mb-4",children:["Transform your",f.jsx("br",{}),f.jsx("span",{className:"gradient-text-animated",children:"screenshots"}),f.jsx("br",{}),"into art"]}),f.jsx("p",{className:"text-lg text-gray-600 mb-8 max-w-md",children:"Join thousands of creators who use Shotify to create beautiful, share-ready images in seconds."})]}),f.jsx("div",{className:"space-y-3 animate-slide-up opacity-0 stagger-3",style:{animationFillMode:"forwards"},children:y.map((v,p)=>f.jsxs("div",{className:"flex items-center gap-3 text-gray-700 group",style:{animationDelay:`${.3+p*.05}s`},children:[f.jsx("div",{className:"w-6 h-6 rounded-full bg-green-100 flex items-center justify-center group-hover:bg-green-200 transition-colors",children:f.jsx(Sr,{className:"w-3.5 h-3.5 text-green-600"})}),f.jsx("span",{className:"font-medium",children:v})]},v))}),f.jsxs("div",{className:"mt-10 flex items-center gap-4 animate-slide-up opacity-0 stagger-4",style:{animationFillMode:"forwards"},children:[f.jsx("div",{className:"flex -space-x-3",children:[...Array(4)].map((v,p)=>f.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 border-2 border-white flex items-center justify-center text-sm font-medium text-gray-500",children:String.fromCharCode(65+p)},p))}),f.jsxs("div",{className:"text-sm",children:[f.jsx("p",{className:"font-semibold text-gray-900",children:"2,000+ creators"}),f.jsx("p",{className:"text-gray-500",children:"already using Shotify"})]})]})]}),f.jsxs("div",{className:"w-full max-w-md",children:[f.jsxs("div",{className:"glass-card p-8 lg:p-10",children:[f.jsxs("div",{className:"text-center mb-8 animate-slide-up opacity-0 stagger-1",style:{animationFillMode:"forwards"},children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome back"}),f.jsx("p",{className:"text-gray-600",children:"Sign in to your account to continue"})]}),a&&f.jsx("div",{className:"mb-6 px-4 py-3 bg-red-50 border border-red-200 rounded-xl animate-scale-in",children:f.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-2",children:[f.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),a]})}),f.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6 animate-slide-up opacity-0 stagger-2",style:{animationFillMode:"forwards"},children:[f.jsxs("button",{type:"button",className:`flex items-center justify-center gap-2 px-4 py-3 rounded-xl border border-gray-200 bg-white
                         hover:bg-gray-50 hover:border-gray-300 transition-all duration-200 group shadow-sm`,children:[f.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[f.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),f.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),f.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),f.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Google"})]}),f.jsxs("button",{type:"button",className:`flex items-center justify-center gap-2 px-4 py-3 rounded-xl border border-gray-200 bg-white
                         hover:bg-gray-50 hover:border-gray-300 transition-all duration-200 group shadow-sm`,children:[f.jsx("svg",{className:"w-5 h-5 text-gray-900",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"GitHub"})]})]}),f.jsxs("div",{className:"flex items-center gap-4 mb-6 animate-slide-up opacity-0 stagger-2",style:{animationFillMode:"forwards"},children:[f.jsx("div",{className:"flex-1 h-px bg-gray-200"}),f.jsx("span",{className:"text-gray-400 text-sm",children:"or"}),f.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),f.jsxs("form",{onSubmit:u,className:"space-y-5",children:[f.jsxs("div",{className:"animate-slide-up opacity-0 stagger-3",style:{animationFillMode:"forwards"},children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),f.jsx("input",{id:"email",type:"email",required:!0,autoComplete:"email",value:l.email,onChange:v=>c({...l,email:v.target.value}),className:`w-full px-4 py-3 bg-white border border-gray-200 rounded-xl text-gray-900 placeholder:text-gray-400
                           focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20
                           transition-all duration-200 shadow-sm`,placeholder:"you@example.com"})]}),f.jsxs("div",{className:"animate-slide-up opacity-0 stagger-3",style:{animationFillMode:"forwards"},children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),f.jsx(an,{to:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-700 font-medium transition-colors",children:"Forgot?"})]}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{id:"password",type:i?"text":"password",required:!0,autoComplete:"current-password",value:l.password,onChange:v=>c({...l,password:v.target.value}),className:`w-full px-4 py-3 pr-12 bg-white border border-gray-200 rounded-xl text-gray-900 placeholder:text-gray-400
                             focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20
                             transition-all duration-200 shadow-sm`,placeholder:""}),f.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:i?f.jsx(Uo,{className:"w-5 h-5"}):f.jsx(Gs,{className:"w-5 h-5"})})]})]}),f.jsx("button",{type:"submit",disabled:n,className:`w-full py-3.5 bg-gray-900 text-white font-semibold rounded-xl
                         hover:bg-gray-800 active:scale-[0.98]
                         transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed
                         flex items-center justify-center gap-2 group shadow-lg shadow-gray-900/10
                         animate-slide-up opacity-0 stagger-4`,style:{animationFillMode:"forwards"},children:n?f.jsxs(f.Fragment,{children:[f.jsx(kr,{className:"w-5 h-5 animate-spin"}),"Signing in..."]}):f.jsxs(f.Fragment,{children:["Sign in",f.jsx(hm,{className:"w-4 h-4 group-hover:translate-x-0.5 transition-transform"})]})})]}),f.jsxs("p",{className:"mt-6 text-center text-sm text-gray-600 animate-slide-up opacity-0 stagger-5",style:{animationFillMode:"forwards"},children:["Don't have an account?"," ",f.jsx(an,{to:"/register",className:"font-semibold text-blue-600 hover:text-blue-700 transition-colors",children:"Sign up for free"})]})]}),f.jsxs("div",{className:"mt-6 flex items-center justify-center gap-6 text-gray-400 text-xs animate-slide-up opacity-0 stagger-5",style:{animationFillMode:"forwards"},children:[f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),f.jsx("span",{children:"SSL Secured"})]}),f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),f.jsx("span",{children:"Privacy Protected"})]})]})]})]})}function G4(){const t=kn(),{setAuth:e}=Ni(),[n,r]=X.useState(!1),[i,s]=X.useState(!1),[a,o]=X.useState(""),[l,c]=X.useState({name:"",email:"",password:""}),u=[{label:"At least 8 characters",met:l.password.length>=8}],y=async v=>{var p,h;if(v.preventDefault(),o(""),l.password.length<8){o("Password must be at least 8 characters");return}r(!0);try{const m=await Bm.register(l),{token:_,user:g}=m.data.data;e(g,_),t("/dashboard")}catch(m){o(((h=(p=m.response)==null?void 0:p.data)==null?void 0:h.error)||"Registration failed. Please try again.")}finally{r(!1)}};return f.jsx("div",{className:"w-full max-w-md animate-fade-in",children:f.jsxs("div",{className:"card border-border/50",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 bg-accent-green/10 rounded-2xl mb-4",children:f.jsxs("svg",{className:"w-8 h-8 text-accent-green",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[f.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"3",strokeWidth:"2"}),f.jsx("rect",{x:"7",y:"7",width:"10",height:"10",rx:"1",fill:"currentColor"})]})}),f.jsx("h1",{className:"text-2xl font-semibold text-text-primary",children:"Create account"}),f.jsx("p",{className:"text-text-secondary mt-2",children:"Start creating stunning screenshots"})]}),a&&f.jsx("div",{className:"mb-6 px-4 py-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:f.jsx("p",{className:"text-sm text-red-400",children:a})}),f.jsxs("form",{onSubmit:y,className:"space-y-5",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"name",className:"label",children:"Full name"}),f.jsx("input",{id:"name",type:"text",required:!0,autoComplete:"name",value:l.name,onChange:v=>c({...l,name:v.target.value}),className:"input",placeholder:"John Doe"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"label",children:"Email address"}),f.jsx("input",{id:"email",type:"email",required:!0,autoComplete:"email",value:l.email,onChange:v=>c({...l,email:v.target.value}),className:"input",placeholder:"you@example.com"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"label",children:"Password"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{id:"password",type:i?"text":"password",required:!0,autoComplete:"new-password",value:l.password,onChange:v=>c({...l,password:v.target.value}),className:"input pr-12",placeholder:""}),f.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute right-4 top-1/2 -translate-y-1/2 text-text-muted hover:text-text-secondary transition-colors",children:i?f.jsx(Uo,{className:"w-5 h-5"}):f.jsx(Gs,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"mt-3 space-y-2",children:u.map((v,p)=>f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center transition-colors ${v.met?"bg-accent-green":"bg-border"}`,children:v.met&&f.jsx(Sr,{className:"w-3 h-3 text-white"})}),f.jsx("span",{className:`text-xs ${v.met?"text-text-secondary":"text-text-muted"}`,children:v.label})]},p))})]}),f.jsx("button",{type:"submit",disabled:n,className:"btn-success w-full py-3",children:n?f.jsxs(f.Fragment,{children:[f.jsx(kr,{className:"w-5 h-5 animate-spin"}),"Creating account..."]}):"Create account"})]}),f.jsxs("p",{className:"mt-8 text-center text-sm text-text-secondary",children:["Already have an account?"," ",f.jsx(an,{to:"/login",className:"font-medium text-accent-blue hover:text-accent-blue-hover transition-colors",children:"Sign in"})]})]})})}function n0(t){const e=new Date,n=new Date(t),r=Math.floor((e.getTime()-n.getTime())/1e3);if(r<60)return"just now";const i=Math.floor(r/60);if(i<60)return`${i}m ago`;const s=Math.floor(i/60);if(s<24)return`${s}h ago`;const a=Math.floor(s/24);if(a<7)return`${a}d ago`;const o=Math.floor(a/7);if(o<4)return`${o}w ago`;const l=Math.floor(a/30);return l<12?`${l}mo ago`:`${Math.floor(a/365)}y ago`}function H4(){const t=kn(),[e,n]=X.useState([]),[r,i]=X.useState(!0),[s,a]=X.useState(null),[o,l]=X.useState(null),[c,u]=X.useState(""),[y,v]=X.useState("grid");X.useEffect(()=>{p()},[]),X.useEffect(()=>{const _=()=>l(null);if(o)return document.addEventListener("click",_),()=>document.removeEventListener("click",_)},[o]);const p=async()=>{try{const _=await gi.getAll();n(_.data.data||[])}catch(_){console.error("Failed to fetch projects:",_)}finally{i(!1)}},h=async _=>{try{await gi.delete(_),n(e.filter(g=>g.id!==_))}catch(g){console.error("Failed to delete project:",g)}finally{a(null)}},m=e.filter(_=>_.name.toLowerCase().includes(c.toLowerCase()));return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-emerald-50/30",children:[f.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[f.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-emerald-400/10 rounded-full blur-3xl animate-float-slow"}),f.jsx("div",{className:"absolute top-1/3 -left-20 w-72 h-72 bg-blue-400/10 rounded-full blur-3xl animate-float-slower"}),f.jsx("div",{className:"absolute bottom-20 right-1/4 w-64 h-64 bg-purple-400/10 rounded-full blur-3xl animate-float"})]}),f.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10 animate-slide-up",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("div",{className:"p-2 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-xl shadow-lg shadow-emerald-500/20",children:f.jsx(Os,{className:"w-5 h-5 text-white"})}),f.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-slate-900 via-slate-700 to-slate-900 bg-clip-text text-transparent",children:"Your Projects"})]}),f.jsx("p",{className:"text-slate-500 ml-12",children:"Create beautiful app screenshots in minutes"})]}),f.jsxs(an,{to:"/templates",className:"group relative inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white font-semibold rounded-xl shadow-lg shadow-emerald-500/30 hover:shadow-xl hover:shadow-emerald-500/40 hover:-translate-y-0.5 transition-all duration-300",children:[f.jsx(As,{className:"w-5 h-5 transition-transform group-hover:rotate-90 duration-300"}),"New Project",f.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-emerald-400 to-emerald-500 opacity-0 group-hover:opacity-100 transition-opacity duration-300 -z-10 blur-xl"})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-8 animate-slide-up",style:{animationDelay:"0.1s"},children:[f.jsxs("div",{className:"relative flex-1",children:[f.jsx(s3,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"text",placeholder:"Search projects...",value:c,onChange:_=>u(_.target.value),className:"w-full pl-12 pr-4 py-3.5 bg-white/80 backdrop-blur-sm border border-slate-200 rounded-xl text-slate-700 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all duration-300 shadow-sm hover:shadow-md"})]}),f.jsxs("div",{className:"flex items-center gap-2 p-1.5 bg-white/80 backdrop-blur-sm border border-slate-200 rounded-xl shadow-sm",children:[f.jsx("button",{onClick:()=>v("grid"),className:`p-2.5 rounded-lg transition-all duration-200 ${y==="grid"?"bg-emerald-500 text-white shadow-md":"text-slate-500 hover:bg-slate-100"}`,children:f.jsx(Kv,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>v("list"),className:`p-2.5 rounded-lg transition-all duration-200 ${y==="list"?"bg-emerald-500 text-white shadow-md":"text-slate-500 hover:bg-slate-100"}`,children:f.jsx(qv,{className:"w-4 h-4"})})]})]}),!r&&e.length>0&&f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8 animate-slide-up",style:{animationDelay:"0.15s"},children:[{label:"Total Projects",value:e.length,icon:Mf,color:"emerald"},{label:"This Week",value:e.filter(_=>new Date(_.updatedAt)>new Date(Date.now()-7*24*60*60*1e3)).length,icon:If,color:"blue"}].map((_,g)=>f.jsxs("div",{className:"p-4 bg-white/60 backdrop-blur-sm border border-slate-200/80 rounded-xl hover:shadow-lg transition-all duration-300 group",children:[f.jsx("div",{className:`inline-flex p-2 rounded-lg mb-2 ${_.color==="emerald"?"bg-emerald-100 text-emerald-600":"bg-blue-100 text-blue-600"}`,children:f.jsx(_.icon,{className:"w-4 h-4"})}),f.jsx("p",{className:"text-2xl font-bold text-slate-800",children:_.value}),f.jsx("p",{className:"text-sm text-slate-500",children:_.label})]},g))}),r?f.jsxs("div",{className:"flex flex-col items-center justify-center py-32",children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"w-16 h-16 border-4 border-emerald-200 rounded-full animate-spin border-t-emerald-500"}),f.jsx("div",{className:"absolute inset-0 w-16 h-16 border-4 border-transparent rounded-full animate-ping border-t-emerald-500/30"})]}),f.jsx("p",{className:"mt-6 text-slate-500 animate-pulse",children:"Loading your projects..."})]}):m.length===0?f.jsxs("div",{className:"relative overflow-hidden bg-white/60 backdrop-blur-sm border border-slate-200 rounded-3xl p-16 text-center animate-scale-in",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-50/50 via-transparent to-blue-50/50"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"inline-flex p-6 bg-gradient-to-br from-slate-100 to-slate-50 rounded-3xl mb-6 shadow-inner",children:f.jsx(Mf,{className:"w-12 h-12 text-slate-400"})}),f.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-3",children:c?"No projects found":"Start your first project"}),f.jsx("p",{className:"text-slate-500 mb-8 max-w-md mx-auto",children:c?"Try adjusting your search terms":"Create stunning app store screenshots with our beautiful templates"}),!c&&f.jsxs(an,{to:"/templates",className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white font-semibold rounded-xl shadow-lg shadow-emerald-500/30 hover:shadow-xl hover:shadow-emerald-500/40 hover:-translate-y-0.5 transition-all duration-300",children:[f.jsx(As,{className:"w-5 h-5"}),"Create Your First Project"]})]})]}):y==="grid"?f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:m.map((_,g)=>f.jsxs("div",{className:"group relative bg-white/70 backdrop-blur-sm border border-slate-200/80 rounded-2xl overflow-hidden cursor-pointer hover:shadow-2xl hover:shadow-slate-200/50 hover:-translate-y-1 hover:border-emerald-200 transition-all duration-500 animate-slide-up",style:{animationDelay:`${g*.05}s`},onClick:()=>t(`/editor/${_.id}`),children:[f.jsxs("div",{className:"aspect-[9/16] bg-gradient-to-br from-slate-100 to-slate-50 relative overflow-hidden",children:[_.thumbnail?f.jsx("img",{src:_.thumbnail,alt:_.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}):f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-gradient-to-br from-slate-200 to-slate-100 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-500",children:f.jsx(sn,{className:"w-8 h-8 text-slate-400"})}),f.jsx("span",{className:"text-xs text-slate-400",children:"No preview"})]})}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/80 via-slate-900/20 to-transparent opacity-0 group-hover:opacity-100 transition-all duration-500 flex items-end justify-center pb-6",children:f.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white/90 backdrop-blur-sm text-slate-800 font-medium text-sm rounded-full shadow-lg transform translate-y-4 group-hover:translate-y-0 transition-transform duration-500",children:["Open Editor",f.jsx(Of,{className:"w-4 h-4"})]})})]}),f.jsx("div",{className:"p-4",children:f.jsxs("div",{className:"flex items-start justify-between gap-2",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h3",{className:"font-semibold text-slate-800 truncate group-hover:text-emerald-600 transition-colors duration-300",children:_.name}),f.jsxs("div",{className:"flex items-center gap-2 mt-1.5",children:[f.jsx(If,{className:"w-3.5 h-3.5 text-slate-400"}),f.jsx("p",{className:"text-xs text-slate-500",children:n0(_.updatedAt)})]})]}),f.jsxs("div",{className:"relative",children:[f.jsx("button",{onClick:x=>{x.stopPropagation(),l(o===_.id?null:_.id)},className:"p-2 rounded-lg text-slate-400 hover:text-slate-600 hover:bg-slate-100 transition-all duration-200",children:f.jsx(Qv,{className:"w-4 h-4"})}),o===_.id&&f.jsxs("div",{className:"absolute right-0 mt-2 w-44 bg-white border border-slate-200 rounded-xl shadow-xl z-20 overflow-hidden animate-scale-in origin-top-right",onClick:x=>x.stopPropagation(),children:[f.jsxs("button",{onClick:()=>{l(null),t(`/editor/${_.id}`)},className:"w-full flex items-center gap-3 px-4 py-3 text-sm text-slate-600 hover:text-slate-900 hover:bg-slate-50 transition-colors",children:[f.jsx(zf,{className:"w-4 h-4"}),"Edit Project"]}),f.jsx("div",{className:"h-px bg-slate-100"}),f.jsxs("button",{onClick:()=>{l(null),a(_.id)},className:"w-full flex items-center gap-3 px-4 py-3 text-sm text-red-500 hover:text-red-600 hover:bg-red-50 transition-colors",children:[f.jsx(ds,{className:"w-4 h-4"}),"Delete Project"]})]})]})]})})]},_.id))}):f.jsx("div",{className:"space-y-3",children:m.map((_,g)=>f.jsxs("div",{className:"group flex items-center gap-4 p-4 bg-white/70 backdrop-blur-sm border border-slate-200/80 rounded-xl cursor-pointer hover:shadow-lg hover:border-emerald-200 transition-all duration-300 animate-slide-up",style:{animationDelay:`${g*.03}s`},onClick:()=>t(`/editor/${_.id}`),children:[f.jsx("div",{className:"w-16 h-28 bg-gradient-to-br from-slate-100 to-slate-50 rounded-lg overflow-hidden flex-shrink-0",children:_.thumbnail?f.jsx("img",{src:_.thumbnail,alt:_.name,className:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsx(sn,{className:"w-6 h-6 text-slate-400"})})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h3",{className:"font-semibold text-slate-800 truncate group-hover:text-emerald-600 transition-colors",children:_.name}),f.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Updated ",n0(_.updatedAt)]})]}),f.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:x=>{x.stopPropagation(),t(`/editor/${_.id}`)},className:"p-2 text-slate-400 hover:text-emerald-500 hover:bg-emerald-50 rounded-lg transition-colors",children:f.jsx(zf,{className:"w-4 h-4"})}),f.jsx("button",{onClick:x=>{x.stopPropagation(),a(_.id)},className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:f.jsx(ds,{className:"w-4 h-4"})})]}),f.jsx(Of,{className:"w-5 h-5 text-slate-300 group-hover:text-emerald-500 transition-colors"})]},_.id))})]}),s&&f.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",onClick:()=>a(null),children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-sm w-full overflow-hidden animate-scale-in",onClick:_=>_.stopPropagation(),children:[f.jsxs("div",{className:"p-8 text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-2xl flex items-center justify-center mx-auto mb-5",children:f.jsx(ds,{className:"w-8 h-8 text-red-500"})}),f.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"Delete Project?"}),f.jsx("p",{className:"text-slate-500",children:"This action cannot be undone. All project data will be permanently removed."})]}),f.jsxs("div",{className:"flex gap-3 p-4 bg-slate-50 border-t border-slate-100",children:[f.jsx("button",{onClick:()=>a(null),className:"flex-1 px-4 py-3 text-slate-700 font-medium bg-white border border-slate-200 rounded-xl hover:bg-slate-50 transition-colors",children:"Cancel"}),f.jsx("button",{onClick:()=>h(s),className:"flex-1 px-4 py-3 text-white font-medium bg-gradient-to-r from-red-500 to-red-600 rounded-xl hover:from-red-600 hover:to-red-700 shadow-lg shadow-red-500/30 transition-all",children:"Delete"})]})]})})]})}function $4(){var _;const t=kn(),[e,n]=X.useState([]),[r,i]=X.useState(!0),[s,a]=X.useState("all"),[o,l]=X.useState(null),[c,u]=X.useState(""),[y,v]=X.useState(!1);X.useEffect(()=>{p()},[s]);const p=async()=>{try{const g=await U4.getAll(s==="all"?void 0:s);n(g.data.data||[])}catch(g){console.error("Failed to fetch templates:",g)}finally{i(!1)}},h=async()=>{if(!(!o||!c.trim())){v(!0);try{const g=await gi.create({templateId:o.id,name:c.trim()});t(`/editor/${g.data.data.id}`)}catch(g){console.error("Failed to create project:",g)}finally{v(!1)}}},m=[{value:"all",label:"All Templates",icon:f.jsx(Cu,{className:"w-4 h-4"}),color:"slate"},{value:"ios",label:"iOS",icon:f.jsx(Da,{className:"w-4 h-4"}),color:"blue"},{value:"android",label:"Android",icon:f.jsx(sn,{className:"w-4 h-4"}),color:"emerald"}];return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-emerald-50/30",children:[f.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[f.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-emerald-400/10 rounded-full blur-3xl animate-float-slow"}),f.jsx("div",{className:"absolute top-1/2 -left-20 w-72 h-72 bg-blue-400/10 rounded-full blur-3xl animate-float-slower"}),f.jsx("div",{className:"absolute bottom-20 right-1/3 w-64 h-64 bg-purple-400/10 rounded-full blur-3xl animate-float"})]}),f.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[f.jsxs("div",{className:"text-center mb-12 animate-slide-up",children:[f.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-100 text-emerald-700 rounded-full text-sm font-medium mb-6",children:[f.jsx(gm,{className:"w-4 h-4"}),"Start Creating in Seconds"]}),f.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-slate-900 via-slate-700 to-slate-900 bg-clip-text text-transparent mb-4",children:"Choose Your Template"}),f.jsx("p",{className:"text-lg text-slate-500 max-w-2xl mx-auto",children:"Professional templates designed for App Store and Play Store. Pick one and start customizing in our powerful editor."})]}),f.jsx("div",{className:"flex flex-wrap items-center justify-center gap-3 mb-10 animate-slide-up",style:{animationDelay:"0.1s"},children:m.map(({value:g,label:x,icon:d})=>f.jsxs("button",{onClick:()=>a(g),className:`
                group relative flex items-center gap-2.5 px-5 py-3 rounded-xl font-medium text-sm
                transition-all duration-300 ease-out
                ${s===g?"bg-gradient-to-r from-emerald-500 to-emerald-600 text-white shadow-lg shadow-emerald-500/30":"bg-white/80 backdrop-blur-sm text-slate-600 border border-slate-200 hover:border-emerald-300 hover:shadow-lg hover:-translate-y-0.5"}
              `,children:[f.jsx("span",{className:`transition-transform duration-300 ${s===g?"scale-110":"group-hover:scale-110"}`,children:d}),x,s===g&&f.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-white rounded-full shadow-md flex items-center justify-center",children:f.jsx(Sr,{className:"w-2 h-2 text-emerald-500"})})]},g))}),f.jsxs("div",{className:"flex justify-center gap-8 mb-10 animate-slide-up",style:{animationDelay:"0.15s"},children:[f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-3xl font-bold text-slate-800",children:e.length}),f.jsx("p",{className:"text-sm text-slate-500",children:"Templates"})]}),f.jsx("div",{className:"w-px bg-slate-200"}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-3xl font-bold text-slate-800",children:"2"}),f.jsx("p",{className:"text-sm text-slate-500",children:"Platforms"})]}),f.jsx("div",{className:"w-px bg-slate-200"}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-3xl font-bold text-emerald-500",children:"Free"}),f.jsx("p",{className:"text-sm text-slate-500",children:"To Start"})]})]}),r?f.jsxs("div",{className:"flex flex-col items-center justify-center py-32",children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"w-16 h-16 border-4 border-emerald-200 rounded-full animate-spin border-t-emerald-500"}),f.jsx("div",{className:"absolute inset-0 w-16 h-16 border-4 border-transparent rounded-full animate-ping border-t-emerald-500/30"})]}),f.jsx("p",{className:"mt-6 text-slate-500 animate-pulse",children:"Loading templates..."})]}):e.length===0?f.jsxs("div",{className:"relative overflow-hidden bg-white/60 backdrop-blur-sm border border-slate-200 rounded-3xl p-16 text-center animate-scale-in",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-50/50 via-transparent to-blue-50/50"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"inline-flex p-6 bg-gradient-to-br from-slate-100 to-slate-50 rounded-3xl mb-6 shadow-inner",children:f.jsx(Df,{className:"w-12 h-12 text-slate-400"})}),f.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-3",children:"No templates found"}),f.jsx("p",{className:"text-slate-500",children:"Try changing the filter to see more templates"})]})]}):f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map((g,x)=>f.jsxs("div",{onClick:()=>{l(g),u(`${g.name} Project`)},className:`
                  group relative bg-white/70 backdrop-blur-sm border rounded-2xl overflow-hidden cursor-pointer 
                  transition-all duration-500 ease-out animate-slide-up
                  hover:shadow-2xl hover:shadow-slate-200/50 hover:-translate-y-2
                  ${(o==null?void 0:o.id)===g.id?"border-emerald-400 ring-2 ring-emerald-400/30 shadow-xl shadow-emerald-500/10":"border-slate-200/80 hover:border-emerald-200"}
                `,style:{animationDelay:`${x*.05}s`},children:[(o==null?void 0:o.id)===g.id&&f.jsx("div",{className:"absolute top-3 right-3 z-10 p-1.5 bg-emerald-500 rounded-full shadow-lg animate-scale-in",children:f.jsx(Sr,{className:"w-4 h-4 text-white"})}),f.jsxs("div",{className:"aspect-[9/16] relative overflow-hidden",children:[f.jsx("div",{className:"w-full h-full flex items-center justify-center transition-transform duration-700 group-hover:scale-105",style:{backgroundColor:g.jsonConfig.canvas.backgroundColor},children:f.jsxs("div",{className:"w-3/4 h-3/4 flex flex-col items-center justify-center gap-3",children:[f.jsx("div",{className:"w-full h-4 bg-white/30 rounded-full animate-pulse"}),f.jsx("div",{className:"w-2/3 h-3 bg-white/20 rounded-full"}),f.jsx("div",{className:"w-1/2 h-32 bg-white/20 rounded-xl mt-4 shadow-inner"}),f.jsx("div",{className:"w-1/3 h-3 bg-white/15 rounded-full mt-2"})]})}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/0 to-black/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),f.jsx("div",{className:"absolute inset-0 flex items-end justify-center pb-6 opacity-0 group-hover:opacity-100 transition-all duration-500",children:f.jsxs("span",{className:"inline-flex items-center gap-2 px-5 py-2.5 bg-white/95 backdrop-blur-sm text-slate-800 font-semibold text-sm rounded-full shadow-xl transform translate-y-4 group-hover:translate-y-0 transition-transform duration-500 ease-out",children:[f.jsx(Os,{className:"w-4 h-4 text-emerald-500"}),"Use This Template"]})})]}),f.jsxs("div",{className:"p-4 bg-gradient-to-b from-transparent to-slate-50/50",children:[f.jsx("h3",{className:"font-semibold text-slate-800 group-hover:text-emerald-600 transition-colors duration-300 mb-2",children:g.name}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:`
                      inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium
                      ${g.platform==="ios"?"bg-blue-100 text-blue-700":g.platform==="android"?"bg-emerald-100 text-emerald-700":"bg-purple-100 text-purple-700"}
                    `,children:[g.platform==="ios"?f.jsx(Da,{className:"w-3 h-3"}):f.jsx(sn,{className:"w-3 h-3"}),g.platform==="both"?"Both":g.platform.toUpperCase()]}),f.jsxs("span",{className:"text-xs text-slate-400",children:[g.jsonConfig.canvas.width,"  ",g.jsonConfig.canvas.height]})]})]})]},g.id))})]}),o&&f.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",onClick:()=>l(null),children:f.jsxs("div",{className:"relative bg-white rounded-3xl shadow-2xl max-w-lg w-full overflow-hidden animate-scale-in",onClick:g=>g.stopPropagation(),children:[f.jsx("button",{onClick:()=>l(null),className:"absolute top-4 right-4 p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-full transition-colors z-10",children:f.jsx(mm,{className:"w-5 h-5"})}),f.jsxs("div",{className:"h-40 flex items-center justify-center relative overflow-hidden",style:{backgroundColor:o.jsonConfig.canvas.backgroundColor},children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-white/20"}),f.jsxs("div",{className:"relative text-center",children:[f.jsx("div",{className:"inline-flex p-3 bg-white/20 backdrop-blur-sm rounded-2xl mb-2",children:f.jsx(Df,{className:"w-8 h-8 text-white"})}),f.jsx("p",{className:"text-white/90 font-medium",children:o.name})]})]}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx("div",{className:"p-2 bg-emerald-100 rounded-xl",children:f.jsx(Os,{className:"w-5 h-5 text-emerald-600"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Create New Project"}),f.jsx("p",{className:"text-sm text-slate-500",children:"Give your project a memorable name"})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"projectName",className:"block text-sm font-medium text-slate-700 mb-2",children:"Project Name"}),f.jsx("input",{id:"projectName",type:"text",value:c,onChange:g=>u(g.target.value),className:"w-full px-4 py-3.5 bg-slate-50 border border-slate-200 rounded-xl text-slate-800 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all duration-300",placeholder:"My Awesome App",autoFocus:!0})]}),f.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-xl",children:[f.jsxs("span",{className:`
                    inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium
                    ${o.platform==="ios"?"bg-blue-100 text-blue-700":o.platform==="android"?"bg-emerald-100 text-emerald-700":"bg-purple-100 text-purple-700"}
                  `,children:[o.platform==="ios"?f.jsx(Da,{className:"w-3 h-3"}):f.jsx(sn,{className:"w-3 h-3"}),o.platform==="both"?"iOS & Android":o.platform.toUpperCase()]}),f.jsxs("span",{className:"text-xs text-slate-500",children:[o.jsonConfig.canvas.width,"  ",o.jsonConfig.canvas.height]}),f.jsxs("span",{className:"text-xs text-slate-500",children:[" ",((_=o.jsonConfig.layers)==null?void 0:_.length)||0," layers"]})]})]})]}),f.jsxs("div",{className:"flex gap-3 p-4 bg-slate-50 border-t border-slate-100",children:[f.jsx("button",{onClick:()=>l(null),className:"flex-1 px-4 py-3 text-slate-700 font-medium bg-white border border-slate-200 rounded-xl hover:bg-slate-50 transition-colors",children:"Cancel"}),f.jsx("button",{onClick:h,disabled:y||!c.trim(),className:"flex-1 inline-flex items-center justify-center gap-2 px-4 py-3 text-white font-semibold bg-gradient-to-r from-emerald-500 to-emerald-600 rounded-xl shadow-lg shadow-emerald-500/30 hover:shadow-xl hover:shadow-emerald-500/40 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300",children:y?f.jsxs(f.Fragment,{children:[f.jsx(kr,{className:"w-4 h-4 animate-spin"}),"Creating..."]}):f.jsxs(f.Fragment,{children:["Create Project",f.jsx(hm,{className:"w-4 h-4"})]})})]})]})})]})}const r0={projectName:"",slides:[],currentSlideId:null,selectedLayerId:null,images:[],exportSizes:[],history:[],historyIndex:-1,isDirty:!1,deviceFrame:{type:"dynamic",orientation:"portrait",showFrame:!0}},Nr=um((t,e)=>({...r0,setProjectName:n=>t({projectName:n}),setSlides:n=>t({slides:n}),addSlide:()=>{const{slides:n,pushHistory:r}=e();r();const i=n[n.length-1],s={id:`slide-${Date.now()}`,canvas:i?{...i.canvas}:{width:1242,height:2688,backgroundColor:"#D8E5D8"},layers:i?i.layers.map(a=>({...a,id:`${a.id}-${Date.now()}`,properties:{...a.properties}})):[]};t({slides:[...n,s],currentSlideId:s.id,isDirty:!0})},duplicateSlide:n=>{const{slides:r,pushHistory:i}=e();i();const s=r.findIndex(c=>c.id===n);if(s===-1)return;const a=r[s],o={id:`slide-${Date.now()}`,canvas:{...a.canvas},layers:a.layers.map(c=>({...c,id:`${c.id}-${Date.now()}`,properties:{...c.properties}}))},l=[...r];l.splice(s+1,0,o),t({slides:l,currentSlideId:o.id,isDirty:!0})},deleteSlide:n=>{var o;const{slides:r,currentSlideId:i,pushHistory:s}=e();if(r.length<=1)return;s();const a=r.filter(l=>l.id!==n);t({slides:a,currentSlideId:i===n?(o=a[0])==null?void 0:o.id:i,isDirty:!0})},setCurrentSlideId:n=>t({currentSlideId:n,selectedLayerId:null}),getCurrentSlide:()=>{const{slides:n,currentSlideId:r}=e();return n.find(i=>i.id===r)},updateLayer:(n,r,i)=>{const{slides:s,pushHistory:a}=e();a(),t({slides:s.map(o=>o.id!==n?o:{...o,layers:o.layers.map(l=>l.id===r?{...l,...i}:l)}),isDirty:!0})},deleteLayer:(n,r)=>{const{slides:i,selectedLayerId:s,pushHistory:a}=e();a(),t({slides:i.map(o=>o.id!==n?o:{...o,layers:o.layers.filter(l=>l.id!==r)}),selectedLayerId:s===r?null:s,isDirty:!0})},addLayer:(n,r)=>{const{slides:i,pushHistory:s}=e();s(),t({slides:i.map(a=>a.id!==n?a:{...a,layers:[...a.layers,r]}),isDirty:!0})},setSelectedLayerId:n=>t({selectedLayerId:n}),getSelectedLayer:()=>{const{slides:n,currentSlideId:r,selectedLayerId:i}=e(),s=n.find(a=>a.id===r);return s==null?void 0:s.layers.find(a=>a.id===i)},addImage:n=>{const{images:r}=e();t({images:[...r,n],isDirty:!0})},setExportSizes:n=>t({exportSizes:n}),setDeviceFrame:n=>{const{deviceFrame:r}=e();t({deviceFrame:{...r,...n},isDirty:!0})},pushHistory:()=>{const{slides:n,history:r,historyIndex:i}=e(),s=r.slice(0,i+1);s.push(JSON.parse(JSON.stringify(n))),t({history:s.slice(-50),historyIndex:s.length-1})},undo:()=>{const{history:n,historyIndex:r}=e();if(r>0){const i=r-1;t({slides:JSON.parse(JSON.stringify(n[i])),historyIndex:i,isDirty:!0})}},redo:()=>{const{history:n,historyIndex:r}=e();if(r<n.length-1){const i=r+1;t({slides:JSON.parse(JSON.stringify(n[i])),historyIndex:i,isDirty:!0})}},setIsDirty:n=>t({isDirty:n}),reset:()=>t(r0),initialize:(n,r,i,s,a)=>{var l;let o;if(a&&a.length>0)o=a.map((c,u)=>({id:c.id||`slide-${Date.now()}-${u}`,canvas:c.canvas,layers:c.layers.map(y=>({...y,properties:{...y.properties}}))}));else{o=[];for(let c=0;c<5;c++)o.push({id:`slide-${Date.now()}-${c}`,canvas:{...n},layers:r.map(u=>({...u,id:`${u.id}-${c}`,properties:{...u.properties}}))})}t({slides:o,currentSlideId:((l=o[0])==null?void 0:l.id)||null,selectedLayerId:null,images:i,exportSizes:s,history:[o],historyIndex:0,isDirty:!1})}}));function V4({slide:t,isActive:e,index:n,onClick:r}){const{selectedLayerId:i,setSelectedLayerId:s,currentSlideId:a,updateLayer:o}=Nr(),l=X.useRef(null),c=X.useRef(null),u=(x,d)=>{x.stopPropagation(),t.id!==a&&r(),s(d)},y=()=>{r(),s(null)},v=async(x,d)=>{try{const b=(await Gm.uploadImage(d)).data.data.url,E=Nr.getState().slides.find(N=>N.id===t.id),j=E==null?void 0:E.layers.find(N=>N.id===x);j&&o(t.id,x,{properties:{...j.properties,src:b}})}catch(w){console.error("Failed to upload image:",w)}},p=x=>{var w;const d=(w=x.target.files)==null?void 0:w[0];d&&c.current&&v(c.current,d),c.current=null,x.target&&(x.target.value="")},h=x=>{var d;c.current=x,(d=l.current)==null||d.click()},m=x=>{if(!x.visible)return null;const d=i===x.id&&t.id===a,w=x.type==="shape"&&x.x===0&&x.y===0&&x.width===t.canvas.width&&x.height===t.canvas.height,b={position:"absolute",left:w?"0":`${x.x/t.canvas.width*100}%`,top:w?"0":`${x.y/t.canvas.height*100}%`,width:`${x.width/t.canvas.width*100}%`,height:x.type==="text"?"auto":`${x.height/t.canvas.height*100}%`,transform:w?"none":`translate(-50%, ${x.type==="text"?"0":"-50%"}) rotate(${x.rotation}deg)`,opacity:x.opacity,cursor:x.locked?"default":"pointer",zIndex:x.zIndex},E=d?{outline:"2px solid #4ADE80",outlineOffset:"2px",borderRadius:"4px"}:{};switch(x.type){case"text":{const j=x.properties;return f.jsx("div",{onClick:N=>u(N,x.id),style:{...b,...E,fontFamily:j.fontFamily,fontSize:`${j.fontSize/t.canvas.width*100}vw`,fontWeight:j.fontWeight,color:j.color,textAlign:j.align,lineHeight:j.lineHeight,whiteSpace:"pre-wrap",padding:"4px"},className:`transition-all duration-150 ${x.locked?"":"hover:outline hover:outline-2 hover:outline-emerald-400/50 hover:outline-offset-2"}`,children:j.content},x.id)}case"image":case"screenshot":{const j=x.properties;return f.jsx("div",{onClick:N=>u(N,x.id),style:{...b,...E,borderRadius:`${j.borderRadius}px`,overflow:"hidden",boxShadow:j.shadow?`${j.shadowOffsetX}px ${j.shadowOffsetY}px ${j.shadowBlur}px ${j.shadowColor}`:"none"},className:`transition-all duration-150 ${x.locked?"":"hover:outline hover:outline-2 hover:outline-emerald-400/50 hover:outline-offset-2"}`,children:j.src?f.jsx("img",{src:j.src,alt:x.name,className:"w-full h-full object-cover",draggable:!1}):f.jsxs("div",{className:"w-full h-full bg-white/10 backdrop-blur-sm flex flex-col items-center justify-center gap-3 border-2 border-dashed border-white/30 rounded-[inherit]",onClick:N=>{N.stopPropagation(),u(N,x.id),h(x.id)},children:[f.jsx("div",{className:"p-3 bg-white/10 rounded-full",children:x.type==="screenshot"?f.jsx(sn,{className:"w-8 h-8 text-white/60"}):f.jsx(Yv,{className:"w-8 h-8 text-white/60"})}),f.jsx("span",{className:"text-xs text-white/60 font-medium",children:j.placeholder||"Click to add image"})]})},x.id)}case"shape":{const j=x.properties;return f.jsx("div",{onClick:N=>u(N,x.id),style:{...b,...E,backgroundColor:j.fill,borderRadius:j.shapeType==="circle"?"50%":`${j.cornerRadius}px`,border:j.stroke?`${j.strokeWidth}px solid ${j.stroke}`:"none"},className:`transition-all duration-150 ${x.locked?"":"hover:outline hover:outline-2 hover:outline-emerald-400/50 hover:outline-offset-2"}`},x.id)}default:return null}},_=[...t.layers].sort((x,d)=>x.zIndex-d.zIndex),g=t.canvas.backgroundColor;return console.log("Rendering TemplateSlide:",t),f.jsxs("div",{className:"relative h-full flex-shrink-0 group",style:{aspectRatio:`${t.canvas.width}/${t.canvas.height}`},children:[f.jsx("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 px-3 py-1 bg-surface rounded-full text-xs font-medium text-text-secondary",children:n+1}),f.jsxs("div",{onClick:y,className:`
          relative w-full h-full rounded-2xl overflow-hidden cursor-pointer
          transition-all duration-200
          ${e?"ring-2 ring-emerald-500 ring-offset-2 ring-offset-background shadow-xl shadow-emerald-500/20":"ring-1 ring-border hover:ring-2 hover:ring-emerald-400/50 hover:shadow-lg"}
        `,style:{backgroundColor:g},children:[_.map(m),e&&f.jsx("div",{className:"absolute top-3 right-3 px-2 py-1 bg-emerald-500 text-white text-xs font-medium rounded-full shadow-lg",children:"Editing"})]}),f.jsx("input",{ref:l,type:"file",accept:"image/*",className:"hidden",onChange:p})]})}function Ks({title:t,icon:e,children:n,defaultOpen:r=!0,actions:i}){const[s,a]=X.useState(r);return f.jsxs("div",{className:"border border-border rounded-xl overflow-hidden bg-surface/50",children:[f.jsxs("button",{onClick:()=>a(!s),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-surface transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-1.5 bg-emerald-500/10 rounded-lg text-emerald-500",children:e}),f.jsx("span",{className:"text-sm font-semibold text-text-primary",children:t})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[i,f.jsx(zd,{className:`w-4 h-4 text-text-muted transition-transform ${s?"rotate-180":""}`})]})]}),s&&f.jsx("div",{className:"px-4 pb-4 space-y-4",children:n})]})}function ts({label:t,value:e,onChange:n,type:r="text",min:i,max:s,step:a}){return f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-xs font-medium text-text-muted uppercase tracking-wider",children:t}),f.jsx("input",{type:r,value:e,onChange:o=>n(o.target.value),min:i,max:s,step:a,className:"w-full px-3 py-2 bg-background border border-border rounded-lg text-sm text-text-primary focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500 transition-all"})]})}function Fs({label:t,value:e,onChange:n}){return f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-xs font-medium text-text-muted uppercase tracking-wider",children:t}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"relative",children:f.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value),className:"w-10 h-10 rounded-lg border border-border cursor-pointer bg-transparent"})}),f.jsx("input",{type:"text",value:e,onChange:r=>n(r.target.value),className:"flex-1 px-3 py-2 bg-background border border-border rounded-lg text-sm font-mono text-text-primary focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500 transition-all"})]})]})}function Er({label:t,value:e,onChange:n,min:r,max:i,step:s=1,suffix:a=""}){return f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("label",{className:"text-xs font-medium text-text-muted uppercase tracking-wider",children:t}),f.jsxs("span",{className:"text-xs text-text-secondary font-medium",children:[e,a]})]}),f.jsx("input",{type:"range",value:e,onChange:o=>n(parseFloat(o.target.value)),min:r,max:i,step:s,className:"w-full h-2 bg-border rounded-full appearance-none cursor-pointer accent-emerald-500"})]})}function W4({label:t,checked:e,onChange:n}){return f.jsxs("label",{className:"flex items-center justify-between cursor-pointer group",children:[f.jsx("span",{className:"text-sm text-text-primary group-hover:text-emerald-500 transition-colors",children:t}),f.jsx("button",{type:"button",onClick:()=>n(!e),className:`relative w-11 h-6 rounded-full transition-colors ${e?"bg-emerald-500":"bg-border"}`,children:f.jsx("div",{className:`absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full shadow-sm transition-transform ${e?"translate-x-5":""}`})})]})}function K4({layer:t,onUpdate:e}){const n=t.properties,r=i=>{e({properties:{...n,...i}})};return f.jsx(Ks,{title:"Text",icon:f.jsx(fm,{className:"w-4 h-4"}),children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-xs font-medium text-text-muted uppercase tracking-wider",children:"Content"}),f.jsx("textarea",{value:n.content,onChange:i=>r({content:i.target.value}),rows:3,className:"w-full px-3 py-2 bg-background border border-border rounded-lg text-sm text-text-primary resize-none focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500 transition-all"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsx(ts,{label:"Font Size",type:"number",value:n.fontSize,onChange:i=>r({fontSize:parseInt(i)||16}),min:8,max:200}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-xs font-medium text-text-muted uppercase tracking-wider",children:"Weight"}),f.jsxs("select",{value:n.fontWeight,onChange:i=>r({fontWeight:i.target.value}),className:"w-full px-3 py-2 bg-background border border-border rounded-lg text-sm text-text-primary focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500 transition-all",children:[f.jsx("option",{value:"400",children:"Regular"}),f.jsx("option",{value:"500",children:"Medium"}),f.jsx("option",{value:"600",children:"Semibold"}),f.jsx("option",{value:"700",children:"Bold"})]})]})]}),f.jsx(Fs,{label:"Color",value:n.color,onChange:i=>r({color:i})}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-xs font-medium text-text-muted uppercase tracking-wider",children:"Alignment"}),f.jsx("div",{className:"flex gap-1 bg-background p-1 rounded-lg",children:[{value:"left",icon:f.jsx(Gv,{className:"w-4 h-4"})},{value:"center",icon:f.jsx(Bv,{className:"w-4 h-4"})},{value:"right",icon:f.jsx(Hv,{className:"w-4 h-4"})}].map(({value:i,icon:s})=>f.jsx("button",{onClick:()=>r({align:i}),className:`flex-1 p-2 rounded-md transition-all ${n.align===i?"bg-emerald-500 text-white":"text-text-secondary hover:bg-surface"}`,children:s},i))})]}),f.jsx(Er,{label:"Line Height",value:n.lineHeight,onChange:i=>r({lineHeight:i}),min:.8,max:3,step:.1})]})})}function Y4({layer:t,onUpdate:e}){const n=t.properties,r=X.useRef(null),[i,s]=X.useState(!1),a=l=>{e({properties:{...n,...l}})},o=async l=>{var u;const c=(u=l.target.files)==null?void 0:u[0];if(c){s(!0);try{const y=await Gm.uploadImage(c);a({src:y.data.data.url})}catch(y){console.error("Failed to upload image:",y)}finally{s(!1)}}};return f.jsx(Ks,{title:t.type==="screenshot"?"Device":"Image",icon:t.type==="screenshot"?f.jsx(sn,{className:"w-4 h-4"}):f.jsx(Ud,{className:"w-4 h-4"}),children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("input",{type:"file",ref:r,onChange:o,accept:"image/*",className:"hidden"}),f.jsxs("div",{className:"space-y-2",children:[n.src&&f.jsx("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-background border border-border",children:f.jsx("img",{src:n.src,alt:"Preview",className:"w-full h-full object-cover"})}),f.jsx("button",{onClick:()=>{var l;return(l=r.current)==null?void 0:l.click()},disabled:i,className:"w-full py-2.5 px-4 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg font-medium text-sm flex items-center justify-center gap-2 transition-colors disabled:opacity-50",children:i?f.jsxs(f.Fragment,{children:[f.jsx(kr,{className:"w-4 h-4 animate-spin"}),"Uploading..."]}):f.jsxs(f.Fragment,{children:[f.jsx(o3,{className:"w-4 h-4"}),n.src?"Change Image":"Add Screenshots"]})})]}),f.jsx(Er,{label:"Border Radius",value:n.borderRadius,onChange:l=>a({borderRadius:l}),min:0,max:100,suffix:"px"}),f.jsx(W4,{label:"Shadow",checked:n.shadow,onChange:l=>a({shadow:l})}),n.shadow&&f.jsxs("div",{className:"space-y-3 pl-4 border-l-2 border-emerald-500/30",children:[f.jsx(Er,{label:"Blur",value:n.shadowBlur,onChange:l=>a({shadowBlur:l}),min:0,max:100,suffix:"px"}),f.jsx(Fs,{label:"Shadow Color",value:n.shadowColor,onChange:l=>a({shadowColor:l})})]})]})})}function X4({layer:t,onUpdate:e}){const n=t.properties,r=i=>{e({properties:{...n,...i}})};return f.jsx(Ks,{title:"Shape",icon:f.jsx(Gd,{className:"w-4 h-4"}),children:f.jsxs("div",{className:"space-y-4",children:[f.jsx(Fs,{label:"Fill Color",value:n.fill,onChange:i=>r({fill:i})}),f.jsx(Er,{label:"Corner Radius",value:n.cornerRadius,onChange:i=>r({cornerRadius:i}),min:0,max:100,suffix:"px"}),f.jsx(Fs,{label:"Stroke Color",value:n.stroke||"#000000",onChange:i=>r({stroke:i})}),f.jsx(Er,{label:"Stroke Width",value:n.strokeWidth||0,onChange:i=>r({strokeWidth:i}),min:0,max:20,suffix:"px"})]})})}function q4({layer:t,onUpdate:e}){return f.jsx(Ks,{title:"Transform",icon:f.jsx(Jv,{className:"w-4 h-4"}),defaultOpen:!1,children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsx(ts,{label:"X Position",type:"number",value:Math.round(t.x),onChange:n=>e({x:parseInt(n)||0})}),f.jsx(ts,{label:"Y Position",type:"number",value:Math.round(t.y),onChange:n=>e({y:parseInt(n)||0})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsx(ts,{label:"Width",type:"number",value:Math.round(t.width),onChange:n=>e({width:parseInt(n)||100})}),f.jsx(ts,{label:"Height",type:"number",value:Math.round(t.height),onChange:n=>e({height:parseInt(n)||100})})]}),f.jsx(Er,{label:"Rotation",value:t.rotation,onChange:n=>e({rotation:n}),min:-180,max:180,suffix:""}),f.jsx(Er,{label:"Opacity",value:t.opacity*100,onChange:n=>e({opacity:n/100}),min:0,max:100,suffix:"%"})]})})}function Z4(){const{slides:t,currentSlideId:e,setSlides:n,pushHistory:r}=Nr(),i=t.find(o=>o.id===e);if(!i)return null;const s=o=>{r(),n(t.map(l=>l.id===e?{...l,canvas:{...l.canvas,backgroundColor:o}}:l))},a=["#D8E5D8","#E8D8E5","#D8E0E5","#E5E5D8","#E5D8D8","#0B0B0B","#1a1a2e","#16213e","#1b2838","#2d3436"];return f.jsx(Ks,{title:"Background",icon:f.jsx(t3,{className:"w-4 h-4"}),children:f.jsxs("div",{className:"space-y-4",children:[f.jsx(Fs,{label:"Color",value:i.canvas.backgroundColor,onChange:s}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-xs font-medium text-text-muted uppercase tracking-wider",children:"Presets"}),f.jsx("div",{className:"grid grid-cols-5 gap-2",children:a.map(o=>f.jsx("button",{onClick:()=>s(o),className:`w-full aspect-square rounded-lg border-2 transition-all hover:scale-110 ${i.canvas.backgroundColor===o?"border-emerald-500 ring-2 ring-emerald-500/30":"border-border hover:border-border-hover"}`,style:{backgroundColor:o}},o))})]})]})})}function Q4(){const{slides:t,currentSlideId:e,selectedLayerId:n,updateLayer:r}=Nr(),i=t.find(o=>o.id===e),s=i==null?void 0:i.layers.find(o=>o.id===n),a=o=>{e&&n&&r(e,n,o)};return f.jsxs("div",{className:"w-80 bg-background border-l border-border h-full flex flex-col",children:[f.jsx("div",{className:"px-4 py-4 border-b border-border",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"p-2 bg-emerald-500/10 rounded-lg",children:f.jsx(a3,{className:"w-5 h-5 text-emerald-500"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-sm font-semibold text-text-primary",children:s?s.name:"Properties"}),f.jsx("p",{className:"text-xs text-text-muted",children:s?`${s.type} element`:"Select an element to edit"})]})]})}),f.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:s?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center gap-2 p-2 bg-surface rounded-lg",children:[f.jsx("button",{onClick:()=>a({visible:!s.visible}),className:`p-2 rounded-lg transition-colors ${s.visible?"bg-emerald-500/10 text-emerald-500":"text-text-muted hover:bg-surface"}`,title:s.visible?"Hide layer":"Show layer",children:s.visible?f.jsx(Gs,{className:"w-4 h-4"}):f.jsx(Uo,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>a({locked:!s.locked}),className:`p-2 rounded-lg transition-colors ${s.locked?"bg-amber-500/10 text-amber-500":"text-text-muted hover:bg-surface"}`,title:s.locked?"Unlock layer":"Lock layer",children:s.locked?f.jsx(Bd,{className:"w-4 h-4"}):f.jsx(pm,{className:"w-4 h-4"})}),f.jsx("div",{className:"flex-1"}),f.jsxs("span",{className:"text-xs text-text-muted px-2 py-1 bg-background rounded",children:["z-",s.zIndex]})]}),s.type==="text"&&f.jsx(K4,{layer:s,onUpdate:a}),(s.type==="image"||s.type==="screenshot")&&f.jsx(Y4,{layer:s,onUpdate:a}),s.type==="shape"&&f.jsx(X4,{layer:s,onUpdate:a}),f.jsx(q4,{layer:s,onUpdate:a})]}):f.jsxs(f.Fragment,{children:[f.jsx(Z4,{}),i&&f.jsxs("div",{className:"p-4 bg-surface rounded-xl border border-border",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx(Os,{className:"w-4 h-4 text-emerald-500"}),f.jsx("span",{className:"text-sm font-medium text-text-primary",children:"Slide Info"})]}),f.jsxs("div",{className:"space-y-2 text-sm",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-text-muted",children:"Dimensions"}),f.jsxs("span",{className:"text-text-primary font-medium",children:[i.canvas.width,"  ",i.canvas.height]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-text-muted",children:"Layers"}),f.jsx("span",{className:"text-text-primary font-medium",children:i.layers.length})]})]})]})]})}),f.jsx("div",{className:"p-4 border-t border-border",children:f.jsx("div",{className:"text-xs text-text-muted text-center",children:"Click on elements in the preview to edit"})})]})}const J4={text:f.jsx(fm,{className:"w-4 h-4"}),image:f.jsx(Ud,{className:"w-4 h-4"}),screenshot:f.jsx(sn,{className:"w-4 h-4"}),shape:f.jsx(Gd,{className:"w-4 h-4"})};function ex(){const{slides:t,currentSlideId:e,selectedLayerId:n,setSelectedLayerId:r,updateLayer:i,deleteLayer:s}=Nr(),[a,o]=X.useState(!1),l=t.find(p=>p.id===e),c=(l==null?void 0:l.layers)||[],u=[...c].sort((p,h)=>h.zIndex-p.zIndex),y=(p,h)=>{e&&i(e,p,h)},v=p=>{e&&s(e,p)};return f.jsxs("div",{className:`bg-background border-r border-border h-full flex flex-col transition-all duration-200 ${a?"w-12":"w-64"}`,children:[f.jsxs("div",{className:"px-4 py-4 border-b border-border flex items-center justify-between",children:[!a&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"p-2 bg-emerald-500/10 rounded-lg",children:f.jsx(Cu,{className:"w-4 h-4 text-emerald-500"})}),f.jsx("span",{className:"text-sm font-semibold text-text-primary",children:"Elements"})]}),f.jsx("button",{onClick:()=>o(!a),className:"p-2 hover:bg-surface rounded-lg transition-colors",children:f.jsx(zd,{className:`w-4 h-4 text-text-muted transition-transform ${a?"-rotate-90":""}`})})]}),!a&&f.jsxs("div",{className:"flex-1 overflow-y-auto p-3",children:[f.jsx("div",{className:"space-y-1",children:u.map(p=>f.jsxs("div",{onClick:()=>r(p.id),className:`
                  group flex items-center gap-2 px-3 py-2.5 rounded-xl cursor-pointer
                  transition-all duration-150
                  ${n===p.id?"bg-emerald-500/10 border border-emerald-500/30":"hover:bg-surface border border-transparent"}
                  ${p.visible?"":"opacity-50"}
                `,children:[f.jsx("div",{className:`p-1.5 rounded-lg ${n===p.id?"bg-emerald-500/20 text-emerald-500":"bg-surface text-text-secondary"}`,children:J4[p.type]||f.jsx(Gd,{className:"w-4 h-4"})}),f.jsx("span",{className:"flex-1 text-sm truncate text-text-primary",children:p.name}),f.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:h=>{h.stopPropagation(),y(p.id,{visible:!p.visible})},className:"p-1.5 rounded-lg hover:bg-background transition-colors",children:p.visible?f.jsx(Gs,{className:"w-3.5 h-3.5 text-text-muted"}):f.jsx(Uo,{className:"w-3.5 h-3.5 text-text-muted"})}),f.jsx("button",{onClick:h=>{h.stopPropagation(),y(p.id,{locked:!p.locked})},className:"p-1.5 rounded-lg hover:bg-background transition-colors",children:p.locked?f.jsx(Bd,{className:"w-3.5 h-3.5 text-amber-500"}):f.jsx(pm,{className:"w-3.5 h-3.5 text-text-muted"})}),!p.locked&&f.jsx("button",{onClick:h=>{h.stopPropagation(),v(p.id)},className:"p-1.5 rounded-lg hover:bg-red-500/10 transition-colors",children:f.jsx(ds,{className:"w-3.5 h-3.5 text-red-400"})})]})]},p.id))}),c.length===0&&f.jsxs("div",{className:"text-center py-8",children:[f.jsx("div",{className:"w-12 h-12 bg-surface rounded-xl flex items-center justify-center mx-auto mb-3",children:f.jsx(Cu,{className:"w-6 h-6 text-text-muted"})}),f.jsx("p",{className:"text-sm text-text-muted",children:"No elements"})]})]}),!a&&f.jsx("div",{className:"p-3 border-t border-border",children:f.jsxs("button",{className:"w-full py-2.5 px-4 bg-surface hover:bg-border text-text-primary rounded-xl font-medium text-sm flex items-center justify-center gap-2 transition-colors",children:[f.jsx(As,{className:"w-4 h-4"}),"Add Element"]})})]})}function tx(){var D;const{projectId:t}=em(),e=kn(),n=X.useRef(null),{slides:r,currentSlideId:i,setCurrentSlideId:s,setSelectedLayerId:a,undo:o,redo:l,historyIndex:c,isDirty:u,setIsDirty:y,initialize:v,duplicateSlide:p,deleteSlide:h,addSlide:m}=Nr(),[_,g]=X.useState(null),[x,d]=X.useState(!0),[w,b]=X.useState(!1),[E,j]=X.useState("iphone");X.useEffect(()=>{if(!t)return;(async()=>{var O;try{const I=(await gi.getById(t)).data.data;g(I),v(I.projectConfig.canvas,I.projectConfig.layers,I.projectConfig.images||[],((O=I.template)==null?void 0:O.jsonConfig.exports)||[],I.projectConfig.slides)}catch(S){console.error("Failed to fetch project:",S),e("/dashboard")}finally{d(!1)}})()},[t,e,v]),X.useEffect(()=>{const C=O=>{(O.metaKey||O.ctrlKey)&&(O.key==="z"&&(O.preventDefault(),O.shiftKey?l():o()),O.key==="s"&&(O.preventDefault(),N()),O.key==="d"&&(O.preventDefault(),i&&p(i))),O.key==="Escape"&&a(null)};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[o,l,i,p,a]);const N=X.useCallback(async()=>{var C,O;if(!(!_||w)){b(!0);try{const{slides:S,images:I}=Nr.getState(),Z=S.map($=>({id:$.id,canvas:$.canvas,layers:$.layers}));await gi.update(_.id,{projectConfig:{canvas:((C=S[0])==null?void 0:C.canvas)||{width:1242,height:2688,backgroundColor:"#D8E5D8"},layers:((O=S[0])==null?void 0:O.layers)||[],images:I,slides:Z}}),y(!1)}catch(S){console.error("Failed to save project:",S)}finally{b(!1)}}},[_,w,y]),R=C=>{const O=n.current;if(!O)return;const S=O.scrollWidth/r.length,I=O.scrollLeft,Z=C==="left"?I-S:I+S;O.scrollTo({left:Z,behavior:"smooth"})},P=r.findIndex(C=>C.id===i);return x?f.jsx("div",{className:"h-screen bg-background flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx(kr,{className:"w-10 h-10 text-emerald-500 animate-spin mx-auto mb-4"}),f.jsx("p",{className:"text-text-muted",children:"Loading project..."})]})}):f.jsxs("div",{className:"h-screen bg-background flex flex-col overflow-hidden",children:[f.jsxs("header",{className:"h-16 bg-surface border-b border-border flex items-center justify-between px-4 flex-shrink-0",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs(an,{to:"/dashboard",className:"flex items-center gap-2 text-text-secondary hover:text-text-primary transition-colors",children:[f.jsx(dm,{className:"w-5 h-5"}),f.jsx("span",{className:"text-sm font-medium",children:"Back"})]}),f.jsx("div",{className:"h-8 w-px bg-border"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-lg flex items-center justify-center",children:f.jsx("span",{className:"text-white text-sm font-bold",children:"S"})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-sm font-semibold text-text-primary flex items-center gap-2",children:[_==null?void 0:_.name,u&&f.jsx("span",{className:"w-2 h-2 bg-amber-500 rounded-full"})]}),f.jsxs("p",{className:"text-xs text-text-muted",children:[r.length," slides  ",((D=r[0])==null?void 0:D.layers.length)||0," elements"]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-1 bg-surface border border-border rounded-xl p-1",children:[f.jsx("button",{onClick:()=>{},className:"p-2.5 rounded-lg bg-emerald-500 text-white",title:"Select",children:f.jsx(Sr,{className:"w-4 h-4"})}),f.jsx("button",{onClick:o,disabled:c<=0,className:"p-2.5 rounded-lg text-text-secondary hover:bg-background disabled:opacity-30 transition-colors",title:"Undo (Z)",children:f.jsx(r3,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>i&&p(i),className:"p-2.5 rounded-lg text-text-secondary hover:bg-background transition-colors",title:"Duplicate (D)",children:f.jsx(Vv,{className:"w-4 h-4"})}),f.jsx("button",{className:"p-2.5 rounded-lg text-text-secondary hover:bg-background transition-colors",title:"Crop",children:f.jsx(Wv,{className:"w-4 h-4"})}),f.jsx("button",{className:"p-2.5 rounded-lg text-text-secondary hover:bg-background transition-colors",title:"Lock",children:f.jsx(Bd,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>i&&r.length>1&&h(i),disabled:r.length<=1,className:"p-2.5 rounded-lg text-red-400 hover:bg-red-500/10 disabled:opacity-30 transition-colors",title:"Delete",children:f.jsx(ds,{className:"w-4 h-4"})})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"flex items-center gap-1 bg-surface border border-border rounded-lg p-1",children:[f.jsx("button",{onClick:()=>j("iphone"),className:`px-3 py-1.5 rounded-md text-xs font-medium transition-colors ${E==="iphone"?"bg-emerald-500 text-white":"text-text-secondary hover:text-text-primary"}`,children:"iOS"}),f.jsx("button",{onClick:()=>j("android"),className:`px-3 py-1.5 rounded-md text-xs font-medium transition-colors ${E==="android"?"bg-emerald-500 text-white":"text-text-secondary hover:text-text-primary"}`,children:"Android"})]}),f.jsx("div",{className:"h-8 w-px bg-border"}),f.jsxs("button",{onClick:N,disabled:w||!u,className:"px-4 py-2 bg-surface border border-border rounded-lg text-sm font-medium text-text-primary hover:bg-border disabled:opacity-50 transition-colors flex items-center gap-2",children:[w?f.jsx(kr,{className:"w-4 h-4 animate-spin"}):f.jsx(i3,{className:"w-4 h-4"}),"Save"]}),f.jsxs("button",{className:"px-4 py-2 bg-surface border border-border rounded-lg text-sm font-medium text-text-primary hover:bg-border transition-colors flex items-center gap-2",children:[f.jsx(Gs,{className:"w-4 h-4"}),"Preview"]}),f.jsxs(an,{to:`/export/${t}`,className:"px-4 py-2 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg text-sm font-medium transition-colors flex items-center gap-2",children:[f.jsx(ku,{className:"w-4 h-4"}),"Export"]})]})]}),f.jsxs("div",{className:"h-12 bg-surface border-b border-border flex items-center px-4 gap-6",children:[f.jsx("button",{className:"px-4 py-2 text-sm font-medium text-text-secondary hover:text-text-primary transition-colors flex items-center gap-2",children:" Setup"}),f.jsx("button",{className:"px-4 py-2 text-sm font-medium text-emerald-500 border-b-2 border-emerald-500 -mb-px flex items-center gap-2",children:" Background"}),f.jsx("button",{className:"px-4 py-2 text-sm font-medium text-text-secondary hover:text-text-primary transition-colors flex items-center gap-2",children:" Localise"}),f.jsx("button",{className:"px-4 py-2 text-sm font-medium text-text-secondary hover:text-text-primary transition-colors flex items-center gap-2",children:" App Screens"}),f.jsx("div",{className:"flex-1"}),f.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-emerald-500/10 border border-emerald-500/30 rounded-lg",children:[f.jsx(sn,{className:"w-4 h-4 text-emerald-500"}),f.jsx("span",{className:"text-sm font-medium text-emerald-600",children:E==="iphone"?'iOS Phones - 6.9"':"Android - 1080p"}),f.jsx(Lf,{className:"w-4 h-4 text-emerald-500"})]})]}),f.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[f.jsx(ex,{}),f.jsxs("div",{className:"flex-1 bg-gradient-to-br from-slate-50 to-slate-100 overflow-hidden relative flex flex-col",children:[f.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-10 flex items-center gap-4",children:[f.jsx("button",{onClick:()=>R("left"),className:"p-2 bg-white shadow-lg rounded-full hover:bg-slate-50 transition-colors disabled:opacity-30",disabled:P<=0,children:f.jsx($v,{className:"w-5 h-5 text-text-primary"})}),f.jsxs("span",{className:"px-4 py-2 bg-white shadow-lg rounded-full text-sm font-medium text-text-primary",children:[P+1," / ",r.length]}),f.jsx("button",{onClick:()=>R("right"),className:"p-2 bg-white shadow-lg rounded-full hover:bg-slate-50 transition-colors disabled:opacity-30",disabled:P>=r.length-1,children:f.jsx(Lf,{className:"w-5 h-5 text-text-primary"})})]}),f.jsxs("div",{ref:n,className:"flex-1 flex items-center gap-8 px-8 overflow-x-auto overflow-y-hidden snap-x snap-mandatory scrollbar-hide",style:{paddingTop:"60px",paddingBottom:"20px"},children:[r.map((C,O)=>f.jsx("div",{className:"snap-center flex-shrink-0 h-[calc(100%-40px)]",style:{minWidth:"fit-content"},children:f.jsx(V4,{slide:C,isActive:C.id===i,index:O,onClick:()=>s(C.id)})},C.id)),f.jsx("div",{className:"snap-center flex-shrink-0 h-[calc(100%-40px)] flex items-center",children:f.jsxs("button",{onClick:m,className:"h-full aspect-[9/19.5] rounded-2xl border-2 border-dashed border-slate-300 hover:border-emerald-500 hover:bg-emerald-500/5 transition-all flex flex-col items-center justify-center gap-3 group",children:[f.jsx("div",{className:"p-4 bg-slate-100 group-hover:bg-emerald-500/10 rounded-full transition-colors",children:f.jsx(As,{className:"w-8 h-8 text-slate-400 group-hover:text-emerald-500 transition-colors"})}),f.jsx("span",{className:"text-sm font-medium text-slate-400 group-hover:text-emerald-500 transition-colors",children:"Add Slide"})]})})]}),f.jsxs("div",{className:"h-20 bg-white border-t border-border flex items-center px-4 gap-2 overflow-x-auto",children:[r.map((C,O)=>f.jsx("button",{onClick:()=>s(C.id),className:`
                  flex-shrink-0 h-14 aspect-[9/19.5] rounded-lg overflow-hidden border-2 transition-all
                  ${C.id===i?"border-emerald-500 shadow-lg shadow-emerald-500/20":"border-transparent hover:border-slate-300"}
                `,style:{backgroundColor:C.canvas.backgroundColor},children:f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsx("span",{className:"text-[8px] font-medium text-slate-600",children:O+1})})},C.id)),f.jsx("button",{onClick:m,className:"flex-shrink-0 h-14 aspect-[9/19.5] rounded-lg border-2 border-dashed border-slate-200 hover:border-emerald-500 flex items-center justify-center transition-colors",children:f.jsx(As,{className:"w-4 h-4 text-slate-400"})})]})]}),f.jsx(Q4,{})]})]})}function _a(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Hm={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,s){function a(c,u){if(!i[c]){if(!r[c]){var y=typeof _a=="function"&&_a;if(!u&&y)return y(c,!0);if(o)return o(c,!0);var v=new Error("Cannot find module '"+c+"'");throw v.code="MODULE_NOT_FOUND",v}var p=i[c]={exports:{}};r[c][0].call(p.exports,function(h){var m=r[c][1][h];return a(m||h)},p,p.exports,n,r,i,s)}return i[c].exports}for(var o=typeof _a=="function"&&_a,l=0;l<s.length;l++)a(s[l]);return a}({1:[function(n,r,i){var s=n("./utils"),a=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,u,y,v,p,h,m,_=[],g=0,x=l.length,d=x,w=s.getTypeOf(l)!=="string";g<l.length;)d=x-g,y=w?(c=l[g++],u=g<x?l[g++]:0,g<x?l[g++]:0):(c=l.charCodeAt(g++),u=g<x?l.charCodeAt(g++):0,g<x?l.charCodeAt(g++):0),v=c>>2,p=(3&c)<<4|u>>4,h=1<d?(15&u)<<2|y>>6:64,m=2<d?63&y:64,_.push(o.charAt(v)+o.charAt(p)+o.charAt(h)+o.charAt(m));return _.join("")},i.decode=function(l){var c,u,y,v,p,h,m=0,_=0,g="data:";if(l.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var x,d=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&d--,l.charAt(l.length-2)===o.charAt(64)&&d--,d%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=a.uint8array?new Uint8Array(0|d):new Array(0|d);m<l.length;)c=o.indexOf(l.charAt(m++))<<2|(v=o.indexOf(l.charAt(m++)))>>4,u=(15&v)<<4|(p=o.indexOf(l.charAt(m++)))>>2,y=(3&p)<<6|(h=o.indexOf(l.charAt(m++))),x[_++]=c,p!==64&&(x[_++]=u),h!==64&&(x[_++]=y);return x}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),a=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function c(u,y,v,p,h){this.compressedSize=u,this.uncompressedSize=y,this.crc32=v,this.compression=p,this.compressedContent=h}c.prototype={getContentWorker:function(){var u=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),y=this;return u.on("end",function(){if(this.streamInfo.data_length!==y.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,y,v){return u.pipe(new o).pipe(new l("uncompressedSize")).pipe(y.compressWorker(v)).pipe(new l("compressedSize")).withStreamInfo("compression",y)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),a=function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l}();r.exports=function(o,l){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?function(c,u,y,v){var p=a,h=v+y;c^=-1;for(var m=v;m<h;m++)c=c>>>8^p[255&(c^u[m])];return-1^c}(0|l,o,o.length,0):function(c,u,y,v){var p=a,h=v+y;c^=-1;for(var m=v;m<h;m++)c=c>>>8^p[255&(c^u.charCodeAt(m))];return-1^c}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=n("pako"),o=n("./utils"),l=n("./stream/GenericWorker"),c=s?"uint8array":"array";function u(y,v){l.call(this,"FlateWorker/"+y),this._pako=null,this._pakoAction=y,this._pakoOptions=v,this.meta={}}i.magic="\b\0",o.inherits(u,l),u.prototype.processChunk=function(y){this.meta=y.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(c,y.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var y=this;this._pako.onData=function(v){y.push({data:v,meta:y.meta})}},i.compressWorker=function(y){return new u("Deflate",y)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(p,h){var m,_="";for(m=0;m<h;m++)_+=String.fromCharCode(255&p),p>>>=8;return _}function a(p,h,m,_,g,x){var d,w,b=p.file,E=p.compression,j=x!==c.utf8encode,N=o.transformTo("string",x(b.name)),R=o.transformTo("string",c.utf8encode(b.name)),P=b.comment,D=o.transformTo("string",x(P)),C=o.transformTo("string",c.utf8encode(P)),O=R.length!==b.name.length,S=C.length!==P.length,I="",Z="",$="",U=b.dir,G=b.date,z={crc32:0,compressedSize:0,uncompressedSize:0};h&&!m||(z.crc32=p.crc32,z.compressedSize=p.compressedSize,z.uncompressedSize=p.uncompressedSize);var F=0;h&&(F|=8),j||!O&&!S||(F|=2048);var L=0,te=0;U&&(L|=16),g==="UNIX"?(te=798,L|=function(Q,ae){var M=Q;return Q||(M=ae?16893:33204),(65535&M)<<16}(b.unixPermissions,U)):(te=20,L|=function(Q){return 63&(Q||0)}(b.dosPermissions)),d=G.getUTCHours(),d<<=6,d|=G.getUTCMinutes(),d<<=5,d|=G.getUTCSeconds()/2,w=G.getUTCFullYear()-1980,w<<=4,w|=G.getUTCMonth()+1,w<<=5,w|=G.getUTCDate(),O&&(Z=s(1,1)+s(u(N),4)+R,I+="up"+s(Z.length,2)+Z),S&&($=s(1,1)+s(u(D),4)+C,I+="uc"+s($.length,2)+$);var J="";return J+=`
\0`,J+=s(F,2),J+=E.magic,J+=s(d,2),J+=s(w,2),J+=s(z.crc32,4),J+=s(z.compressedSize,4),J+=s(z.uncompressedSize,4),J+=s(N.length,2),J+=s(I.length,2),{fileRecord:y.LOCAL_FILE_HEADER+J+N+I,dirRecord:y.CENTRAL_FILE_HEADER+s(te,2)+J+s(D.length,2)+"\0\0\0\0"+s(L,4)+s(_,4)+N+I+D}}var o=n("../utils"),l=n("../stream/GenericWorker"),c=n("../utf8"),u=n("../crc32"),y=n("../signature");function v(p,h,m,_){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=h,this.zipPlatform=m,this.encodeFileName=_,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(v,l),v.prototype.push=function(p){var h=p.meta.percent||0,m=this.entriesCount,_=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,l.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:m?(h+100*(m-_-1))/m:100}}))},v.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var h=this.streamFiles&&!p.file.dir;if(h){var m=a(p,h,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(p){this.accumulate=!1;var h=this.streamFiles&&!p.file.dir,m=a(p,h,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),h)this.push({data:function(_){return y.DATA_DESCRIPTOR+s(_.crc32,4)+s(_.compressedSize,4)+s(_.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var p=this.bytesWritten,h=0;h<this.dirRecords.length;h++)this.push({data:this.dirRecords[h],meta:{percent:100}});var m=this.bytesWritten-p,_=function(g,x,d,w,b){var E=o.transformTo("string",b(w));return y.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(g,2)+s(g,2)+s(x,4)+s(d,4)+s(E.length,2)+E}(this.dirRecords.length,m,p,this.zipComment,this.encodeFileName);this.push({data:_,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(p){this._sources.push(p);var h=this;return p.on("data",function(m){h.processChunk(m)}),p.on("end",function(){h.closedSource(h.previous.streamInfo),h._sources.length?h.prepareNextSource():h.end()}),p.on("error",function(m){h.error(m)}),this},v.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(p){var h=this._sources;if(!l.prototype.error.call(this,p))return!1;for(var m=0;m<h.length;m++)try{h[m].error(p)}catch{}return!0},v.prototype.lock=function(){l.prototype.lock.call(this);for(var p=this._sources,h=0;h<p.length;h++)p[h].lock()},r.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),a=n("./ZipFileWorker");i.generateWorker=function(o,l,c){var u=new a(l.streamFiles,c,l.platform,l.encodeFileName),y=0;try{o.forEach(function(v,p){y++;var h=function(x,d){var w=x||d,b=s[w];if(!b)throw new Error(w+" is not a valid compression method !");return b}(p.options.compression,l.compression),m=p.options.compressionOptions||l.compressionOptions||{},_=p.dir,g=p.date;p._compressWorker(h,m).withStreamInfo("file",{name:v,dir:_,date:g,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(u)}),u.entriesCount=y}catch(v){u.error(v)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),a=n("./external"),o=n("./utf8"),l=n("./zipEntries"),c=n("./stream/Crc32Probe"),u=n("./nodejsUtils");function y(v){return new a.Promise(function(p,h){var m=v.decompressed.getContentWorker().pipe(new c);m.on("error",function(_){h(_)}).on("end",function(){m.streamInfo.crc32!==v.decompressed.crc32?h(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}r.exports=function(v,p){var h=this;return p=s.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(v)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",v,!0,p.optimizedBinaryString,p.base64).then(function(m){var _=new l(p);return _.load(m),_}).then(function(m){var _=[a.Promise.resolve(m)],g=m.files;if(p.checkCRC32)for(var x=0;x<g.length;x++)_.push(y(g[x]));return a.Promise.all(_)}).then(function(m){for(var _=m.shift(),g=_.files,x=0;x<g.length;x++){var d=g[x],w=d.fileNameStr,b=s.resolve(d.fileNameStr);h.file(b,d.decompressed,{binary:!0,optimizedBinaryString:!0,date:d.date,dir:d.dir,comment:d.fileCommentStr.length?d.fileCommentStr:null,unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions,createFolders:p.createFolders}),d.dir||(h.file(b).unsafeOriginalName=w)}return _.zipComment.length&&(h.comment=_.zipComment),h})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),a=n("../stream/GenericWorker");function o(l,c){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(o,a),o.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function a(o,l,c){s.call(this,l),this._helper=o;var u=this;o.on("data",function(y,v){u.push(y)||u._helper.pause(),c&&c(v)}).on("error",function(y){u.emit("error",y)}).on("end",function(){u.push(null)})}n("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},r.exports=a},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(b,E,j){var N,R=o.getTypeOf(E),P=o.extend(j||{},u);P.date=P.date||new Date,P.compression!==null&&(P.compression=P.compression.toUpperCase()),typeof P.unixPermissions=="string"&&(P.unixPermissions=parseInt(P.unixPermissions,8)),P.unixPermissions&&16384&P.unixPermissions&&(P.dir=!0),P.dosPermissions&&16&P.dosPermissions&&(P.dir=!0),P.dir&&(b=g(b)),P.createFolders&&(N=_(b))&&x.call(this,N,!0);var D=R==="string"&&P.binary===!1&&P.base64===!1;j&&j.binary!==void 0||(P.binary=!D),(E instanceof y&&E.uncompressedSize===0||P.dir||!E||E.length===0)&&(P.base64=!1,P.binary=!0,E="",P.compression="STORE",R="string");var C=null;C=E instanceof y||E instanceof l?E:h.isNode&&h.isStream(E)?new m(b,E):o.prepareContent(b,E,P.binary,P.optimizedBinaryString,P.base64);var O=new v(b,C,P);this.files[b]=O}var a=n("./utf8"),o=n("./utils"),l=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),u=n("./defaults"),y=n("./compressedObject"),v=n("./zipObject"),p=n("./generate"),h=n("./nodejsUtils"),m=n("./nodejs/NodejsStreamInputAdapter"),_=function(b){b.slice(-1)==="/"&&(b=b.substring(0,b.length-1));var E=b.lastIndexOf("/");return 0<E?b.substring(0,E):""},g=function(b){return b.slice(-1)!=="/"&&(b+="/"),b},x=function(b,E){return E=E!==void 0?E:u.createFolders,b=g(b),this.files[b]||s.call(this,b,null,{dir:!0,createFolders:E}),this.files[b]};function d(b){return Object.prototype.toString.call(b)==="[object RegExp]"}var w={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(b){var E,j,N;for(E in this.files)N=this.files[E],(j=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&b(j,N)},filter:function(b){var E=[];return this.forEach(function(j,N){b(j,N)&&E.push(N)}),E},file:function(b,E,j){if(arguments.length!==1)return b=this.root+b,s.call(this,b,E,j),this;if(d(b)){var N=b;return this.filter(function(P,D){return!D.dir&&N.test(P)})}var R=this.files[this.root+b];return R&&!R.dir?R:null},folder:function(b){if(!b)return this;if(d(b))return this.filter(function(R,P){return P.dir&&b.test(R)});var E=this.root+b,j=x.call(this,E),N=this.clone();return N.root=j.name,N},remove:function(b){b=this.root+b;var E=this.files[b];if(E||(b.slice(-1)!=="/"&&(b+="/"),E=this.files[b]),E&&!E.dir)delete this.files[b];else for(var j=this.filter(function(R,P){return P.name.slice(0,b.length)===b}),N=0;N<j.length;N++)delete this.files[j[N].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(b){var E,j={};try{if((j=o.extend(b||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=j.type.toLowerCase(),j.compression=j.compression.toUpperCase(),j.type==="binarystring"&&(j.type="string"),!j.type)throw new Error("No output type specified.");o.checkSupport(j.type),j.platform!=="darwin"&&j.platform!=="freebsd"&&j.platform!=="linux"&&j.platform!=="sunos"||(j.platform="UNIX"),j.platform==="win32"&&(j.platform="DOS");var N=j.comment||this.comment||"";E=p.generateWorker(this,j,N)}catch(R){(E=new l("error")).error(R)}return new c(E,j.type||"string",j.mimeType)},generateAsync:function(b,E){return this.generateInternalStream(b).accumulate(E)},generateNodeStream:function(b,E){return(b=b||{}).type||(b.type="nodebuffer"),this.generateInternalStream(b).toNodejsStream(E)}};r.exports=w},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function a(o){s.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}n("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),c=o.charCodeAt(1),u=o.charCodeAt(2),y=o.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===l&&this.data[v+1]===c&&this.data[v+2]===u&&this.data[v+3]===y)return v-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),c=o.charCodeAt(1),u=o.charCodeAt(2),y=o.charCodeAt(3),v=this.readData(4);return l===v[0]&&c===v[1]&&u===v[2]&&y===v[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,c=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=o,c},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=a},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),a=n("../support"),o=n("./ArrayReader"),l=n("./StringReader"),c=n("./NodeBufferReader"),u=n("./Uint8ArrayReader");r.exports=function(y){var v=s.getTypeOf(y);return s.checkSupport(v),v!=="string"||a.uint8array?v==="nodebuffer"?new c(y):a.uint8array?new u(s.transformTo("uint8array",y)):new o(s.transformTo("array",y)):new l(y)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),a=n("../utils");function o(l){s.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(o,s),o.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),a=n("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,s),o.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),a=n("./GenericWorker");function o(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(o,a),o.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}a.prototype.processChunk.call(this,l)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),a=n("./GenericWorker");function o(l){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=s.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}s.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(l){o.processChunk(l)}),a.on("end",function(){o.end()}),a.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),a=n("./ConvertWorker"),o=n("./GenericWorker"),l=n("../base64"),c=n("../support"),u=n("../external"),y=null;if(c.nodestream)try{y=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(h,m){return new u.Promise(function(_,g){var x=[],d=h._internalType,w=h._outputType,b=h._mimeType;h.on("data",function(E,j){x.push(E),m&&m(j)}).on("error",function(E){x=[],g(E)}).on("end",function(){try{var E=function(j,N,R){switch(j){case"blob":return s.newBlob(s.transformTo("arraybuffer",N),R);case"base64":return l.encode(N);default:return s.transformTo(j,N)}}(w,function(j,N){var R,P=0,D=null,C=0;for(R=0;R<N.length;R++)C+=N[R].length;switch(j){case"string":return N.join("");case"array":return Array.prototype.concat.apply([],N);case"uint8array":for(D=new Uint8Array(C),R=0;R<N.length;R++)D.set(N[R],P),P+=N[R].length;return D;case"nodebuffer":return Buffer.concat(N);default:throw new Error("concat : unsupported type '"+j+"'")}}(d,x),b);_(E)}catch(j){g(j)}x=[]}).resume()})}function p(h,m,_){var g=m;switch(m){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=m,this._mimeType=_,s.checkSupport(g),this._worker=h.pipe(new a(g)),h.lock()}catch(x){this._worker=new o("error"),this._worker.error(x)}}p.prototype={accumulate:function(h){return v(this,h)},on:function(h,m){var _=this;return h==="data"?this._worker.on(h,function(g){m.call(_,g.data,g.meta)}):this._worker.on(h,function(){s.delay(m,arguments,_)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(h){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new y(this,{objectMode:this._outputType!=="nodebuffer"},h)}},r.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),a=n("./support"),o=n("./nodejsUtils"),l=n("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function y(){l.call(this,"utf-8 decode"),this.leftOver=null}function v(){l.call(this,"utf-8 encode")}i.utf8encode=function(p){return a.nodebuffer?o.newBufferFrom(p,"utf-8"):function(h){var m,_,g,x,d,w=h.length,b=0;for(x=0;x<w;x++)(64512&(_=h.charCodeAt(x)))==55296&&x+1<w&&(64512&(g=h.charCodeAt(x+1)))==56320&&(_=65536+(_-55296<<10)+(g-56320),x++),b+=_<128?1:_<2048?2:_<65536?3:4;for(m=a.uint8array?new Uint8Array(b):new Array(b),x=d=0;d<b;x++)(64512&(_=h.charCodeAt(x)))==55296&&x+1<w&&(64512&(g=h.charCodeAt(x+1)))==56320&&(_=65536+(_-55296<<10)+(g-56320),x++),_<128?m[d++]=_:(_<2048?m[d++]=192|_>>>6:(_<65536?m[d++]=224|_>>>12:(m[d++]=240|_>>>18,m[d++]=128|_>>>12&63),m[d++]=128|_>>>6&63),m[d++]=128|63&_);return m}(p)},i.utf8decode=function(p){return a.nodebuffer?s.transformTo("nodebuffer",p).toString("utf-8"):function(h){var m,_,g,x,d=h.length,w=new Array(2*d);for(m=_=0;m<d;)if((g=h[m++])<128)w[_++]=g;else if(4<(x=c[g]))w[_++]=65533,m+=x-1;else{for(g&=x===2?31:x===3?15:7;1<x&&m<d;)g=g<<6|63&h[m++],x--;1<x?w[_++]=65533:g<65536?w[_++]=g:(g-=65536,w[_++]=55296|g>>10&1023,w[_++]=56320|1023&g)}return w.length!==_&&(w.subarray?w=w.subarray(0,_):w.length=_),s.applyFromCharCode(w)}(p=s.transformTo(a.uint8array?"uint8array":"array",p))},s.inherits(y,l),y.prototype.processChunk=function(p){var h=s.transformTo(a.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var m=h;(h=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),h.set(m,this.leftOver.length)}else h=this.leftOver.concat(h);this.leftOver=null}var _=function(x,d){var w;for((d=d||x.length)>x.length&&(d=x.length),w=d-1;0<=w&&(192&x[w])==128;)w--;return w<0||w===0?d:w+c[x[w]]>d?w:d}(h),g=h;_!==h.length&&(a.uint8array?(g=h.subarray(0,_),this.leftOver=h.subarray(_,h.length)):(g=h.slice(0,_),this.leftOver=h.slice(_,h.length))),this.push({data:i.utf8decode(g),meta:p.meta})},y.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=y,s.inherits(v,l),v.prototype.processChunk=function(p){this.push({data:i.utf8encode(p.data),meta:p.meta})},i.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),a=n("./base64"),o=n("./nodejsUtils"),l=n("./external");function c(m){return m}function u(m,_){for(var g=0;g<m.length;++g)_[g]=255&m.charCodeAt(g);return _}n("setimmediate"),i.newBlob=function(m,_){i.checkSupport("blob");try{return new Blob([m],{type:_})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(m),g.getBlob(_)}catch{throw new Error("Bug : can't construct the Blob.")}}};var y={stringifyByChunk:function(m,_,g){var x=[],d=0,w=m.length;if(w<=g)return String.fromCharCode.apply(null,m);for(;d<w;)_==="array"||_==="nodebuffer"?x.push(String.fromCharCode.apply(null,m.slice(d,Math.min(d+g,w)))):x.push(String.fromCharCode.apply(null,m.subarray(d,Math.min(d+g,w)))),d+=g;return x.join("")},stringifyByChar:function(m){for(var _="",g=0;g<m.length;g++)_+=String.fromCharCode(m[g]);return _},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function v(m){var _=65536,g=i.getTypeOf(m),x=!0;if(g==="uint8array"?x=y.applyCanBeUsed.uint8array:g==="nodebuffer"&&(x=y.applyCanBeUsed.nodebuffer),x)for(;1<_;)try{return y.stringifyByChunk(m,g,_)}catch{_=Math.floor(_/2)}return y.stringifyByChar(m)}function p(m,_){for(var g=0;g<m.length;g++)_[g]=m[g];return _}i.applyFromCharCode=v;var h={};h.string={string:c,array:function(m){return u(m,new Array(m.length))},arraybuffer:function(m){return h.string.uint8array(m).buffer},uint8array:function(m){return u(m,new Uint8Array(m.length))},nodebuffer:function(m){return u(m,o.allocBuffer(m.length))}},h.array={string:v,array:c,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return o.newBufferFrom(m)}},h.arraybuffer={string:function(m){return v(new Uint8Array(m))},array:function(m){return p(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:c,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return o.newBufferFrom(new Uint8Array(m))}},h.uint8array={string:v,array:function(m){return p(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:c,nodebuffer:function(m){return o.newBufferFrom(m)}},h.nodebuffer={string:v,array:function(m){return p(m,new Array(m.length))},arraybuffer:function(m){return h.nodebuffer.uint8array(m).buffer},uint8array:function(m){return p(m,new Uint8Array(m.length))},nodebuffer:c},i.transformTo=function(m,_){if(_=_||"",!m)return _;i.checkSupport(m);var g=i.getTypeOf(_);return h[g][m](_)},i.resolve=function(m){for(var _=m.split("/"),g=[],x=0;x<_.length;x++){var d=_[x];d==="."||d===""&&x!==0&&x!==_.length-1||(d===".."?g.pop():g.push(d))}return g.join("/")},i.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(m)?"nodebuffer":s.uint8array&&m instanceof Uint8Array?"uint8array":s.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(m){if(!s[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(m){var _,g,x="";for(g=0;g<(m||"").length;g++)x+="\\x"+((_=m.charCodeAt(g))<16?"0":"")+_.toString(16).toUpperCase();return x},i.delay=function(m,_,g){setImmediate(function(){m.apply(g||null,_||[])})},i.inherits=function(m,_){function g(){}g.prototype=_.prototype,m.prototype=new g},i.extend=function(){var m,_,g={};for(m=0;m<arguments.length;m++)for(_ in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],_)&&g[_]===void 0&&(g[_]=arguments[m][_]);return g},i.prepareContent=function(m,_,g,x,d){return l.Promise.resolve(_).then(function(w){return s.blob&&(w instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(w))!==-1)&&typeof FileReader<"u"?new l.Promise(function(b,E){var j=new FileReader;j.onload=function(N){b(N.target.result)},j.onerror=function(N){E(N.target.error)},j.readAsArrayBuffer(w)}):w}).then(function(w){var b=i.getTypeOf(w);return b?(b==="arraybuffer"?w=i.transformTo("uint8array",w):b==="string"&&(d?w=a.decode(w):g&&x!==!0&&(w=function(E){return u(E,s.uint8array?new Uint8Array(E.length):new Array(E.length))}(w))),w):l.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),a=n("./utils"),o=n("./signature"),l=n("./zipEntry"),c=n("./support");function u(y){this.files=[],this.loadOptions=y}u.prototype={checkSignature:function(y){if(!this.reader.readAndCheckSignature(y)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(v)+", expected "+a.pretty(y)+")")}},isSignature:function(y,v){var p=this.reader.index;this.reader.setIndex(y);var h=this.reader.readString(4)===v;return this.reader.setIndex(p),h},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var y=this.reader.readData(this.zipCommentLength),v=c.uint8array?"uint8array":"array",p=a.transformTo(v,y);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var y,v,p,h=this.zip64EndOfCentralSize-44;0<h;)y=this.reader.readInt(2),v=this.reader.readInt(4),p=this.reader.readData(v),this.zip64ExtensibleData[y]={id:y,length:v,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var y,v;for(y=0;y<this.files.length;y++)v=this.files[y],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var y;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(y=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(y);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var y=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(y<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(y);var v=y;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(y=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(y),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var h=v-p;if(0<h)this.isSignature(v,o.CENTRAL_FILE_HEADER)||(this.reader.zero=h);else if(h<0)throw new Error("Corrupted zip: missing "+Math.abs(h)+" bytes.")},prepareReader:function(y){this.reader=s(y)},load:function(y){this.prepareReader(y),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),a=n("./utils"),o=n("./compressedObject"),l=n("./crc32"),c=n("./utf8"),u=n("./compressions"),y=n("./support");function v(p,h){this.options=p,this.loadOptions=h}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var h,m;if(p.skip(22),this.fileNameLength=p.readInt(2),m=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((h=function(_){for(var g in u)if(Object.prototype.hasOwnProperty.call(u,g)&&u[g].magic===_)return u[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,h,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var h=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(h),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var h,m,_,g=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<g;)h=p.readInt(2),m=p.readInt(2),_=p.readData(m),this.extraFields[h]={id:h,length:m,value:_};p.setIndex(g)},handleUTF8:function(){var p=y.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var h=this.findExtraFieldUnicodePath();if(h!==null)this.fileNameStr=h;else{var m=a.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var _=this.findExtraFieldUnicodeComment();if(_!==null)this.fileCommentStr=_;else{var g=a.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var h=s(p.value);return h.readInt(1)!==1||l(this.fileName)!==h.readInt(4)?null:c.utf8decode(h.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var h=s(p.value);return h.readInt(1)!==1||l(this.fileComment)!==h.readInt(4)?null:c.utf8decode(h.readData(p.length-5))}return null}},r.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(h,m,_){this.name=h,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=m,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}}var a=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),l=n("./utf8"),c=n("./compressedObject"),u=n("./stream/GenericWorker");s.prototype={internalStream:function(h){var m=null,_="string";try{if(!h)throw new Error("No output type specified.");var g=(_=h.toLowerCase())==="string"||_==="text";_!=="binarystring"&&_!=="text"||(_="string"),m=this._decompressWorker();var x=!this._dataBinary;x&&!g&&(m=m.pipe(new l.Utf8EncodeWorker)),!x&&g&&(m=m.pipe(new l.Utf8DecodeWorker))}catch(d){(m=new u("error")).error(d)}return new a(m,_,"")},async:function(h,m){return this.internalStream(h).accumulate(m)},nodeStream:function(h,m){return this.internalStream(h||"nodebuffer").toNodejsStream(m)},_compressWorker:function(h,m){if(this._data instanceof c&&this._data.compression.magic===h.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(_,h,m)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new o(this._data)}};for(var y=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<y.length;p++)s.prototype[y[p]]=v;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var a,o,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var c=0,u=new l(h),y=s.document.createTextNode("");u.observe(y,{characterData:!0}),a=function(){y.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var m=s.document.createElement("script");m.onreadystatechange=function(){h(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},s.document.documentElement.appendChild(m)}:function(){setTimeout(h,0)};else{var v=new s.MessageChannel;v.port1.onmessage=h,a=function(){v.port2.postMessage(0)}}var p=[];function h(){var m,_;o=!0;for(var g=p.length;g;){for(_=p,p=[],m=-1;++m<g;)_[m]();g=p.length}o=!1}r.exports=function(m){p.push(m)!==1||o||a()}}).call(this,typeof Ht<"u"?Ht:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function a(){}var o={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function y(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,g!==a&&m(this,g)}function v(g,x,d){this.promise=g,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof d=="function"&&(this.onRejected=d,this.callRejected=this.otherCallRejected)}function p(g,x,d){s(function(){var w;try{w=x(d)}catch(b){return o.reject(g,b)}w===g?o.reject(g,new TypeError("Cannot resolve promise with itself")):o.resolve(g,w)})}function h(g){var x=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof x=="function")return function(){x.apply(g,arguments)}}function m(g,x){var d=!1;function w(j){d||(d=!0,o.reject(g,j))}function b(j){d||(d=!0,o.resolve(g,j))}var E=_(function(){x(b,w)});E.status==="error"&&w(E.value)}function _(g,x){var d={};try{d.value=g(x),d.status="success"}catch(w){d.status="error",d.value=w}return d}(r.exports=y).prototype.finally=function(g){if(typeof g!="function")return this;var x=this.constructor;return this.then(function(d){return x.resolve(g()).then(function(){return d})},function(d){return x.resolve(g()).then(function(){throw d})})},y.prototype.catch=function(g){return this.then(null,g)},y.prototype.then=function(g,x){if(typeof g!="function"&&this.state===c||typeof x!="function"&&this.state===l)return this;var d=new this.constructor(a);return this.state!==u?p(d,this.state===c?g:x,this.outcome):this.queue.push(new v(d,g,x)),d},v.prototype.callFulfilled=function(g){o.resolve(this.promise,g)},v.prototype.otherCallFulfilled=function(g){p(this.promise,this.onFulfilled,g)},v.prototype.callRejected=function(g){o.reject(this.promise,g)},v.prototype.otherCallRejected=function(g){p(this.promise,this.onRejected,g)},o.resolve=function(g,x){var d=_(h,x);if(d.status==="error")return o.reject(g,d.value);var w=d.value;if(w)m(g,w);else{g.state=c,g.outcome=x;for(var b=-1,E=g.queue.length;++b<E;)g.queue[b].callFulfilled(x)}return g},o.reject=function(g,x){g.state=l,g.outcome=x;for(var d=-1,w=g.queue.length;++d<w;)g.queue[d].callRejected(x);return g},y.resolve=function(g){return g instanceof this?g:o.resolve(new this(a),g)},y.reject=function(g){var x=new this(a);return o.reject(x,g)},y.all=function(g){var x=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var d=g.length,w=!1;if(!d)return this.resolve([]);for(var b=new Array(d),E=0,j=-1,N=new this(a);++j<d;)R(g[j],j);return N;function R(P,D){x.resolve(P).then(function(C){b[D]=C,++E!==d||w||(w=!0,o.resolve(N,b))},function(C){w||(w=!0,o.reject(N,C))})}},y.race=function(g){var x=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var d=g.length,w=!1;if(!d)return this.resolve([]);for(var b=-1,E=new this(a);++b<d;)j=g[b],x.resolve(j).then(function(N){w||(w=!0,o.resolve(E,N))},function(N){w||(w=!0,o.reject(E,N))});var j;return E}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),a=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/messages"),c=n("./zlib/zstream"),u=Object.prototype.toString,y=0,v=-1,p=0,h=8;function m(g){if(!(this instanceof m))return new m(g);this.options=a.assign({level:v,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},g||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var d=s.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(d!==y)throw new Error(l[d]);if(x.header&&s.deflateSetHeader(this.strm,x.header),x.dictionary){var w;if(w=typeof x.dictionary=="string"?o.string2buf(x.dictionary):u.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(d=s.deflateSetDictionary(this.strm,w))!==y)throw new Error(l[d]);this._dict_set=!0}}function _(g,x){var d=new m(x);if(d.push(g,!0),d.err)throw d.msg||l[d.err];return d.result}m.prototype.push=function(g,x){var d,w,b=this.strm,E=this.options.chunkSize;if(this.ended)return!1;w=x===~~x?x:x===!0?4:0,typeof g=="string"?b.input=o.string2buf(g):u.call(g)==="[object ArrayBuffer]"?b.input=new Uint8Array(g):b.input=g,b.next_in=0,b.avail_in=b.input.length;do{if(b.avail_out===0&&(b.output=new a.Buf8(E),b.next_out=0,b.avail_out=E),(d=s.deflate(b,w))!==1&&d!==y)return this.onEnd(d),!(this.ended=!0);b.avail_out!==0&&(b.avail_in!==0||w!==4&&w!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(b.output,b.next_out))):this.onData(a.shrinkBuf(b.output,b.next_out)))}while((0<b.avail_in||b.avail_out===0)&&d!==1);return w===4?(d=s.deflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===y):w!==2||(this.onEnd(y),!(b.avail_out=0))},m.prototype.onData=function(g){this.chunks.push(g)},m.prototype.onEnd=function(g){g===y&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Deflate=m,i.deflate=_,i.deflateRaw=function(g,x){return(x=x||{}).raw=!0,_(g,x)},i.gzip=function(g,x){return(x=x||{}).gzip=!0,_(g,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),a=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/constants"),c=n("./zlib/messages"),u=n("./zlib/zstream"),y=n("./zlib/gzheader"),v=Object.prototype.toString;function p(m){if(!(this instanceof p))return new p(m);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},m||{});var _=this.options;_.raw&&0<=_.windowBits&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(0<=_.windowBits&&_.windowBits<16)||m&&m.windowBits||(_.windowBits+=32),15<_.windowBits&&_.windowBits<48&&!(15&_.windowBits)&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var g=s.inflateInit2(this.strm,_.windowBits);if(g!==l.Z_OK)throw new Error(c[g]);this.header=new y,s.inflateGetHeader(this.strm,this.header)}function h(m,_){var g=new p(_);if(g.push(m,!0),g.err)throw g.msg||c[g.err];return g.result}p.prototype.push=function(m,_){var g,x,d,w,b,E,j=this.strm,N=this.options.chunkSize,R=this.options.dictionary,P=!1;if(this.ended)return!1;x=_===~~_?_:_===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof m=="string"?j.input=o.binstring2buf(m):v.call(m)==="[object ArrayBuffer]"?j.input=new Uint8Array(m):j.input=m,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new a.Buf8(N),j.next_out=0,j.avail_out=N),(g=s.inflate(j,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&R&&(E=typeof R=="string"?o.string2buf(R):v.call(R)==="[object ArrayBuffer]"?new Uint8Array(R):R,g=s.inflateSetDictionary(this.strm,E)),g===l.Z_BUF_ERROR&&P===!0&&(g=l.Z_OK,P=!1),g!==l.Z_STREAM_END&&g!==l.Z_OK)return this.onEnd(g),!(this.ended=!0);j.next_out&&(j.avail_out!==0&&g!==l.Z_STREAM_END&&(j.avail_in!==0||x!==l.Z_FINISH&&x!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(d=o.utf8border(j.output,j.next_out),w=j.next_out-d,b=o.buf2string(j.output,d),j.next_out=w,j.avail_out=N-w,w&&a.arraySet(j.output,j.output,d,w,0),this.onData(b)):this.onData(a.shrinkBuf(j.output,j.next_out)))),j.avail_in===0&&j.avail_out===0&&(P=!0)}while((0<j.avail_in||j.avail_out===0)&&g!==l.Z_STREAM_END);return g===l.Z_STREAM_END&&(x=l.Z_FINISH),x===l.Z_FINISH?(g=s.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===l.Z_OK):x!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(j.avail_out=0))},p.prototype.onData=function(m){this.chunks.push(m)},p.prototype.onEnd=function(m){m===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Inflate=p,i.inflate=h,i.inflateRaw=function(m,_){return(_=_||{}).raw=!0,h(m,_)},i.ungzip=h},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var y in u)u.hasOwnProperty(y)&&(l[y]=u[y])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var a={arraySet:function(l,c,u,y,v){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+y),v);else for(var p=0;p<y;p++)l[v+p]=c[u+p]},flattenChunks:function(l){var c,u,y,v,p,h;for(c=y=0,u=l.length;c<u;c++)y+=l[c].length;for(h=new Uint8Array(y),c=v=0,u=l.length;c<u;c++)p=l[c],h.set(p,v),v+=p.length;return h}},o={arraySet:function(l,c,u,y,v){for(var p=0;p<y;p++)l[v+p]=c[u+p]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new s.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(y,v){if(v<65537&&(y.subarray&&o||!y.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(y,v));for(var p="",h=0;h<v;h++)p+=String.fromCharCode(y[h]);return p}l[254]=l[254]=1,i.string2buf=function(y){var v,p,h,m,_,g=y.length,x=0;for(m=0;m<g;m++)(64512&(p=y.charCodeAt(m)))==55296&&m+1<g&&(64512&(h=y.charCodeAt(m+1)))==56320&&(p=65536+(p-55296<<10)+(h-56320),m++),x+=p<128?1:p<2048?2:p<65536?3:4;for(v=new s.Buf8(x),m=_=0;_<x;m++)(64512&(p=y.charCodeAt(m)))==55296&&m+1<g&&(64512&(h=y.charCodeAt(m+1)))==56320&&(p=65536+(p-55296<<10)+(h-56320),m++),p<128?v[_++]=p:(p<2048?v[_++]=192|p>>>6:(p<65536?v[_++]=224|p>>>12:(v[_++]=240|p>>>18,v[_++]=128|p>>>12&63),v[_++]=128|p>>>6&63),v[_++]=128|63&p);return v},i.buf2binstring=function(y){return u(y,y.length)},i.binstring2buf=function(y){for(var v=new s.Buf8(y.length),p=0,h=v.length;p<h;p++)v[p]=y.charCodeAt(p);return v},i.buf2string=function(y,v){var p,h,m,_,g=v||y.length,x=new Array(2*g);for(p=h=0;p<g;)if((m=y[p++])<128)x[h++]=m;else if(4<(_=l[m]))x[h++]=65533,p+=_-1;else{for(m&=_===2?31:_===3?15:7;1<_&&p<g;)m=m<<6|63&y[p++],_--;1<_?x[h++]=65533:m<65536?x[h++]=m:(m-=65536,x[h++]=55296|m>>10&1023,x[h++]=56320|1023&m)}return u(x,h)},i.utf8border=function(y,v){var p;for((v=v||y.length)>y.length&&(v=y.length),p=v-1;0<=p&&(192&y[p])==128;)p--;return p<0||p===0?v:p+l[y[p]]>v?p:v}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,a,o,l){for(var c=65535&s|0,u=s>>>16&65535|0,y=0;o!==0;){for(o-=y=2e3<o?2e3:o;u=u+(c=c+a[l++]|0)|0,--y;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=function(){for(var a,o=[],l=0;l<256;l++){a=l;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;o[l]=a}return o}();r.exports=function(a,o,l,c){var u=s,y=c+l;a^=-1;for(var v=c;v<y;v++)a=a>>>8^u[255&(a^o[v])];return-1^a}},{}],46:[function(n,r,i){var s,a=n("../utils/common"),o=n("./trees"),l=n("./adler32"),c=n("./crc32"),u=n("./messages"),y=0,v=4,p=0,h=-2,m=-1,_=4,g=2,x=8,d=9,w=286,b=30,E=19,j=2*w+1,N=15,R=3,P=258,D=P+R+1,C=42,O=113,S=1,I=2,Z=3,$=4;function U(k,W){return k.msg=u[W],W}function G(k){return(k<<1)-(4<k?9:0)}function z(k){for(var W=k.length;0<=--W;)k[W]=0}function F(k){var W=k.state,K=W.pending;K>k.avail_out&&(K=k.avail_out),K!==0&&(a.arraySet(k.output,W.pending_buf,W.pending_out,K,k.next_out),k.next_out+=K,W.pending_out+=K,k.total_out+=K,k.avail_out-=K,W.pending-=K,W.pending===0&&(W.pending_out=0))}function L(k,W){o._tr_flush_block(k,0<=k.block_start?k.block_start:-1,k.strstart-k.block_start,W),k.block_start=k.strstart,F(k.strm)}function te(k,W){k.pending_buf[k.pending++]=W}function J(k,W){k.pending_buf[k.pending++]=W>>>8&255,k.pending_buf[k.pending++]=255&W}function Q(k,W){var K,A,T=k.max_chain_length,B=k.strstart,q=k.prev_length,ee=k.nice_match,H=k.strstart>k.w_size-D?k.strstart-(k.w_size-D):0,re=k.window,oe=k.w_mask,se=k.prev,de=k.strstart+P,je=re[B+q-1],we=re[B+q];k.prev_length>=k.good_match&&(T>>=2),ee>k.lookahead&&(ee=k.lookahead);do if(re[(K=W)+q]===we&&re[K+q-1]===je&&re[K]===re[B]&&re[++K]===re[B+1]){B+=2,K++;do;while(re[++B]===re[++K]&&re[++B]===re[++K]&&re[++B]===re[++K]&&re[++B]===re[++K]&&re[++B]===re[++K]&&re[++B]===re[++K]&&re[++B]===re[++K]&&re[++B]===re[++K]&&B<de);if(A=P-(de-B),B=de-P,q<A){if(k.match_start=W,ee<=(q=A))break;je=re[B+q-1],we=re[B+q]}}while((W=se[W&oe])>H&&--T!=0);return q<=k.lookahead?q:k.lookahead}function ae(k){var W,K,A,T,B,q,ee,H,re,oe,se=k.w_size;do{if(T=k.window_size-k.lookahead-k.strstart,k.strstart>=se+(se-D)){for(a.arraySet(k.window,k.window,se,se,0),k.match_start-=se,k.strstart-=se,k.block_start-=se,W=K=k.hash_size;A=k.head[--W],k.head[W]=se<=A?A-se:0,--K;);for(W=K=se;A=k.prev[--W],k.prev[W]=se<=A?A-se:0,--K;);T+=se}if(k.strm.avail_in===0)break;if(q=k.strm,ee=k.window,H=k.strstart+k.lookahead,re=T,oe=void 0,oe=q.avail_in,re<oe&&(oe=re),K=oe===0?0:(q.avail_in-=oe,a.arraySet(ee,q.input,q.next_in,oe,H),q.state.wrap===1?q.adler=l(q.adler,ee,oe,H):q.state.wrap===2&&(q.adler=c(q.adler,ee,oe,H)),q.next_in+=oe,q.total_in+=oe,oe),k.lookahead+=K,k.lookahead+k.insert>=R)for(B=k.strstart-k.insert,k.ins_h=k.window[B],k.ins_h=(k.ins_h<<k.hash_shift^k.window[B+1])&k.hash_mask;k.insert&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[B+R-1])&k.hash_mask,k.prev[B&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=B,B++,k.insert--,!(k.lookahead+k.insert<R)););}while(k.lookahead<D&&k.strm.avail_in!==0)}function M(k,W){for(var K,A;;){if(k.lookahead<D){if(ae(k),k.lookahead<D&&W===y)return S;if(k.lookahead===0)break}if(K=0,k.lookahead>=R&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+R-1])&k.hash_mask,K=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),K!==0&&k.strstart-K<=k.w_size-D&&(k.match_length=Q(k,K)),k.match_length>=R)if(A=o._tr_tally(k,k.strstart-k.match_start,k.match_length-R),k.lookahead-=k.match_length,k.match_length<=k.max_lazy_match&&k.lookahead>=R){for(k.match_length--;k.strstart++,k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+R-1])&k.hash_mask,K=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart,--k.match_length!=0;);k.strstart++}else k.strstart+=k.match_length,k.match_length=0,k.ins_h=k.window[k.strstart],k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+1])&k.hash_mask;else A=o._tr_tally(k,0,k.window[k.strstart]),k.lookahead--,k.strstart++;if(A&&(L(k,!1),k.strm.avail_out===0))return S}return k.insert=k.strstart<R-1?k.strstart:R-1,W===v?(L(k,!0),k.strm.avail_out===0?Z:$):k.last_lit&&(L(k,!1),k.strm.avail_out===0)?S:I}function Y(k,W){for(var K,A,T;;){if(k.lookahead<D){if(ae(k),k.lookahead<D&&W===y)return S;if(k.lookahead===0)break}if(K=0,k.lookahead>=R&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+R-1])&k.hash_mask,K=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),k.prev_length=k.match_length,k.prev_match=k.match_start,k.match_length=R-1,K!==0&&k.prev_length<k.max_lazy_match&&k.strstart-K<=k.w_size-D&&(k.match_length=Q(k,K),k.match_length<=5&&(k.strategy===1||k.match_length===R&&4096<k.strstart-k.match_start)&&(k.match_length=R-1)),k.prev_length>=R&&k.match_length<=k.prev_length){for(T=k.strstart+k.lookahead-R,A=o._tr_tally(k,k.strstart-1-k.prev_match,k.prev_length-R),k.lookahead-=k.prev_length-1,k.prev_length-=2;++k.strstart<=T&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+R-1])&k.hash_mask,K=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),--k.prev_length!=0;);if(k.match_available=0,k.match_length=R-1,k.strstart++,A&&(L(k,!1),k.strm.avail_out===0))return S}else if(k.match_available){if((A=o._tr_tally(k,0,k.window[k.strstart-1]))&&L(k,!1),k.strstart++,k.lookahead--,k.strm.avail_out===0)return S}else k.match_available=1,k.strstart++,k.lookahead--}return k.match_available&&(A=o._tr_tally(k,0,k.window[k.strstart-1]),k.match_available=0),k.insert=k.strstart<R-1?k.strstart:R-1,W===v?(L(k,!0),k.strm.avail_out===0?Z:$):k.last_lit&&(L(k,!1),k.strm.avail_out===0)?S:I}function ie(k,W,K,A,T){this.good_length=k,this.max_lazy=W,this.nice_length=K,this.max_chain=A,this.func=T}function ue(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*j),this.dyn_dtree=new a.Buf16(2*(2*b+1)),this.bl_tree=new a.Buf16(2*(2*E+1)),z(this.dyn_ltree),z(this.dyn_dtree),z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(N+1),this.heap=new a.Buf16(2*w+1),z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*w+1),z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ce(k){var W;return k&&k.state?(k.total_in=k.total_out=0,k.data_type=g,(W=k.state).pending=0,W.pending_out=0,W.wrap<0&&(W.wrap=-W.wrap),W.status=W.wrap?C:O,k.adler=W.wrap===2?0:1,W.last_flush=y,o._tr_init(W),p):U(k,h)}function Se(k){var W=ce(k);return W===p&&function(K){K.window_size=2*K.w_size,z(K.head),K.max_lazy_match=s[K.level].max_lazy,K.good_match=s[K.level].good_length,K.nice_match=s[K.level].nice_length,K.max_chain_length=s[K.level].max_chain,K.strstart=0,K.block_start=0,K.lookahead=0,K.insert=0,K.match_length=K.prev_length=R-1,K.match_available=0,K.ins_h=0}(k.state),W}function Ae(k,W,K,A,T,B){if(!k)return h;var q=1;if(W===m&&(W=6),A<0?(q=0,A=-A):15<A&&(q=2,A-=16),T<1||d<T||K!==x||A<8||15<A||W<0||9<W||B<0||_<B)return U(k,h);A===8&&(A=9);var ee=new ue;return(k.state=ee).strm=k,ee.wrap=q,ee.gzhead=null,ee.w_bits=A,ee.w_size=1<<ee.w_bits,ee.w_mask=ee.w_size-1,ee.hash_bits=T+7,ee.hash_size=1<<ee.hash_bits,ee.hash_mask=ee.hash_size-1,ee.hash_shift=~~((ee.hash_bits+R-1)/R),ee.window=new a.Buf8(2*ee.w_size),ee.head=new a.Buf16(ee.hash_size),ee.prev=new a.Buf16(ee.w_size),ee.lit_bufsize=1<<T+6,ee.pending_buf_size=4*ee.lit_bufsize,ee.pending_buf=new a.Buf8(ee.pending_buf_size),ee.d_buf=1*ee.lit_bufsize,ee.l_buf=3*ee.lit_bufsize,ee.level=W,ee.strategy=B,ee.method=K,Se(k)}s=[new ie(0,0,0,0,function(k,W){var K=65535;for(K>k.pending_buf_size-5&&(K=k.pending_buf_size-5);;){if(k.lookahead<=1){if(ae(k),k.lookahead===0&&W===y)return S;if(k.lookahead===0)break}k.strstart+=k.lookahead,k.lookahead=0;var A=k.block_start+K;if((k.strstart===0||k.strstart>=A)&&(k.lookahead=k.strstart-A,k.strstart=A,L(k,!1),k.strm.avail_out===0)||k.strstart-k.block_start>=k.w_size-D&&(L(k,!1),k.strm.avail_out===0))return S}return k.insert=0,W===v?(L(k,!0),k.strm.avail_out===0?Z:$):(k.strstart>k.block_start&&(L(k,!1),k.strm.avail_out),S)}),new ie(4,4,8,4,M),new ie(4,5,16,8,M),new ie(4,6,32,32,M),new ie(4,4,16,16,Y),new ie(8,16,32,32,Y),new ie(8,16,128,128,Y),new ie(8,32,128,256,Y),new ie(32,128,258,1024,Y),new ie(32,258,258,4096,Y)],i.deflateInit=function(k,W){return Ae(k,W,x,15,8,0)},i.deflateInit2=Ae,i.deflateReset=Se,i.deflateResetKeep=ce,i.deflateSetHeader=function(k,W){return k&&k.state?k.state.wrap!==2?h:(k.state.gzhead=W,p):h},i.deflate=function(k,W){var K,A,T,B;if(!k||!k.state||5<W||W<0)return k?U(k,h):h;if(A=k.state,!k.output||!k.input&&k.avail_in!==0||A.status===666&&W!==v)return U(k,k.avail_out===0?-5:h);if(A.strm=k,K=A.last_flush,A.last_flush=W,A.status===C)if(A.wrap===2)k.adler=0,te(A,31),te(A,139),te(A,8),A.gzhead?(te(A,(A.gzhead.text?1:0)+(A.gzhead.hcrc?2:0)+(A.gzhead.extra?4:0)+(A.gzhead.name?8:0)+(A.gzhead.comment?16:0)),te(A,255&A.gzhead.time),te(A,A.gzhead.time>>8&255),te(A,A.gzhead.time>>16&255),te(A,A.gzhead.time>>24&255),te(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),te(A,255&A.gzhead.os),A.gzhead.extra&&A.gzhead.extra.length&&(te(A,255&A.gzhead.extra.length),te(A,A.gzhead.extra.length>>8&255)),A.gzhead.hcrc&&(k.adler=c(k.adler,A.pending_buf,A.pending,0)),A.gzindex=0,A.status=69):(te(A,0),te(A,0),te(A,0),te(A,0),te(A,0),te(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),te(A,3),A.status=O);else{var q=x+(A.w_bits-8<<4)<<8;q|=(2<=A.strategy||A.level<2?0:A.level<6?1:A.level===6?2:3)<<6,A.strstart!==0&&(q|=32),q+=31-q%31,A.status=O,J(A,q),A.strstart!==0&&(J(A,k.adler>>>16),J(A,65535&k.adler)),k.adler=1}if(A.status===69)if(A.gzhead.extra){for(T=A.pending;A.gzindex<(65535&A.gzhead.extra.length)&&(A.pending!==A.pending_buf_size||(A.gzhead.hcrc&&A.pending>T&&(k.adler=c(k.adler,A.pending_buf,A.pending-T,T)),F(k),T=A.pending,A.pending!==A.pending_buf_size));)te(A,255&A.gzhead.extra[A.gzindex]),A.gzindex++;A.gzhead.hcrc&&A.pending>T&&(k.adler=c(k.adler,A.pending_buf,A.pending-T,T)),A.gzindex===A.gzhead.extra.length&&(A.gzindex=0,A.status=73)}else A.status=73;if(A.status===73)if(A.gzhead.name){T=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>T&&(k.adler=c(k.adler,A.pending_buf,A.pending-T,T)),F(k),T=A.pending,A.pending===A.pending_buf_size)){B=1;break}B=A.gzindex<A.gzhead.name.length?255&A.gzhead.name.charCodeAt(A.gzindex++):0,te(A,B)}while(B!==0);A.gzhead.hcrc&&A.pending>T&&(k.adler=c(k.adler,A.pending_buf,A.pending-T,T)),B===0&&(A.gzindex=0,A.status=91)}else A.status=91;if(A.status===91)if(A.gzhead.comment){T=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>T&&(k.adler=c(k.adler,A.pending_buf,A.pending-T,T)),F(k),T=A.pending,A.pending===A.pending_buf_size)){B=1;break}B=A.gzindex<A.gzhead.comment.length?255&A.gzhead.comment.charCodeAt(A.gzindex++):0,te(A,B)}while(B!==0);A.gzhead.hcrc&&A.pending>T&&(k.adler=c(k.adler,A.pending_buf,A.pending-T,T)),B===0&&(A.status=103)}else A.status=103;if(A.status===103&&(A.gzhead.hcrc?(A.pending+2>A.pending_buf_size&&F(k),A.pending+2<=A.pending_buf_size&&(te(A,255&k.adler),te(A,k.adler>>8&255),k.adler=0,A.status=O)):A.status=O),A.pending!==0){if(F(k),k.avail_out===0)return A.last_flush=-1,p}else if(k.avail_in===0&&G(W)<=G(K)&&W!==v)return U(k,-5);if(A.status===666&&k.avail_in!==0)return U(k,-5);if(k.avail_in!==0||A.lookahead!==0||W!==y&&A.status!==666){var ee=A.strategy===2?function(H,re){for(var oe;;){if(H.lookahead===0&&(ae(H),H.lookahead===0)){if(re===y)return S;break}if(H.match_length=0,oe=o._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++,oe&&(L(H,!1),H.strm.avail_out===0))return S}return H.insert=0,re===v?(L(H,!0),H.strm.avail_out===0?Z:$):H.last_lit&&(L(H,!1),H.strm.avail_out===0)?S:I}(A,W):A.strategy===3?function(H,re){for(var oe,se,de,je,we=H.window;;){if(H.lookahead<=P){if(ae(H),H.lookahead<=P&&re===y)return S;if(H.lookahead===0)break}if(H.match_length=0,H.lookahead>=R&&0<H.strstart&&(se=we[de=H.strstart-1])===we[++de]&&se===we[++de]&&se===we[++de]){je=H.strstart+P;do;while(se===we[++de]&&se===we[++de]&&se===we[++de]&&se===we[++de]&&se===we[++de]&&se===we[++de]&&se===we[++de]&&se===we[++de]&&de<je);H.match_length=P-(je-de),H.match_length>H.lookahead&&(H.match_length=H.lookahead)}if(H.match_length>=R?(oe=o._tr_tally(H,1,H.match_length-R),H.lookahead-=H.match_length,H.strstart+=H.match_length,H.match_length=0):(oe=o._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++),oe&&(L(H,!1),H.strm.avail_out===0))return S}return H.insert=0,re===v?(L(H,!0),H.strm.avail_out===0?Z:$):H.last_lit&&(L(H,!1),H.strm.avail_out===0)?S:I}(A,W):s[A.level].func(A,W);if(ee!==Z&&ee!==$||(A.status=666),ee===S||ee===Z)return k.avail_out===0&&(A.last_flush=-1),p;if(ee===I&&(W===1?o._tr_align(A):W!==5&&(o._tr_stored_block(A,0,0,!1),W===3&&(z(A.head),A.lookahead===0&&(A.strstart=0,A.block_start=0,A.insert=0))),F(k),k.avail_out===0))return A.last_flush=-1,p}return W!==v?p:A.wrap<=0?1:(A.wrap===2?(te(A,255&k.adler),te(A,k.adler>>8&255),te(A,k.adler>>16&255),te(A,k.adler>>24&255),te(A,255&k.total_in),te(A,k.total_in>>8&255),te(A,k.total_in>>16&255),te(A,k.total_in>>24&255)):(J(A,k.adler>>>16),J(A,65535&k.adler)),F(k),0<A.wrap&&(A.wrap=-A.wrap),A.pending!==0?p:1)},i.deflateEnd=function(k){var W;return k&&k.state?(W=k.state.status)!==C&&W!==69&&W!==73&&W!==91&&W!==103&&W!==O&&W!==666?U(k,h):(k.state=null,W===O?U(k,-3):p):h},i.deflateSetDictionary=function(k,W){var K,A,T,B,q,ee,H,re,oe=W.length;if(!k||!k.state||(B=(K=k.state).wrap)===2||B===1&&K.status!==C||K.lookahead)return h;for(B===1&&(k.adler=l(k.adler,W,oe,0)),K.wrap=0,oe>=K.w_size&&(B===0&&(z(K.head),K.strstart=0,K.block_start=0,K.insert=0),re=new a.Buf8(K.w_size),a.arraySet(re,W,oe-K.w_size,K.w_size,0),W=re,oe=K.w_size),q=k.avail_in,ee=k.next_in,H=k.input,k.avail_in=oe,k.next_in=0,k.input=W,ae(K);K.lookahead>=R;){for(A=K.strstart,T=K.lookahead-(R-1);K.ins_h=(K.ins_h<<K.hash_shift^K.window[A+R-1])&K.hash_mask,K.prev[A&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=A,A++,--T;);K.strstart=A,K.lookahead=R-1,ae(K)}return K.strstart+=K.lookahead,K.block_start=K.strstart,K.insert=K.lookahead,K.lookahead=0,K.match_length=K.prev_length=R-1,K.match_available=0,k.next_in=ee,k.input=H,k.avail_in=q,K.wrap=B,p},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,a){var o,l,c,u,y,v,p,h,m,_,g,x,d,w,b,E,j,N,R,P,D,C,O,S,I;o=s.state,l=s.next_in,S=s.input,c=l+(s.avail_in-5),u=s.next_out,I=s.output,y=u-(a-s.avail_out),v=u+(s.avail_out-257),p=o.dmax,h=o.wsize,m=o.whave,_=o.wnext,g=o.window,x=o.hold,d=o.bits,w=o.lencode,b=o.distcode,E=(1<<o.lenbits)-1,j=(1<<o.distbits)-1;e:do{d<15&&(x+=S[l++]<<d,d+=8,x+=S[l++]<<d,d+=8),N=w[x&E];t:for(;;){if(x>>>=R=N>>>24,d-=R,(R=N>>>16&255)===0)I[u++]=65535&N;else{if(!(16&R)){if(!(64&R)){N=w[(65535&N)+(x&(1<<R)-1)];continue t}if(32&R){o.mode=12;break e}s.msg="invalid literal/length code",o.mode=30;break e}P=65535&N,(R&=15)&&(d<R&&(x+=S[l++]<<d,d+=8),P+=x&(1<<R)-1,x>>>=R,d-=R),d<15&&(x+=S[l++]<<d,d+=8,x+=S[l++]<<d,d+=8),N=b[x&j];n:for(;;){if(x>>>=R=N>>>24,d-=R,!(16&(R=N>>>16&255))){if(!(64&R)){N=b[(65535&N)+(x&(1<<R)-1)];continue n}s.msg="invalid distance code",o.mode=30;break e}if(D=65535&N,d<(R&=15)&&(x+=S[l++]<<d,(d+=8)<R&&(x+=S[l++]<<d,d+=8)),p<(D+=x&(1<<R)-1)){s.msg="invalid distance too far back",o.mode=30;break e}if(x>>>=R,d-=R,(R=u-y)<D){if(m<(R=D-R)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break e}if(O=g,(C=0)===_){if(C+=h-R,R<P){for(P-=R;I[u++]=g[C++],--R;);C=u-D,O=I}}else if(_<R){if(C+=h+_-R,(R-=_)<P){for(P-=R;I[u++]=g[C++],--R;);if(C=0,_<P){for(P-=R=_;I[u++]=g[C++],--R;);C=u-D,O=I}}}else if(C+=_-R,R<P){for(P-=R;I[u++]=g[C++],--R;);C=u-D,O=I}for(;2<P;)I[u++]=O[C++],I[u++]=O[C++],I[u++]=O[C++],P-=3;P&&(I[u++]=O[C++],1<P&&(I[u++]=O[C++]))}else{for(C=u-D;I[u++]=I[C++],I[u++]=I[C++],I[u++]=I[C++],2<(P-=3););P&&(I[u++]=I[C++],1<P&&(I[u++]=I[C++]))}break}}break}}while(l<c&&u<v);l-=P=d>>3,x&=(1<<(d-=P<<3))-1,s.next_in=l,s.next_out=u,s.avail_in=l<c?c-l+5:5-(l-c),s.avail_out=u<v?v-u+257:257-(u-v),o.hold=x,o.bits=d}},{}],49:[function(n,r,i){var s=n("../utils/common"),a=n("./adler32"),o=n("./crc32"),l=n("./inffast"),c=n("./inftrees"),u=1,y=2,v=0,p=-2,h=1,m=852,_=592;function g(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function d(C){var O;return C&&C.state?(O=C.state,C.total_in=C.total_out=O.total=0,C.msg="",O.wrap&&(C.adler=1&O.wrap),O.mode=h,O.last=0,O.havedict=0,O.dmax=32768,O.head=null,O.hold=0,O.bits=0,O.lencode=O.lendyn=new s.Buf32(m),O.distcode=O.distdyn=new s.Buf32(_),O.sane=1,O.back=-1,v):p}function w(C){var O;return C&&C.state?((O=C.state).wsize=0,O.whave=0,O.wnext=0,d(C)):p}function b(C,O){var S,I;return C&&C.state?(I=C.state,O<0?(S=0,O=-O):(S=1+(O>>4),O<48&&(O&=15)),O&&(O<8||15<O)?p:(I.window!==null&&I.wbits!==O&&(I.window=null),I.wrap=S,I.wbits=O,w(C))):p}function E(C,O){var S,I;return C?(I=new x,(C.state=I).window=null,(S=b(C,O))!==v&&(C.state=null),S):p}var j,N,R=!0;function P(C){if(R){var O;for(j=new s.Buf32(512),N=new s.Buf32(32),O=0;O<144;)C.lens[O++]=8;for(;O<256;)C.lens[O++]=9;for(;O<280;)C.lens[O++]=7;for(;O<288;)C.lens[O++]=8;for(c(u,C.lens,0,288,j,0,C.work,{bits:9}),O=0;O<32;)C.lens[O++]=5;c(y,C.lens,0,32,N,0,C.work,{bits:5}),R=!1}C.lencode=j,C.lenbits=9,C.distcode=N,C.distbits=5}function D(C,O,S,I){var Z,$=C.state;return $.window===null&&($.wsize=1<<$.wbits,$.wnext=0,$.whave=0,$.window=new s.Buf8($.wsize)),I>=$.wsize?(s.arraySet($.window,O,S-$.wsize,$.wsize,0),$.wnext=0,$.whave=$.wsize):(I<(Z=$.wsize-$.wnext)&&(Z=I),s.arraySet($.window,O,S-I,Z,$.wnext),(I-=Z)?(s.arraySet($.window,O,S-I,I,0),$.wnext=I,$.whave=$.wsize):($.wnext+=Z,$.wnext===$.wsize&&($.wnext=0),$.whave<$.wsize&&($.whave+=Z))),0}i.inflateReset=w,i.inflateReset2=b,i.inflateResetKeep=d,i.inflateInit=function(C){return E(C,15)},i.inflateInit2=E,i.inflate=function(C,O){var S,I,Z,$,U,G,z,F,L,te,J,Q,ae,M,Y,ie,ue,ce,Se,Ae,k,W,K,A,T=0,B=new s.Buf8(4),q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return p;(S=C.state).mode===12&&(S.mode=13),U=C.next_out,Z=C.output,z=C.avail_out,$=C.next_in,I=C.input,G=C.avail_in,F=S.hold,L=S.bits,te=G,J=z,W=v;e:for(;;)switch(S.mode){case h:if(S.wrap===0){S.mode=13;break}for(;L<16;){if(G===0)break e;G--,F+=I[$++]<<L,L+=8}if(2&S.wrap&&F===35615){B[S.check=0]=255&F,B[1]=F>>>8&255,S.check=o(S.check,B,2,0),L=F=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&F)<<8)+(F>>8))%31){C.msg="incorrect header check",S.mode=30;break}if((15&F)!=8){C.msg="unknown compression method",S.mode=30;break}if(L-=4,k=8+(15&(F>>>=4)),S.wbits===0)S.wbits=k;else if(k>S.wbits){C.msg="invalid window size",S.mode=30;break}S.dmax=1<<k,C.adler=S.check=1,S.mode=512&F?10:12,L=F=0;break;case 2:for(;L<16;){if(G===0)break e;G--,F+=I[$++]<<L,L+=8}if(S.flags=F,(255&S.flags)!=8){C.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){C.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=F>>8&1),512&S.flags&&(B[0]=255&F,B[1]=F>>>8&255,S.check=o(S.check,B,2,0)),L=F=0,S.mode=3;case 3:for(;L<32;){if(G===0)break e;G--,F+=I[$++]<<L,L+=8}S.head&&(S.head.time=F),512&S.flags&&(B[0]=255&F,B[1]=F>>>8&255,B[2]=F>>>16&255,B[3]=F>>>24&255,S.check=o(S.check,B,4,0)),L=F=0,S.mode=4;case 4:for(;L<16;){if(G===0)break e;G--,F+=I[$++]<<L,L+=8}S.head&&(S.head.xflags=255&F,S.head.os=F>>8),512&S.flags&&(B[0]=255&F,B[1]=F>>>8&255,S.check=o(S.check,B,2,0)),L=F=0,S.mode=5;case 5:if(1024&S.flags){for(;L<16;){if(G===0)break e;G--,F+=I[$++]<<L,L+=8}S.length=F,S.head&&(S.head.extra_len=F),512&S.flags&&(B[0]=255&F,B[1]=F>>>8&255,S.check=o(S.check,B,2,0)),L=F=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(G<(Q=S.length)&&(Q=G),Q&&(S.head&&(k=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),s.arraySet(S.head.extra,I,$,Q,k)),512&S.flags&&(S.check=o(S.check,I,Q,$)),G-=Q,$+=Q,S.length-=Q),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(G===0)break e;for(Q=0;k=I[$+Q++],S.head&&k&&S.length<65536&&(S.head.name+=String.fromCharCode(k)),k&&Q<G;);if(512&S.flags&&(S.check=o(S.check,I,Q,$)),G-=Q,$+=Q,k)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(G===0)break e;for(Q=0;k=I[$+Q++],S.head&&k&&S.length<65536&&(S.head.comment+=String.fromCharCode(k)),k&&Q<G;);if(512&S.flags&&(S.check=o(S.check,I,Q,$)),G-=Q,$+=Q,k)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;L<16;){if(G===0)break e;G--,F+=I[$++]<<L,L+=8}if(F!==(65535&S.check)){C.msg="header crc mismatch",S.mode=30;break}L=F=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),C.adler=S.check=0,S.mode=12;break;case 10:for(;L<32;){if(G===0)break e;G--,F+=I[$++]<<L,L+=8}C.adler=S.check=g(F),L=F=0,S.mode=11;case 11:if(S.havedict===0)return C.next_out=U,C.avail_out=z,C.next_in=$,C.avail_in=G,S.hold=F,S.bits=L,2;C.adler=S.check=1,S.mode=12;case 12:if(O===5||O===6)break e;case 13:if(S.last){F>>>=7&L,L-=7&L,S.mode=27;break}for(;L<3;){if(G===0)break e;G--,F+=I[$++]<<L,L+=8}switch(S.last=1&F,L-=1,3&(F>>>=1)){case 0:S.mode=14;break;case 1:if(P(S),S.mode=20,O!==6)break;F>>>=2,L-=2;break e;case 2:S.mode=17;break;case 3:C.msg="invalid block type",S.mode=30}F>>>=2,L-=2;break;case 14:for(F>>>=7&L,L-=7&L;L<32;){if(G===0)break e;G--,F+=I[$++]<<L,L+=8}if((65535&F)!=(F>>>16^65535)){C.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&F,L=F=0,S.mode=15,O===6)break e;case 15:S.mode=16;case 16:if(Q=S.length){if(G<Q&&(Q=G),z<Q&&(Q=z),Q===0)break e;s.arraySet(Z,I,$,Q,U),G-=Q,$+=Q,z-=Q,U+=Q,S.length-=Q;break}S.mode=12;break;case 17:for(;L<14;){if(G===0)break e;G--,F+=I[$++]<<L,L+=8}if(S.nlen=257+(31&F),F>>>=5,L-=5,S.ndist=1+(31&F),F>>>=5,L-=5,S.ncode=4+(15&F),F>>>=4,L-=4,286<S.nlen||30<S.ndist){C.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;L<3;){if(G===0)break e;G--,F+=I[$++]<<L,L+=8}S.lens[q[S.have++]]=7&F,F>>>=3,L-=3}for(;S.have<19;)S.lens[q[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,K={bits:S.lenbits},W=c(0,S.lens,0,19,S.lencode,0,S.work,K),S.lenbits=K.bits,W){C.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;ie=(T=S.lencode[F&(1<<S.lenbits)-1])>>>16&255,ue=65535&T,!((Y=T>>>24)<=L);){if(G===0)break e;G--,F+=I[$++]<<L,L+=8}if(ue<16)F>>>=Y,L-=Y,S.lens[S.have++]=ue;else{if(ue===16){for(A=Y+2;L<A;){if(G===0)break e;G--,F+=I[$++]<<L,L+=8}if(F>>>=Y,L-=Y,S.have===0){C.msg="invalid bit length repeat",S.mode=30;break}k=S.lens[S.have-1],Q=3+(3&F),F>>>=2,L-=2}else if(ue===17){for(A=Y+3;L<A;){if(G===0)break e;G--,F+=I[$++]<<L,L+=8}L-=Y,k=0,Q=3+(7&(F>>>=Y)),F>>>=3,L-=3}else{for(A=Y+7;L<A;){if(G===0)break e;G--,F+=I[$++]<<L,L+=8}L-=Y,k=0,Q=11+(127&(F>>>=Y)),F>>>=7,L-=7}if(S.have+Q>S.nlen+S.ndist){C.msg="invalid bit length repeat",S.mode=30;break}for(;Q--;)S.lens[S.have++]=k}}if(S.mode===30)break;if(S.lens[256]===0){C.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,K={bits:S.lenbits},W=c(u,S.lens,0,S.nlen,S.lencode,0,S.work,K),S.lenbits=K.bits,W){C.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,K={bits:S.distbits},W=c(y,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,K),S.distbits=K.bits,W){C.msg="invalid distances set",S.mode=30;break}if(S.mode=20,O===6)break e;case 20:S.mode=21;case 21:if(6<=G&&258<=z){C.next_out=U,C.avail_out=z,C.next_in=$,C.avail_in=G,S.hold=F,S.bits=L,l(C,J),U=C.next_out,Z=C.output,z=C.avail_out,$=C.next_in,I=C.input,G=C.avail_in,F=S.hold,L=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;ie=(T=S.lencode[F&(1<<S.lenbits)-1])>>>16&255,ue=65535&T,!((Y=T>>>24)<=L);){if(G===0)break e;G--,F+=I[$++]<<L,L+=8}if(ie&&!(240&ie)){for(ce=Y,Se=ie,Ae=ue;ie=(T=S.lencode[Ae+((F&(1<<ce+Se)-1)>>ce)])>>>16&255,ue=65535&T,!(ce+(Y=T>>>24)<=L);){if(G===0)break e;G--,F+=I[$++]<<L,L+=8}F>>>=ce,L-=ce,S.back+=ce}if(F>>>=Y,L-=Y,S.back+=Y,S.length=ue,ie===0){S.mode=26;break}if(32&ie){S.back=-1,S.mode=12;break}if(64&ie){C.msg="invalid literal/length code",S.mode=30;break}S.extra=15&ie,S.mode=22;case 22:if(S.extra){for(A=S.extra;L<A;){if(G===0)break e;G--,F+=I[$++]<<L,L+=8}S.length+=F&(1<<S.extra)-1,F>>>=S.extra,L-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;ie=(T=S.distcode[F&(1<<S.distbits)-1])>>>16&255,ue=65535&T,!((Y=T>>>24)<=L);){if(G===0)break e;G--,F+=I[$++]<<L,L+=8}if(!(240&ie)){for(ce=Y,Se=ie,Ae=ue;ie=(T=S.distcode[Ae+((F&(1<<ce+Se)-1)>>ce)])>>>16&255,ue=65535&T,!(ce+(Y=T>>>24)<=L);){if(G===0)break e;G--,F+=I[$++]<<L,L+=8}F>>>=ce,L-=ce,S.back+=ce}if(F>>>=Y,L-=Y,S.back+=Y,64&ie){C.msg="invalid distance code",S.mode=30;break}S.offset=ue,S.extra=15&ie,S.mode=24;case 24:if(S.extra){for(A=S.extra;L<A;){if(G===0)break e;G--,F+=I[$++]<<L,L+=8}S.offset+=F&(1<<S.extra)-1,F>>>=S.extra,L-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){C.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(z===0)break e;if(Q=J-z,S.offset>Q){if((Q=S.offset-Q)>S.whave&&S.sane){C.msg="invalid distance too far back",S.mode=30;break}ae=Q>S.wnext?(Q-=S.wnext,S.wsize-Q):S.wnext-Q,Q>S.length&&(Q=S.length),M=S.window}else M=Z,ae=U-S.offset,Q=S.length;for(z<Q&&(Q=z),z-=Q,S.length-=Q;Z[U++]=M[ae++],--Q;);S.length===0&&(S.mode=21);break;case 26:if(z===0)break e;Z[U++]=S.length,z--,S.mode=21;break;case 27:if(S.wrap){for(;L<32;){if(G===0)break e;G--,F|=I[$++]<<L,L+=8}if(J-=z,C.total_out+=J,S.total+=J,J&&(C.adler=S.check=S.flags?o(S.check,Z,J,U-J):a(S.check,Z,J,U-J)),J=z,(S.flags?F:g(F))!==S.check){C.msg="incorrect data check",S.mode=30;break}L=F=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;L<32;){if(G===0)break e;G--,F+=I[$++]<<L,L+=8}if(F!==(4294967295&S.total)){C.msg="incorrect length check",S.mode=30;break}L=F=0}S.mode=29;case 29:W=1;break e;case 30:W=-3;break e;case 31:return-4;case 32:default:return p}return C.next_out=U,C.avail_out=z,C.next_in=$,C.avail_in=G,S.hold=F,S.bits=L,(S.wsize||J!==C.avail_out&&S.mode<30&&(S.mode<27||O!==4))&&D(C,C.output,C.next_out,J-C.avail_out)?(S.mode=31,-4):(te-=C.avail_in,J-=C.avail_out,C.total_in+=te,C.total_out+=J,S.total+=J,S.wrap&&J&&(C.adler=S.check=S.flags?o(S.check,Z,J,C.next_out-J):a(S.check,Z,J,C.next_out-J)),C.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(te==0&&J===0||O===4)&&W===v&&(W=-5),W)},i.inflateEnd=function(C){if(!C||!C.state)return p;var O=C.state;return O.window&&(O.window=null),C.state=null,v},i.inflateGetHeader=function(C,O){var S;return C&&C.state&&2&(S=C.state).wrap?((S.head=O).done=!1,v):p},i.inflateSetDictionary=function(C,O){var S,I=O.length;return C&&C.state?(S=C.state).wrap!==0&&S.mode!==11?p:S.mode===11&&a(1,O,I,0)!==S.check?-3:D(C,O,I,I)?(S.mode=31,-4):(S.havedict=1,v):p},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(u,y,v,p,h,m,_,g){var x,d,w,b,E,j,N,R,P,D=g.bits,C=0,O=0,S=0,I=0,Z=0,$=0,U=0,G=0,z=0,F=0,L=null,te=0,J=new s.Buf16(16),Q=new s.Buf16(16),ae=null,M=0;for(C=0;C<=15;C++)J[C]=0;for(O=0;O<p;O++)J[y[v+O]]++;for(Z=D,I=15;1<=I&&J[I]===0;I--);if(I<Z&&(Z=I),I===0)return h[m++]=20971520,h[m++]=20971520,g.bits=1,0;for(S=1;S<I&&J[S]===0;S++);for(Z<S&&(Z=S),C=G=1;C<=15;C++)if(G<<=1,(G-=J[C])<0)return-1;if(0<G&&(u===0||I!==1))return-1;for(Q[1]=0,C=1;C<15;C++)Q[C+1]=Q[C]+J[C];for(O=0;O<p;O++)y[v+O]!==0&&(_[Q[y[v+O]]++]=O);if(j=u===0?(L=ae=_,19):u===1?(L=a,te-=257,ae=o,M-=257,256):(L=l,ae=c,-1),C=S,E=m,U=O=F=0,w=-1,b=(z=1<<($=Z))-1,u===1&&852<z||u===2&&592<z)return 1;for(;;){for(N=C-U,P=_[O]<j?(R=0,_[O]):_[O]>j?(R=ae[M+_[O]],L[te+_[O]]):(R=96,0),x=1<<C-U,S=d=1<<$;h[E+(F>>U)+(d-=x)]=N<<24|R<<16|P|0,d!==0;);for(x=1<<C-1;F&x;)x>>=1;if(x!==0?(F&=x-1,F+=x):F=0,O++,--J[C]==0){if(C===I)break;C=y[v+_[O]]}if(Z<C&&(F&b)!==w){for(U===0&&(U=Z),E+=S,G=1<<($=C-U);$+U<I&&!((G-=J[$+U])<=0);)$++,G<<=1;if(z+=1<<$,u===1&&852<z||u===2&&592<z)return 1;h[w=F&b]=Z<<24|$<<16|E-m|0}}return F!==0&&(h[E+F]=C-U<<24|64<<16|0),g.bits=Z,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),a=0,o=1;function l(T){for(var B=T.length;0<=--B;)T[B]=0}var c=0,u=29,y=256,v=y+1+u,p=30,h=19,m=2*v+1,_=15,g=16,x=7,d=256,w=16,b=17,E=18,j=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],N=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=new Array(2*(v+2));l(D);var C=new Array(2*p);l(C);var O=new Array(512);l(O);var S=new Array(256);l(S);var I=new Array(u);l(I);var Z,$,U,G=new Array(p);function z(T,B,q,ee,H){this.static_tree=T,this.extra_bits=B,this.extra_base=q,this.elems=ee,this.max_length=H,this.has_stree=T&&T.length}function F(T,B){this.dyn_tree=T,this.max_code=0,this.stat_desc=B}function L(T){return T<256?O[T]:O[256+(T>>>7)]}function te(T,B){T.pending_buf[T.pending++]=255&B,T.pending_buf[T.pending++]=B>>>8&255}function J(T,B,q){T.bi_valid>g-q?(T.bi_buf|=B<<T.bi_valid&65535,te(T,T.bi_buf),T.bi_buf=B>>g-T.bi_valid,T.bi_valid+=q-g):(T.bi_buf|=B<<T.bi_valid&65535,T.bi_valid+=q)}function Q(T,B,q){J(T,q[2*B],q[2*B+1])}function ae(T,B){for(var q=0;q|=1&T,T>>>=1,q<<=1,0<--B;);return q>>>1}function M(T,B,q){var ee,H,re=new Array(_+1),oe=0;for(ee=1;ee<=_;ee++)re[ee]=oe=oe+q[ee-1]<<1;for(H=0;H<=B;H++){var se=T[2*H+1];se!==0&&(T[2*H]=ae(re[se]++,se))}}function Y(T){var B;for(B=0;B<v;B++)T.dyn_ltree[2*B]=0;for(B=0;B<p;B++)T.dyn_dtree[2*B]=0;for(B=0;B<h;B++)T.bl_tree[2*B]=0;T.dyn_ltree[2*d]=1,T.opt_len=T.static_len=0,T.last_lit=T.matches=0}function ie(T){8<T.bi_valid?te(T,T.bi_buf):0<T.bi_valid&&(T.pending_buf[T.pending++]=T.bi_buf),T.bi_buf=0,T.bi_valid=0}function ue(T,B,q,ee){var H=2*B,re=2*q;return T[H]<T[re]||T[H]===T[re]&&ee[B]<=ee[q]}function ce(T,B,q){for(var ee=T.heap[q],H=q<<1;H<=T.heap_len&&(H<T.heap_len&&ue(B,T.heap[H+1],T.heap[H],T.depth)&&H++,!ue(B,ee,T.heap[H],T.depth));)T.heap[q]=T.heap[H],q=H,H<<=1;T.heap[q]=ee}function Se(T,B,q){var ee,H,re,oe,se=0;if(T.last_lit!==0)for(;ee=T.pending_buf[T.d_buf+2*se]<<8|T.pending_buf[T.d_buf+2*se+1],H=T.pending_buf[T.l_buf+se],se++,ee===0?Q(T,H,B):(Q(T,(re=S[H])+y+1,B),(oe=j[re])!==0&&J(T,H-=I[re],oe),Q(T,re=L(--ee),q),(oe=N[re])!==0&&J(T,ee-=G[re],oe)),se<T.last_lit;);Q(T,d,B)}function Ae(T,B){var q,ee,H,re=B.dyn_tree,oe=B.stat_desc.static_tree,se=B.stat_desc.has_stree,de=B.stat_desc.elems,je=-1;for(T.heap_len=0,T.heap_max=m,q=0;q<de;q++)re[2*q]!==0?(T.heap[++T.heap_len]=je=q,T.depth[q]=0):re[2*q+1]=0;for(;T.heap_len<2;)re[2*(H=T.heap[++T.heap_len]=je<2?++je:0)]=1,T.depth[H]=0,T.opt_len--,se&&(T.static_len-=oe[2*H+1]);for(B.max_code=je,q=T.heap_len>>1;1<=q;q--)ce(T,re,q);for(H=de;q=T.heap[1],T.heap[1]=T.heap[T.heap_len--],ce(T,re,1),ee=T.heap[1],T.heap[--T.heap_max]=q,T.heap[--T.heap_max]=ee,re[2*H]=re[2*q]+re[2*ee],T.depth[H]=(T.depth[q]>=T.depth[ee]?T.depth[q]:T.depth[ee])+1,re[2*q+1]=re[2*ee+1]=H,T.heap[1]=H++,ce(T,re,1),2<=T.heap_len;);T.heap[--T.heap_max]=T.heap[1],function(we,jt){var Ii,qt,Mi,Ge,Js,Ml,cn=jt.dyn_tree,ch=jt.max_code,Cg=jt.stat_desc.static_tree,Ng=jt.stat_desc.has_stree,Eg=jt.stat_desc.extra_bits,uh=jt.stat_desc.extra_base,Di=jt.stat_desc.max_length,ea=0;for(Ge=0;Ge<=_;Ge++)we.bl_count[Ge]=0;for(cn[2*we.heap[we.heap_max]+1]=0,Ii=we.heap_max+1;Ii<m;Ii++)Di<(Ge=cn[2*cn[2*(qt=we.heap[Ii])+1]+1]+1)&&(Ge=Di,ea++),cn[2*qt+1]=Ge,ch<qt||(we.bl_count[Ge]++,Js=0,uh<=qt&&(Js=Eg[qt-uh]),Ml=cn[2*qt],we.opt_len+=Ml*(Ge+Js),Ng&&(we.static_len+=Ml*(Cg[2*qt+1]+Js)));if(ea!==0){do{for(Ge=Di-1;we.bl_count[Ge]===0;)Ge--;we.bl_count[Ge]--,we.bl_count[Ge+1]+=2,we.bl_count[Di]--,ea-=2}while(0<ea);for(Ge=Di;Ge!==0;Ge--)for(qt=we.bl_count[Ge];qt!==0;)ch<(Mi=we.heap[--Ii])||(cn[2*Mi+1]!==Ge&&(we.opt_len+=(Ge-cn[2*Mi+1])*cn[2*Mi],cn[2*Mi+1]=Ge),qt--)}}(T,B),M(re,je,T.bl_count)}function k(T,B,q){var ee,H,re=-1,oe=B[1],se=0,de=7,je=4;for(oe===0&&(de=138,je=3),B[2*(q+1)+1]=65535,ee=0;ee<=q;ee++)H=oe,oe=B[2*(ee+1)+1],++se<de&&H===oe||(se<je?T.bl_tree[2*H]+=se:H!==0?(H!==re&&T.bl_tree[2*H]++,T.bl_tree[2*w]++):se<=10?T.bl_tree[2*b]++:T.bl_tree[2*E]++,re=H,je=(se=0)===oe?(de=138,3):H===oe?(de=6,3):(de=7,4))}function W(T,B,q){var ee,H,re=-1,oe=B[1],se=0,de=7,je=4;for(oe===0&&(de=138,je=3),ee=0;ee<=q;ee++)if(H=oe,oe=B[2*(ee+1)+1],!(++se<de&&H===oe)){if(se<je)for(;Q(T,H,T.bl_tree),--se!=0;);else H!==0?(H!==re&&(Q(T,H,T.bl_tree),se--),Q(T,w,T.bl_tree),J(T,se-3,2)):se<=10?(Q(T,b,T.bl_tree),J(T,se-3,3)):(Q(T,E,T.bl_tree),J(T,se-11,7));re=H,je=(se=0)===oe?(de=138,3):H===oe?(de=6,3):(de=7,4)}}l(G);var K=!1;function A(T,B,q,ee){J(T,(c<<1)+(ee?1:0),3),function(H,re,oe,se){ie(H),te(H,oe),te(H,~oe),s.arraySet(H.pending_buf,H.window,re,oe,H.pending),H.pending+=oe}(T,B,q)}i._tr_init=function(T){K||(function(){var B,q,ee,H,re,oe=new Array(_+1);for(H=ee=0;H<u-1;H++)for(I[H]=ee,B=0;B<1<<j[H];B++)S[ee++]=H;for(S[ee-1]=H,H=re=0;H<16;H++)for(G[H]=re,B=0;B<1<<N[H];B++)O[re++]=H;for(re>>=7;H<p;H++)for(G[H]=re<<7,B=0;B<1<<N[H]-7;B++)O[256+re++]=H;for(q=0;q<=_;q++)oe[q]=0;for(B=0;B<=143;)D[2*B+1]=8,B++,oe[8]++;for(;B<=255;)D[2*B+1]=9,B++,oe[9]++;for(;B<=279;)D[2*B+1]=7,B++,oe[7]++;for(;B<=287;)D[2*B+1]=8,B++,oe[8]++;for(M(D,v+1,oe),B=0;B<p;B++)C[2*B+1]=5,C[2*B]=ae(B,5);Z=new z(D,j,y+1,v,_),$=new z(C,N,0,p,_),U=new z(new Array(0),R,0,h,x)}(),K=!0),T.l_desc=new F(T.dyn_ltree,Z),T.d_desc=new F(T.dyn_dtree,$),T.bl_desc=new F(T.bl_tree,U),T.bi_buf=0,T.bi_valid=0,Y(T)},i._tr_stored_block=A,i._tr_flush_block=function(T,B,q,ee){var H,re,oe=0;0<T.level?(T.strm.data_type===2&&(T.strm.data_type=function(se){var de,je=4093624447;for(de=0;de<=31;de++,je>>>=1)if(1&je&&se.dyn_ltree[2*de]!==0)return a;if(se.dyn_ltree[18]!==0||se.dyn_ltree[20]!==0||se.dyn_ltree[26]!==0)return o;for(de=32;de<y;de++)if(se.dyn_ltree[2*de]!==0)return o;return a}(T)),Ae(T,T.l_desc),Ae(T,T.d_desc),oe=function(se){var de;for(k(se,se.dyn_ltree,se.l_desc.max_code),k(se,se.dyn_dtree,se.d_desc.max_code),Ae(se,se.bl_desc),de=h-1;3<=de&&se.bl_tree[2*P[de]+1]===0;de--);return se.opt_len+=3*(de+1)+5+5+4,de}(T),H=T.opt_len+3+7>>>3,(re=T.static_len+3+7>>>3)<=H&&(H=re)):H=re=q+5,q+4<=H&&B!==-1?A(T,B,q,ee):T.strategy===4||re===H?(J(T,2+(ee?1:0),3),Se(T,D,C)):(J(T,4+(ee?1:0),3),function(se,de,je,we){var jt;for(J(se,de-257,5),J(se,je-1,5),J(se,we-4,4),jt=0;jt<we;jt++)J(se,se.bl_tree[2*P[jt]+1],3);W(se,se.dyn_ltree,de-1),W(se,se.dyn_dtree,je-1)}(T,T.l_desc.max_code+1,T.d_desc.max_code+1,oe+1),Se(T,T.dyn_ltree,T.dyn_dtree)),Y(T),ee&&ie(T)},i._tr_tally=function(T,B,q){return T.pending_buf[T.d_buf+2*T.last_lit]=B>>>8&255,T.pending_buf[T.d_buf+2*T.last_lit+1]=255&B,T.pending_buf[T.l_buf+T.last_lit]=255&q,T.last_lit++,B===0?T.dyn_ltree[2*q]++:(T.matches++,B--,T.dyn_ltree[2*(S[q]+y+1)]++,T.dyn_dtree[2*L(B)]++),T.last_lit===T.lit_bufsize-1},i._tr_align=function(T){J(T,2,3),Q(T,d,D),function(B){B.bi_valid===16?(te(B,B.bi_buf),B.bi_buf=0,B.bi_valid=0):8<=B.bi_valid&&(B.pending_buf[B.pending++]=255&B.bi_buf,B.bi_buf>>=8,B.bi_valid-=8)}(T)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(a,o){if(!a.setImmediate){var l,c,u,y,v=1,p={},h=!1,m=a.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(a);_=_&&_.setTimeout?_:a,l={}.toString.call(a.process)==="[object process]"?function(w){process.nextTick(function(){x(w)})}:function(){if(a.postMessage&&!a.importScripts){var w=!0,b=a.onmessage;return a.onmessage=function(){w=!1},a.postMessage("","*"),a.onmessage=b,w}}()?(y="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",d,!1):a.attachEvent("onmessage",d),function(w){a.postMessage(y+w,"*")}):a.MessageChannel?((u=new MessageChannel).port1.onmessage=function(w){x(w.data)},function(w){u.port2.postMessage(w)}):m&&"onreadystatechange"in m.createElement("script")?(c=m.documentElement,function(w){var b=m.createElement("script");b.onreadystatechange=function(){x(w),b.onreadystatechange=null,c.removeChild(b),b=null},c.appendChild(b)}):function(w){setTimeout(x,0,w)},_.setImmediate=function(w){typeof w!="function"&&(w=new Function(""+w));for(var b=new Array(arguments.length-1),E=0;E<b.length;E++)b[E]=arguments[E+1];var j={callback:w,args:b};return p[v]=j,l(v),v++},_.clearImmediate=g}function g(w){delete p[w]}function x(w){if(h)setTimeout(x,0,w);else{var b=p[w];if(b){h=!0;try{(function(E){var j=E.callback,N=E.args;switch(N.length){case 0:j();break;case 1:j(N[0]);break;case 2:j(N[0],N[1]);break;case 3:j(N[0],N[1],N[2]);break;default:j.apply(o,N)}})(b)}finally{g(w),h=!1}}}}function d(w){w.source===a&&typeof w.data=="string"&&w.data.indexOf(y)===0&&x(+w.data.slice(y.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Ht<"u"?Ht:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Hm);var nx=Hm.exports;const rx=wo(nx);var $m={exports:{}};(function(t,e){(function(n,r){r()})(Ht,function(){function n(c,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,u,y){var v=new XMLHttpRequest;v.open("GET",c),v.responseType="blob",v.onload=function(){l(v.response,u,y)},v.onerror=function(){console.error("could not download file")},v.send()}function i(c){var u=new XMLHttpRequest;u.open("HEAD",c,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function s(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(u)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Ht=="object"&&Ht.global===Ht?Ht:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(c,u,y){var v=a.URL||a.webkitURL,p=document.createElement("a");u=u||c.name||"download",p.download=u,p.rel="noopener",typeof c=="string"?(p.href=c,p.origin===location.origin?s(p):i(p.href)?r(c,u,y):s(p,p.target="_blank")):(p.href=v.createObjectURL(c),setTimeout(function(){v.revokeObjectURL(p.href)},4e4),setTimeout(function(){s(p)},0))}:"msSaveOrOpenBlob"in navigator?function(c,u,y){if(u=u||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,y),u);else if(i(c))r(c,u,y);else{var v=document.createElement("a");v.href=c,v.target="_blank",setTimeout(function(){s(v)})}}:function(c,u,y,v){if(v=v||open("","_blank"),v&&(v.document.title=v.document.body.innerText="downloading..."),typeof c=="string")return r(c,u,y);var p=c.type==="application/octet-stream",h=/constructor/i.test(a.HTMLElement)||a.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||p&&h||o)&&typeof FileReader<"u"){var _=new FileReader;_.onloadend=function(){var d=_.result;d=m?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),v?v.location.href=d:location=d,v=null},_.readAsDataURL(c)}else{var g=a.URL||a.webkitURL,x=g.createObjectURL(c);v?v.location=x:location.href=x,v=null,setTimeout(function(){g.revokeObjectURL(x)},4e4)}});a.saveAs=l.saveAs=l,t.exports=l})})($m);var ix=$m.exports,Kd={exports:{}},Wo={},Vm={},ge={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;const e=Math.PI/180;function n(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}t.glob=typeof Ht<"u"?Ht:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},t.Konva={_global:t.glob,version:"9.3.22",isBrowser:n(),isUnminified:/param/.test((function(i){}).toString()),dblClickWindow:400,getAngle(i){return t.Konva.angleDeg?i*e:i},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return t.Konva.DD.isDragging},isTransforming(){var i;return(i=t.Konva.Transformer)===null||i===void 0?void 0:i.isTransforming()},isDragReady(){return!!t.Konva.DD.node},releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(i){t.glob.Konva=i}};const r=i=>{t.Konva[i.prototype.getClassName()]=i};t._registerNode=r,t.Konva._injectGlobal(t.Konva)})(ge);var De={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const e=ge;class n{constructor(w=[1,0,0,1,0,0]){this.dirty=!1,this.m=w&&w.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new n(this.m)}copyInto(w){w.m[0]=this.m[0],w.m[1]=this.m[1],w.m[2]=this.m[2],w.m[3]=this.m[3],w.m[4]=this.m[4],w.m[5]=this.m[5]}point(w){const b=this.m;return{x:b[0]*w.x+b[2]*w.y+b[4],y:b[1]*w.x+b[3]*w.y+b[5]}}translate(w,b){return this.m[4]+=this.m[0]*w+this.m[2]*b,this.m[5]+=this.m[1]*w+this.m[3]*b,this}scale(w,b){return this.m[0]*=w,this.m[1]*=w,this.m[2]*=b,this.m[3]*=b,this}rotate(w){const b=Math.cos(w),E=Math.sin(w),j=this.m[0]*b+this.m[2]*E,N=this.m[1]*b+this.m[3]*E,R=this.m[0]*-E+this.m[2]*b,P=this.m[1]*-E+this.m[3]*b;return this.m[0]=j,this.m[1]=N,this.m[2]=R,this.m[3]=P,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(w,b){const E=this.m[0]+this.m[2]*b,j=this.m[1]+this.m[3]*b,N=this.m[2]+this.m[0]*w,R=this.m[3]+this.m[1]*w;return this.m[0]=E,this.m[1]=j,this.m[2]=N,this.m[3]=R,this}multiply(w){const b=this.m[0]*w.m[0]+this.m[2]*w.m[1],E=this.m[1]*w.m[0]+this.m[3]*w.m[1],j=this.m[0]*w.m[2]+this.m[2]*w.m[3],N=this.m[1]*w.m[2]+this.m[3]*w.m[3],R=this.m[0]*w.m[4]+this.m[2]*w.m[5]+this.m[4],P=this.m[1]*w.m[4]+this.m[3]*w.m[5]+this.m[5];return this.m[0]=b,this.m[1]=E,this.m[2]=j,this.m[3]=N,this.m[4]=R,this.m[5]=P,this}invert(){const w=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),b=this.m[3]*w,E=-this.m[1]*w,j=-this.m[2]*w,N=this.m[0]*w,R=w*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),P=w*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=b,this.m[1]=E,this.m[2]=j,this.m[3]=N,this.m[4]=R,this.m[5]=P,this}getMatrix(){return this.m}decompose(){const w=this.m[0],b=this.m[1],E=this.m[2],j=this.m[3],N=this.m[4],R=this.m[5],P=w*j-b*E,D={x:N,y:R,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(w!=0||b!=0){const C=Math.sqrt(w*w+b*b);D.rotation=b>0?Math.acos(w/C):-Math.acos(w/C),D.scaleX=C,D.scaleY=P/C,D.skewX=(w*E+b*j)/P,D.skewY=0}else if(E!=0||j!=0){const C=Math.sqrt(E*E+j*j);D.rotation=Math.PI/2-(j>0?Math.acos(-E/C):-Math.acos(E/C)),D.scaleX=P/C,D.scaleY=C,D.skewX=0,D.skewY=(w*E+b*j)/P}return D.rotation=t.Util._getRotation(D.rotation),D}}t.Transform=n;const r="[object Array]",i="[object Number]",s="[object String]",a="[object Boolean]",o=Math.PI/180,l=180/Math.PI,c="#",u="",y="0",v="Konva warning: ",p="Konva error: ",h="rgb(",m={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},_=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let g=[];const x=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(d){setTimeout(d,60)};t.Util={_isElement(d){return!!(d&&d.nodeType==1)},_isFunction(d){return!!(d&&d.constructor&&d.call&&d.apply)},_isPlainObject(d){return!!d&&d.constructor===Object},_isArray(d){return Object.prototype.toString.call(d)===r},_isNumber(d){return Object.prototype.toString.call(d)===i&&!isNaN(d)&&isFinite(d)},_isString(d){return Object.prototype.toString.call(d)===s},_isBoolean(d){return Object.prototype.toString.call(d)===a},isObject(d){return d instanceof Object},isValidSelector(d){if(typeof d!="string")return!1;const w=d[0];return w==="#"||w==="."||w===w.toUpperCase()},_sign(d){return d===0||d>0?1:-1},requestAnimFrame(d){g.push(d),g.length===1&&x(function(){const w=g;g=[],w.forEach(function(b){b()})})},createCanvasElement(){const d=document.createElement("canvas");try{d.style=d.style||{}}catch{}return d},createImageElement(){return document.createElement("img")},_isInDocument(d){for(;d=d.parentNode;)if(d==document)return!0;return!1},_urlToImage(d,w){const b=t.Util.createImageElement();b.onload=function(){w(b)},b.src=d},_rgbToHex(d,w,b){return((1<<24)+(d<<16)+(w<<8)+b).toString(16).slice(1)},_hexToRgb(d){d=d.replace(c,u);const w=parseInt(d,16);return{r:w>>16&255,g:w>>8&255,b:w&255}},getRandomColor(){let d=(Math.random()*16777215<<0).toString(16);for(;d.length<6;)d=y+d;return c+d},getRGB(d){let w;return d in m?(w=m[d],{r:w[0],g:w[1],b:w[2]}):d[0]===c?this._hexToRgb(d.substring(1)):d.substr(0,4)===h?(w=_.exec(d.replace(/ /g,"")),{r:parseInt(w[1],10),g:parseInt(w[2],10),b:parseInt(w[3],10)}):{r:0,g:0,b:0}},colorToRGBA(d){return d=d||"black",t.Util._namedColorToRBA(d)||t.Util._hex3ColorToRGBA(d)||t.Util._hex4ColorToRGBA(d)||t.Util._hex6ColorToRGBA(d)||t.Util._hex8ColorToRGBA(d)||t.Util._rgbColorToRGBA(d)||t.Util._rgbaColorToRGBA(d)||t.Util._hslColorToRGBA(d)},_namedColorToRBA(d){const w=m[d.toLowerCase()];return w?{r:w[0],g:w[1],b:w[2],a:1}:null},_rgbColorToRGBA(d){if(d.indexOf("rgb(")===0){d=d.match(/rgb\(([^)]+)\)/)[1];const w=d.split(/ *, */).map(Number);return{r:w[0],g:w[1],b:w[2],a:1}}},_rgbaColorToRGBA(d){if(d.indexOf("rgba(")===0){d=d.match(/rgba\(([^)]+)\)/)[1];const w=d.split(/ *, */).map((b,E)=>b.slice(-1)==="%"?E===3?parseInt(b)/100:parseInt(b)/100*255:Number(b));return{r:w[0],g:w[1],b:w[2],a:w[3]}}},_hex8ColorToRGBA(d){if(d[0]==="#"&&d.length===9)return{r:parseInt(d.slice(1,3),16),g:parseInt(d.slice(3,5),16),b:parseInt(d.slice(5,7),16),a:parseInt(d.slice(7,9),16)/255}},_hex6ColorToRGBA(d){if(d[0]==="#"&&d.length===7)return{r:parseInt(d.slice(1,3),16),g:parseInt(d.slice(3,5),16),b:parseInt(d.slice(5,7),16),a:1}},_hex4ColorToRGBA(d){if(d[0]==="#"&&d.length===5)return{r:parseInt(d[1]+d[1],16),g:parseInt(d[2]+d[2],16),b:parseInt(d[3]+d[3],16),a:parseInt(d[4]+d[4],16)/255}},_hex3ColorToRGBA(d){if(d[0]==="#"&&d.length===4)return{r:parseInt(d[1]+d[1],16),g:parseInt(d[2]+d[2],16),b:parseInt(d[3]+d[3],16),a:1}},_hslColorToRGBA(d){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(d)){const[w,...b]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(d),E=Number(b[0])/360,j=Number(b[1])/100,N=Number(b[2])/100;let R,P,D;if(j===0)return D=N*255,{r:Math.round(D),g:Math.round(D),b:Math.round(D),a:1};N<.5?R=N*(1+j):R=N+j-N*j;const C=2*N-R,O=[0,0,0];for(let S=0;S<3;S++)P=E+1/3*-(S-1),P<0&&P++,P>1&&P--,6*P<1?D=C+(R-C)*6*P:2*P<1?D=R:3*P<2?D=C+(R-C)*(2/3-P)*6:D=C,O[S]=D*255;return{r:Math.round(O[0]),g:Math.round(O[1]),b:Math.round(O[2]),a:1}}},haveIntersection(d,w){return!(w.x>d.x+d.width||w.x+w.width<d.x||w.y>d.y+d.height||w.y+w.height<d.y)},cloneObject(d){const w={};for(const b in d)this._isPlainObject(d[b])?w[b]=this.cloneObject(d[b]):this._isArray(d[b])?w[b]=this.cloneArray(d[b]):w[b]=d[b];return w},cloneArray(d){return d.slice(0)},degToRad(d){return d*o},radToDeg(d){return d*l},_degToRad(d){return t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(d)},_radToDeg(d){return t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(d)},_getRotation(d){return e.Konva.angleDeg?t.Util.radToDeg(d):d},_capitalize(d){return d.charAt(0).toUpperCase()+d.slice(1)},throw(d){throw new Error(p+d)},error(d){console.error(p+d)},warn(d){e.Konva.showWarnings&&console.warn(v+d)},each(d,w){for(const b in d)w(b,d[b])},_inRange(d,w,b){return w<=d&&d<b},_getProjectionToSegment(d,w,b,E,j,N){let R,P,D;const C=(d-b)*(d-b)+(w-E)*(w-E);if(C==0)R=d,P=w,D=(j-b)*(j-b)+(N-E)*(N-E);else{const O=((j-d)*(b-d)+(N-w)*(E-w))/C;O<0?(R=d,P=w,D=(d-j)*(d-j)+(w-N)*(w-N)):O>1?(R=b,P=E,D=(b-j)*(b-j)+(E-N)*(E-N)):(R=d+O*(b-d),P=w+O*(E-w),D=(R-j)*(R-j)+(P-N)*(P-N))}return[R,P,D]},_getProjectionToLine(d,w,b){const E=t.Util.cloneObject(d);let j=Number.MAX_VALUE;return w.forEach(function(N,R){if(!b&&R===w.length-1)return;const P=w[(R+1)%w.length],D=t.Util._getProjectionToSegment(N.x,N.y,P.x,P.y,d.x,d.y),C=D[0],O=D[1],S=D[2];S<j&&(E.x=C,E.y=O,j=S)}),E},_prepareArrayForTween(d,w,b){const E=[],j=[];if(d.length>w.length){const R=w;w=d,d=R}for(let R=0;R<d.length;R+=2)E.push({x:d[R],y:d[R+1]});for(let R=0;R<w.length;R+=2)j.push({x:w[R],y:w[R+1]});const N=[];return j.forEach(function(R){const P=t.Util._getProjectionToLine(R,E,b);N.push(P.x),N.push(P.y)}),N},_prepareToStringify(d){let w;d.visitedByCircularReferenceRemoval=!0;for(const b in d)if(d.hasOwnProperty(b)&&d[b]&&typeof d[b]=="object"){if(w=Object.getOwnPropertyDescriptor(d,b),d[b].visitedByCircularReferenceRemoval||t.Util._isElement(d[b]))if(w.configurable)delete d[b];else return null;else if(t.Util._prepareToStringify(d[b])===null)if(w.configurable)delete d[b];else return null}return delete d.visitedByCircularReferenceRemoval,d},_assign(d,w){for(const b in w)d[b]=w[b];return d},_getFirstPointerId(d){return d.touches?d.changedTouches[0].identifier:d.pointerId||999},releaseCanvas(...d){e.Konva.releaseCanvasOnDestroy&&d.forEach(w=>{w.width=0,w.height=0})},drawRoundedRectPath(d,w,b,E){let j=0,N=0,R=0,P=0;typeof E=="number"?j=N=R=P=Math.min(E,w/2,b/2):(j=Math.min(E[0]||0,w/2,b/2),N=Math.min(E[1]||0,w/2,b/2),P=Math.min(E[2]||0,w/2,b/2),R=Math.min(E[3]||0,w/2,b/2)),d.moveTo(j,0),d.lineTo(w-N,0),d.arc(w-N,N,N,Math.PI*3/2,0,!1),d.lineTo(w,b-P),d.arc(w-P,b-P,P,0,Math.PI/2,!1),d.lineTo(R,b),d.arc(R,b-R,R,Math.PI/2,Math.PI,!1),d.lineTo(0,j),d.arc(j,j,j,Math.PI,Math.PI*3/2,!1)}}})(De);var Fe={},Wt={},vn={};Object.defineProperty(vn,"__esModule",{value:!0});vn.HitContext=vn.SceneContext=vn.Context=void 0;const Wm=De,sx=ge;function ax(t){const e=[],n=t.length,r=Wm.Util;for(let i=0;i<n;i++){let s=t[i];r._isNumber(s)?s=Math.round(s*1e3)/1e3:r._isString(s)||(s=s+""),e.push(s)}return e}const i0=",",ox="(",lx=")",cx="([",ux="])",dx=";",hx="()",fx="=",s0=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],px=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],mx=100;class Ko{constructor(e){this.canvas=e,sx.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let r=this.traceArr,i=r.length,s="",a,o,l,c;for(a=0;a<i;a++)o=r[a],l=o.method,l?(c=o.args,s+=l,e?s+=hx:Wm.Util._isArray(c[0])?s+=cx+c.join(i0)+ux:(n&&(c=c.map(u=>typeof u=="number"?Math.floor(u):u)),s+=ox+c.join(i0)+lx)):(s+=o.property,e||(s+=fx+o.val)),s+=dx;return s}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,r;n.push(e),r=n.length,r>=mx&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){const n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}setAttr(e,n){this._context[e]=n}arc(e,n,r,i,s,a){this._context.arc(e,n,r,i,s,a)}arcTo(e,n,r,i,s){this._context.arcTo(e,n,r,i,s)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,r,i,s,a){this._context.bezierCurveTo(e,n,r,i,s,a)}clearRect(e,n,r,i){this._context.clearRect(e,n,r,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){const r=arguments;if(r.length===2)return this._context.createImageData(e,n);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,r,i){return this._context.createLinearGradient(e,n,r,i)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,r,i,s,a){return this._context.createRadialGradient(e,n,r,i,s,a)}drawImage(e,n,r,i,s,a,o,l,c){const u=arguments,y=this._context;u.length===3?y.drawImage(e,n,r):u.length===5?y.drawImage(e,n,r,i,s):u.length===9&&y.drawImage(e,n,r,i,s,a,o,l,c)}ellipse(e,n,r,i,s,a,o,l){this._context.ellipse(e,n,r,i,s,a,o,l)}isPointInPath(e,n,r,i){return r?this._context.isPointInPath(r,e,n,i):this._context.isPointInPath(e,n,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,r,i){this._context.fillRect(e,n,r,i)}strokeRect(e,n,r,i){this._context.strokeRect(e,n,r,i)}fillText(e,n,r,i){i?this._context.fillText(e,n,r,i):this._context.fillText(e,n,r)}measureText(e){return this._context.measureText(e)}getImageData(e,n,r,i){return this._context.getImageData(e,n,r,i)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,r,i){this._context.rect(e,n,r,i)}roundRect(e,n,r,i,s){this._context.roundRect(e,n,r,i,s)}putImageData(e,n,r){this._context.putImageData(e,n,r)}quadraticCurveTo(e,n,r,i){this._context.quadraticCurveTo(e,n,r,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,r,i,s,a){this._context.setTransform(e,n,r,i,s,a)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,r,i){this._context.strokeText(e,n,r,i)}transform(e,n,r,i,s,a){this._context.transform(e,n,r,i,s,a)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=s0.length,r=this.setAttr,i,s;const a=function(o){let l=e[o],c;e[o]=function(){return s=ax(Array.prototype.slice.call(arguments,0)),c=l.apply(e,arguments),e._trace({method:o,args:s}),c}};for(i=0;i<n;i++)a(s0[i]);e.setAttr=function(){r.apply(e,arguments);const o=arguments[0];let l=arguments[1];(o==="shadowOffsetX"||o==="shadowOffsetY"||o==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),e._trace({property:o,val:l})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}vn.Context=Ko;px.forEach(function(t){Object.defineProperty(Ko.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class gx extends Ko{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){const n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),r=e.getFillPriority();if(n&&r==="color"){this._fillColor(e);return}const i=e.getFillPatternImage();if(i&&r==="pattern"){this._fillPattern(e);return}const s=e.getFillLinearGradientColorStops();if(s&&r==="linear-gradient"){this._fillLinearGradient(e);return}const a=e.getFillRadialGradientColorStops();if(a&&r==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):i?this._fillPattern(e):s?this._fillLinearGradient(e):a&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),s=this.createLinearGradient(n.x,n.y,r.x,r.y);if(i){for(let a=0;a<i.length;a+=2)s.addColorStop(i[a],i[a+1]);this.setAttr("strokeStyle",s)}}_stroke(e){const n=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();const s=this.getCanvas().getPixelRatio();this.setTransform(s,0,0,s,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var n,r,i;const s=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",a=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,o=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},l=e.getAbsoluteScale(),c=this.canvas.getPixelRatio(),u=l.x*c,y=l.y*c;this.setAttr("shadowColor",s),this.setAttr("shadowBlur",a*Math.min(Math.abs(u),Math.abs(y))),this.setAttr("shadowOffsetX",o.x*u),this.setAttr("shadowOffsetY",o.y*y)}}vn.SceneContext=gx;class yx extends Ko{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const n=e.getStrokeScaleEnabled();if(!n){this.save();const s=this.getCanvas().getPixelRatio();this.setTransform(s,0,0,s,0,0)}this._applyLineCap(e);const r=e.hitStrokeWidth(),i=r==="auto"?e.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}vn.HitContext=yx;Object.defineProperty(Wt,"__esModule",{value:!0});Wt.HitCanvas=Wt.SceneCanvas=Wt.Canvas=void 0;const yo=De,Km=vn,Ym=ge;let wa;function vx(){if(wa)return wa;const t=yo.Util.createCanvasElement(),e=t.getContext("2d");return wa=function(){const n=Ym.Konva._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/r}(),yo.Util.releaseCanvas(t),wa}class Yd{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const r=(e||{}).pixelRatio||Ym.Konva.pixelRatio||vx();this.pixelRatio=r,this._canvas=yo.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(i){return yo.Util.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}Wt.Canvas=Yd;class xx extends Yd{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new Km.SceneContext(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}Wt.SceneCanvas=xx;class _x extends Yd{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new Km.HitContext(this),this.setSize(e.width,e.height)}}Wt.HitCanvas=_x;var Yo={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const e=ge,n=De;t.DD={get isDragging(){let r=!1;return t.DD._dragElements.forEach(i=>{i.dragStatus==="dragging"&&(r=!0)}),r},justDragged:!1,get node(){let r;return t.DD._dragElements.forEach(i=>{r=i.node}),r},_dragElements:new Map,_drag(r){const i=[];t.DD._dragElements.forEach((s,a)=>{const{node:o}=s,l=o.getStage();l.setPointersPositions(r),s.pointerId===void 0&&(s.pointerId=n.Util._getFirstPointerId(r));const c=l._changedPointerPositions.find(u=>u.id===s.pointerId);if(c){if(s.dragStatus!=="dragging"){const u=o.dragDistance();if(Math.max(Math.abs(c.x-s.startPointerPos.x),Math.abs(c.y-s.startPointerPos.y))<u||(o.startDrag({evt:r}),!o.isDragging()))return}o._setDragPosition(r,s),i.push(o)}}),i.forEach(s=>{s.fire("dragmove",{type:"dragmove",target:s,evt:r},!0)})},_endDragBefore(r){const i=[];t.DD._dragElements.forEach(s=>{const{node:a}=s,o=a.getStage();if(r&&o.setPointersPositions(r),!o._changedPointerPositions.find(u=>u.id===s.pointerId))return;(s.dragStatus==="dragging"||s.dragStatus==="stopped")&&(t.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,s.dragStatus="stopped");const c=s.node.getLayer()||s.node instanceof e.Konva.Stage&&s.node;c&&i.indexOf(c)===-1&&i.push(c)}),i.forEach(s=>{s.draw()})},_endDragAfter(r){t.DD._dragElements.forEach((i,s)=>{i.dragStatus==="stopped"&&i.node.fire("dragend",{type:"dragend",target:i.node,evt:r},!0),i.dragStatus!=="dragging"&&t.DD._dragElements.delete(s)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("touchcancel",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1),window.addEventListener("touchcancel",t.DD._endDragAfter,!1))})(Yo);var ye={},fe={};Object.defineProperty(fe,"__esModule",{value:!0});fe.RGBComponent=wx;fe.alphaComponent=bx;fe.getNumberValidator=Sx;fe.getNumberOrArrayOfNumbersValidator=kx;fe.getNumberOrAutoValidator=Cx;fe.getStringValidator=Nx;fe.getStringOrGradientValidator=Ex;fe.getFunctionValidator=jx;fe.getNumberArrayValidator=Px;fe.getBooleanValidator=Tx;fe.getComponentValidator=Rx;const Cn=ge,Ue=De;function Nn(t){return Ue.Util._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||Ue.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}function wx(t){return t>255?255:t<0?0:Math.round(t)}function bx(t){return t>1?1:t<1e-4?1e-4:t}function Sx(){if(Cn.Konva.isUnminified)return function(t,e){return Ue.Util._isNumber(t)||Ue.Util.warn(Nn(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function kx(t){if(Cn.Konva.isUnminified)return function(e,n){let r=Ue.Util._isNumber(e),i=Ue.Util._isArray(e)&&e.length==t;return!r&&!i&&Ue.Util.warn(Nn(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function Cx(){if(Cn.Konva.isUnminified)return function(t,e){return Ue.Util._isNumber(t)||t==="auto"||Ue.Util.warn(Nn(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function Nx(){if(Cn.Konva.isUnminified)return function(t,e){return Ue.Util._isString(t)||Ue.Util.warn(Nn(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function Ex(){if(Cn.Konva.isUnminified)return function(t,e){const n=Ue.Util._isString(t),r=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||r||Ue.Util.warn(Nn(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function jx(){if(Cn.Konva.isUnminified)return function(t,e){return Ue.Util._isFunction(t)||Ue.Util.warn(Nn(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}}function Px(){if(Cn.Konva.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(Ue.Util._isArray(t)?t.forEach(function(r){Ue.Util._isNumber(r)||Ue.Util.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):Ue.Util.warn(Nn(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function Tx(){if(Cn.Konva.isUnminified)return function(t,e){return t===!0||t===!1||Ue.Util.warn(Nn(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function Rx(t){if(Cn.Konva.isUnminified)return function(e,n){return e==null||Ue.Util.isObject(e)||Ue.Util.warn(Nn(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const e=De,n=fe,r="get",i="set";t.Factory={addGetterSetter(s,a,o,l,c){t.Factory.addGetter(s,a,o),t.Factory.addSetter(s,a,l,c),t.Factory.addOverloadedGetterSetter(s,a)},addGetter(s,a,o){const l=r+e.Util._capitalize(a);s.prototype[l]=s.prototype[l]||function(){const c=this.attrs[a];return c===void 0?o:c}},addSetter(s,a,o,l){const c=i+e.Util._capitalize(a);s.prototype[c]||t.Factory.overWriteSetter(s,a,o,l)},overWriteSetter(s,a,o,l){const c=i+e.Util._capitalize(a);s.prototype[c]=function(u){return o&&u!==void 0&&u!==null&&(u=o.call(this,u,a)),this._setAttr(a,u),l&&l.call(this),this}},addComponentsGetterSetter(s,a,o,l,c){const u=o.length,y=e.Util._capitalize,v=r+y(a),p=i+y(a);s.prototype[v]=function(){const m={};for(let _=0;_<u;_++){const g=o[_];m[g]=this.getAttr(a+y(g))}return m};const h=(0,n.getComponentValidator)(o);s.prototype[p]=function(m){const _=this.attrs[a];l&&(m=l.call(this,m,a)),h&&h.call(this,m,a);for(const g in m)m.hasOwnProperty(g)&&this._setAttr(a+y(g),m[g]);return m||o.forEach(g=>{this._setAttr(a+y(g),void 0)}),this._fireChangeEvent(a,_,m),c&&c.call(this),this},t.Factory.addOverloadedGetterSetter(s,a)},addOverloadedGetterSetter(s,a){const o=e.Util._capitalize(a),l=i+o,c=r+o;s.prototype[a]=function(){return arguments.length?(this[l](arguments[0]),this):this[c]()}},addDeprecatedGetterSetter(s,a,o,l){e.Util.error("Adding deprecated "+a);const c=r+e.Util._capitalize(a),u=a+" property is deprecated and will be removed soon. Look at Konva change log for more information.";s.prototype[c]=function(){e.Util.error(u);const y=this.attrs[a];return y===void 0?o:y},t.Factory.addSetter(s,a,l,function(){e.Util.error(u)}),t.Factory.addOverloadedGetterSetter(s,a)},backCompat(s,a){e.Util.each(a,function(o,l){const c=s.prototype[l],u=r+e.Util._capitalize(o),y=i+e.Util._capitalize(o);function v(){c.apply(this,arguments),e.Util.error('"'+o+'" method is deprecated and will be removed soon. Use ""'+l+'" instead.')}s.prototype[o]=v,s.prototype[u]=v,s.prototype[y]=v})},afterSetFilter(){this._filterUpToDate=!1}}})(ye);Object.defineProperty(Fe,"__esModule",{value:!0});Fe.Node=void 0;const zr=Wt,Pt=Yo,Ys=ye,Tn=ge,xe=De,We=fe,Ga="absoluteOpacity",ba="allEventListeners",hn="absoluteTransform",a0="absoluteScale",or="canvas",Ax="Change",Ox="children",Fx="konva",Tu="listening",Lx="mouseenter",Ix="mouseleave",Mx="pointerenter",Dx="pointerleave",zx="touchenter",Ux="touchleave",o0="set",l0="Shape",Ha=" ",c0="stage",Rn="transform",Bx="Stage",Ru="visible",Gx=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Ha);let Hx=1;class pe{constructor(e){this._id=Hx++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===Rn||e===hn)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let r=this._cache.get(e);return(r===void 0||(e===Rn||e===hn)&&r.dirty===!0)&&(r=n.call(this),this._cache.set(e,r)),r}_calculate(e,n,r){if(!this._attachedDepsListeners.get(e)){const i=n.map(s=>s+"Change.konva").join(Ha);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(or)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===hn&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(or)){const{scene:e,filter:n,hit:r,buffer:i}=this._cache.get(or);xe.Util.releaseCanvas(e,n,r,i),this._cache.delete(or)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const n=e||{};let r={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let i=Math.ceil(n.width||r.width),s=Math.ceil(n.height||r.height),a=n.pixelRatio,o=n.x===void 0?Math.floor(r.x):n.x,l=n.y===void 0?Math.floor(r.y):n.y,c=n.offset||0,u=n.drawBorder||!1,y=n.hitCanvasPixelRatio||1;if(!i||!s){xe.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const v=Math.abs(Math.round(r.x)-o)>.5?1:0,p=Math.abs(Math.round(r.y)-l)>.5?1:0;i+=c*2+v,s+=c*2+p,o-=c,l-=c;const h=new zr.SceneCanvas({pixelRatio:a,width:i,height:s}),m=new zr.SceneCanvas({pixelRatio:a,width:0,height:0,willReadFrequently:!0}),_=new zr.HitCanvas({pixelRatio:y,width:i,height:s}),g=h.getContext(),x=_.getContext(),d=new zr.SceneCanvas({width:h.width/h.pixelRatio+Math.abs(o),height:h.height/h.pixelRatio+Math.abs(l),pixelRatio:h.pixelRatio}),w=d.getContext();return _.isCache=!0,h.isCache=!0,this._cache.delete(or),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(h.getContext()._context.imageSmoothingEnabled=!1,m.getContext()._context.imageSmoothingEnabled=!1),g.save(),x.save(),w.save(),g.translate(-o,-l),x.translate(-o,-l),w.translate(-o,-l),d.x=o,d.y=l,this._isUnderCache=!0,this._clearSelfAndDescendantCache(Ga),this._clearSelfAndDescendantCache(a0),this.drawScene(h,this,d),this.drawHit(_,this),this._isUnderCache=!1,g.restore(),x.restore(),u&&(g.save(),g.beginPath(),g.rect(0,0,i,s),g.closePath(),g.setAttr("strokeStyle","red"),g.setAttr("lineWidth",5),g.stroke(),g.restore()),this._cache.set(or,{scene:h,filter:m,hit:_,buffer:d,x:o,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(or)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){const r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let i=1/0,s=1/0,a=-1/0,o=-1/0;const l=this.getAbsoluteTransform(n);return r.forEach(function(c){const u=l.point(c);i===void 0&&(i=a=u.x,s=o=u.y),i=Math.min(i,u.x),s=Math.min(s,u.y),a=Math.max(a,u.x),o=Math.max(o,u.y)}),{x:i,y:s,width:a-i,height:o-s}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);const r=this._getCachedSceneCanvas(),i=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/i,r.height/i),e.restore()}_drawCachedHitCanvas(e){const n=this._getCanvasCache(),r=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),r=n.scene,i=n.filter,s=i.getContext(),a,o,l,c;if(e){if(!this._filterUpToDate){const u=r.pixelRatio;i.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio);try{for(a=e.length,s.clear(),s.drawImage(r._canvas,0,0,r.getWidth()/u,r.getHeight()/u),o=s.getImageData(0,0,i.getWidth(),i.getHeight()),l=0;l<a;l++){if(c=e[l],typeof c!="function"){xe.Util.error("Filter should be type of function, but got "+typeof c+" instead. Please check correct filters");continue}c.call(this,o),s.putImageData(o,0,0)}}catch(y){xe.Util.error("Unable to apply filter. "+y.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return i}return r}on(e,n){if(this._cache&&this._cache.delete(ba),arguments.length===3)return this._delegate.apply(this,arguments);const r=e.split(Ha);for(let i=0;i<r.length;i++){const a=r[i].split("."),o=a[0],l=a[1]||"";this.eventListeners[o]||(this.eventListeners[o]=[]),this.eventListeners[o].push({name:l,handler:n})}return this}off(e,n){let r=(e||"").split(Ha),i=r.length,s,a,o,l,c,u;if(this._cache&&this._cache.delete(ba),!e)for(a in this.eventListeners)this._off(a);for(s=0;s<i;s++)if(o=r[s],l=o.split("."),c=l[0],u=l[1],c)this.eventListeners[c]&&this._off(c,u,n);else for(a in this.eventListeners)this._off(a,u,n);return this}dispatchEvent(e){const n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(r){n.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,r){const i=this;this.on(e,function(s){const a=s.target.findAncestors(n,!0,i);for(let o=0;o<a.length;o++)s=xe.Util.cloneObject(s),s.currentTarget=a[o],r.call(a[o],s)})}remove(){return this.isDragging()&&this.stopDrag(),Pt.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(hn),this._clearSelfAndDescendantCache(Ga),this._clearSelfAndDescendantCache(a0),this._clearSelfAndDescendantCache(c0),this._clearSelfAndDescendantCache(Ru),this._clearSelfAndDescendantCache(Tu)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const n="get"+xe.Util._capitalize(e);return xe.Util._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,r;if(!e)return this;for(n in e)n!==Ox&&(r=o0+xe.Util._capitalize(n),xe.Util._isFunction(this[r])?this[r](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(Tu,this._isListening)}_isListening(e){if(!this.listening())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(Ru,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);const r=this.getLayer();let i=!1;Pt.DD._dragElements.forEach(a=>{a.dragStatus==="dragging"&&(a.node.nodeType==="Stage"||a.node.getLayer()===r)&&(i=!0)});const s=!n&&!Tn.Konva.hitOnDragEnabled&&(i||Tn.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!s}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,r=0,i,s,a,o;function l(u){for(i=[],s=u.length,a=0;a<s;a++)o=u[a],r++,o.nodeType!==l0&&(i=i.concat(o.getChildren().slice())),o._id===n._id&&(a=s);i.length>0&&i[0].getDepth()<=e&&l(i)}const c=this.getStage();return n.nodeType!==Bx&&c&&l(c.getChildren()),r}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Rn),this._clearSelfAndDescendantCache(hn)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const n=e.getPointerPosition();if(!n)return null;const r=this.getAbsoluteTransform().copy();return r.invert(),r.point(n)}getAbsolutePosition(e){let n=!1,r=this.parent;for(;r;){if(r.isCached()){n=!0;break}r=r.parent}n&&!e&&(e=!0);const i=this.getAbsoluteTransform(e).getMatrix(),s=new xe.Transform,a=this.offset();return s.m=i.slice(),s.translate(a.x,a.y),s.getTranslation()}setAbsolutePosition(e){const{x:n,y:r,...i}=this._clearTransform();this.attrs.x=n,this.attrs.y=r,this._clearCache(Rn);const s=this._getAbsoluteTransform().copy();return s.invert(),s.translate(e.x,e.y),e={x:this.attrs.x+s.getTranslation().x,y:this.attrs.y+s.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache(Rn),this._clearSelfAndDescendantCache(hn),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,r=e.y,i=this.x(),s=this.y();return n!==void 0&&(i+=n),r!==void 0&&(s+=r),this.setPosition({x:i,y:s}),this}_eachAncestorReverse(e,n){let r=[],i=this.getParent(),s,a;if(!(n&&n._id===this._id)){for(r.unshift(this);i&&(!n||i._id!==n._id);)r.unshift(i),i=i.parent;for(s=r.length,a=0;a<s;a++)e(r[a])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return xe.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return xe.Util.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return xe.Util.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return xe.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return xe.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&xe.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(Ga,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,r,i,s,a;const o={attrs:{},className:this.getClassName()};for(n in e)r=e[n],a=xe.Util.isObject(r)&&!xe.Util._isPlainObject(r)&&!xe.Util._isArray(r),!a&&(i=typeof this[n]=="function"&&this[n],delete e[n],s=i?i.call(this):null,e[n]=r,s!==r&&(o.attrs[n]=r));return xe.Util._prepareToStringify(o)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,r){const i=[];n&&this._isMatch(e)&&i.push(this);let s=this.parent;for(;s;){if(s===r)return i;s._isMatch(e)&&i.push(s),s=s.parent}return i}isAncestorOf(e){return!1}findAncestor(e,n,r){return this.findAncestors(e,n,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),r=n.length,i,s;for(i=0;i<r;i++)if(s=n[i],xe.Util.isValidSelector(s)||(xe.Util.warn('Selector "'+s+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),xe.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),xe.Util.warn("Konva is awesome, right?")),s.charAt(0)==="#"){if(this.id()===s.slice(1))return!0}else if(s.charAt(0)==="."){if(this.hasName(s.slice(1)))return!0}else if(this.className===s||this.nodeType===s)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(c0,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,n={},r){return n.target=n.target||this,r?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(hn,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new xe.Transform,this._eachAncestorReverse(function(r){const i=r.transformsEnabled();i==="all"?n.multiply(r.getTransform()):i==="position"&&n.translate(r.x()-r.offsetX(),r.y()-r.offsetY())},e),n;{n=this._cache.get(hn)||new xe.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const r=this.transformsEnabled();if(r==="all")n.multiply(this.getTransform());else if(r==="position"){const i=this.attrs.x||0,s=this.attrs.y||0,a=this.attrs.offsetX||0,o=this.attrs.offsetY||0;n.translate(i-a,s-o)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();const i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Rn,this._getTransform)}_getTransform(){var e,n;const r=this._cache.get(Rn)||new xe.Transform;r.reset();const i=this.x(),s=this.y(),a=Tn.Konva.getAngle(this.rotation()),o=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,l=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,c=this.attrs.skewX||0,u=this.attrs.skewY||0,y=this.attrs.offsetX||0,v=this.attrs.offsetY||0;return(i!==0||s!==0)&&r.translate(i,s),a!==0&&r.rotate(a),(c!==0||u!==0)&&r.skew(c,u),(o!==1||l!==1)&&r.scale(o,l),(y!==0||v!==0)&&r.translate(-1*y,-1*v),r.dirty=!1,r}clone(e){let n=xe.Util.cloneObject(this.attrs),r,i,s,a,o;for(r in e)n[r]=e[r];const l=new this.constructor(n);for(r in this.eventListeners)for(i=this.eventListeners[r],s=i.length,a=0;a<s;a++)o=i[a],o.name.indexOf(Fx)<0&&(l.eventListeners[r]||(l.eventListeners[r]=[]),l.eventListeners[r].push(o));return l}_toKonvaCanvas(e){e=e||{};const n=this.getClientRect(),r=this.getStage(),i=e.x!==void 0?e.x:Math.floor(n.x),s=e.y!==void 0?e.y:Math.floor(n.y),a=e.pixelRatio||1,o=new zr.SceneCanvas({width:e.width||Math.ceil(n.width)||(r?r.width():0),height:e.height||Math.ceil(n.height)||(r?r.height():0),pixelRatio:a}),l=o.getContext(),c=new zr.SceneCanvas({width:o.width/o.pixelRatio+Math.abs(i),height:o.height/o.pixelRatio+Math.abs(s),pixelRatio:o.pixelRatio});return e.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(i||s)&&l.translate(-1*i,-1*s),this.drawScene(o,void 0,c),l.restore(),o}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const n=e.mimeType||null,r=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(n,r);return e.callback&&e.callback(i),i}toImage(e){return new Promise((n,r)=>{try{const i=e==null?void 0:e.callback;i&&delete e.callback,xe.Util._urlToImage(this.toDataURL(e),function(s){n(s),i==null||i(s)})}catch(i){r(i)}})}toBlob(e){return new Promise((n,r)=>{try{const i=e==null?void 0:e.callback;i&&delete e.callback,this.toCanvas(e).toBlob(s=>{n(s),i==null||i(s)},e==null?void 0:e.mimeType,e==null?void 0:e.quality)}catch(i){r(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Tn.Konva.dragDistance}_off(e,n,r){let i=this.eventListeners[e],s,a,o;for(s=0;s<i.length;s++)if(a=i[s].name,o=i[s].handler,(a!=="konva"||n==="konva")&&(!n||a===n)&&(!r||r===o)){if(i.splice(s,1),i.length===0){delete this.eventListeners[e];break}s--}}_fireChangeEvent(e,n,r){this._fire(e+Ax,{oldVal:n,newVal:r})}addName(e){if(!this.hasName(e)){const n=this.name(),r=n?n+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const n=(this.name()||"").split(/\s/g),r=n.indexOf(e);return r!==-1&&(n.splice(r,1),this.name(n.join(" "))),this}setAttr(e,n){const r=this[o0+xe.Util._capitalize(e)];return xe.Util._isFunction(r)?r.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(Tn.Konva.autoDrawEnabled){const e=this.getLayer()||this.getStage();e==null||e.batchDraw()}}_setAttr(e,n){const r=this.attrs[e];r===n&&!xe.Util.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,n),this._requestDraw())}_setComponentAttr(e,n,r){let i;r!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=r,this._fireChangeEvent(e,i,r))}_fireAndBubble(e,n,r){n&&this.nodeType===l0&&(n.target=this);const i=[Lx,Ix,Mx,Dx,zx,Ux];if(!(i.indexOf(e)!==-1&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r))){this._fire(e,n);const a=i.indexOf(e)!==-1&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!a&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,n,r):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,r,i;const s=(n=this._cache.get(ba))!==null&&n!==void 0?n:{};let a=s==null?void 0:s[e];if(a===void 0){a=[];let o=Object.getPrototypeOf(this);for(;o;){const l=(i=(r=o.eventListeners)===null||r===void 0?void 0:r[e])!==null&&i!==void 0?i:[];a.push(...l),o=Object.getPrototypeOf(o)}s[e]=a,this._cache.set(ba,s)}return a}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const r=this._getProtoListeners(e);if(r)for(let s=0;s<r.length;s++)r[s].handler.call(this,n);const i=this.eventListeners[e];if(i)for(let s=0;s<i.length;s++)i[s].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const n=e?e.pointerId:void 0,r=this.getStage(),i=this.getAbsolutePosition();if(!r)return;const s=r._getPointerById(n)||r._changedPointerPositions[0]||i;Pt.DD._dragElements.set(this._id,{node:this,startPointerPos:s,offset:{x:s.x-i.x,y:s.y-i.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){Pt.DD._dragElements.has(this._id)||this._createDragElement(e);const r=Pt.DD._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const r=this.getStage()._getPointerById(n.pointerId);if(!r)return;let i={x:r.x-n.offset.x,y:r.y-n.offset.y};const s=this.dragBoundFunc();if(s!==void 0){const a=s.call(this,i,e);a?i=a:xe.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}stopDrag(e){const n=Pt.DD._dragElements.get(this._id);n&&(n.dragStatus="stopped"),Pt.DD._endDragBefore(e),Pt.DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=Pt.DD._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||Tn.Konva.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let i=!1;Pt.DD._dragElements.forEach(s=>{this.isAncestorOf(s.node)&&(i=!0)}),i||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=Pt.DD._dragElements.get(this._id),r=n&&n.dragStatus==="dragging",i=n&&n.dragStatus==="ready";r?this.stopDrag():i&&Pt.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const r={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return xe.Util.haveIntersection(r,this.getClientRect())}static create(e,n){return xe.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let r=pe.prototype.getClassName.call(e),i=e.children,s,a,o;n&&(e.attrs.container=n),Tn.Konva[r]||(xe.Util.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const l=Tn.Konva[r];if(s=new l(e.attrs),i)for(a=i.length,o=0;o<a;o++)s.add(pe._createNode(i[o]));return s}}Fe.Node=pe;pe.prototype.nodeType="Node";pe.prototype._attrsAffectingSize=[];pe.prototype.eventListeners={};pe.prototype.on.call(pe.prototype,Gx,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(Rn),this._clearSelfAndDescendantCache(hn)});pe.prototype.on.call(pe.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(Ru)});pe.prototype.on.call(pe.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Tu)});pe.prototype.on.call(pe.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(Ga)});const Ee=Ys.Factory.addGetterSetter;Ee(pe,"zIndex");Ee(pe,"absolutePosition");Ee(pe,"position");Ee(pe,"x",0,(0,We.getNumberValidator)());Ee(pe,"y",0,(0,We.getNumberValidator)());Ee(pe,"globalCompositeOperation","source-over",(0,We.getStringValidator)());Ee(pe,"opacity",1,(0,We.getNumberValidator)());Ee(pe,"name","",(0,We.getStringValidator)());Ee(pe,"id","",(0,We.getStringValidator)());Ee(pe,"rotation",0,(0,We.getNumberValidator)());Ys.Factory.addComponentsGetterSetter(pe,"scale",["x","y"]);Ee(pe,"scaleX",1,(0,We.getNumberValidator)());Ee(pe,"scaleY",1,(0,We.getNumberValidator)());Ys.Factory.addComponentsGetterSetter(pe,"skew",["x","y"]);Ee(pe,"skewX",0,(0,We.getNumberValidator)());Ee(pe,"skewY",0,(0,We.getNumberValidator)());Ys.Factory.addComponentsGetterSetter(pe,"offset",["x","y"]);Ee(pe,"offsetX",0,(0,We.getNumberValidator)());Ee(pe,"offsetY",0,(0,We.getNumberValidator)());Ee(pe,"dragDistance",void 0,(0,We.getNumberValidator)());Ee(pe,"width",0,(0,We.getNumberValidator)());Ee(pe,"height",0,(0,We.getNumberValidator)());Ee(pe,"listening",!0,(0,We.getBooleanValidator)());Ee(pe,"preventDefault",!0,(0,We.getBooleanValidator)());Ee(pe,"filters",void 0,function(t){return this._filterUpToDate=!1,t});Ee(pe,"visible",!0,(0,We.getBooleanValidator)());Ee(pe,"transformsEnabled","all",(0,We.getStringValidator)());Ee(pe,"size");Ee(pe,"dragBoundFunc");Ee(pe,"draggable",!1,(0,We.getBooleanValidator)());Ys.Factory.backCompat(pe,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var Tr={};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.Container=void 0;const Pi=ye,mc=Fe,Xo=fe;class Rr extends mc.Node{constructor(){super(...arguments),this.children=[]}getChildren(e){const n=this.children||[];return e?n.filter(e):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let r=0;r<e.length;r++)this.add(e[r]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){const r=[];return this._descendants(i=>{const s=i._isMatch(e);return s&&r.push(i),!!(s&&n)}),r}_descendants(e){let n=!1;const r=this.getChildren();for(const i of r){if(n=e(i),n)return!0;if(i.hasChildren()&&(n=i._descendants(e),n))return!0}return!1}toObject(){const e=mc.Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){const n=mc.Node.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){n.add(r.clone())}),n}getAllIntersections(e){const n=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(e)&&n.push(r)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,r){n.index=r}),this._requestDraw()}drawScene(e,n,r){const i=this.getLayer(),s=e||i&&i.getCanvas(),a=s&&s.getContext(),o=this._getCanvasCache(),l=o&&o.scene,c=s&&s.isCache;if(!this.isVisible()&&!c)return this;if(l){a.save();const u=this.getAbsoluteTransform(n).getMatrix();a.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this._drawCachedSceneCanvas(a),a.restore()}else this._drawChildren("drawScene",s,n,r);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;const r=this.getLayer(),i=e||r&&r.hitCanvas,s=i&&i.getContext(),a=this._getCanvasCache();if(a&&a.hit){s.save();const l=this.getAbsoluteTransform(n).getMatrix();s.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(s),s.restore()}else this._drawChildren("drawHit",i,n);return this}_drawChildren(e,n,r,i){var s;const a=n&&n.getContext(),o=this.clipWidth(),l=this.clipHeight(),c=this.clipFunc(),u=typeof o=="number"&&typeof l=="number"||c,y=r===this;if(u){a.save();const p=this.getAbsoluteTransform(r);let h=p.getMatrix();a.transform(h[0],h[1],h[2],h[3],h[4],h[5]),a.beginPath();let m;if(c)m=c.call(this,a,this);else{const _=this.clipX(),g=this.clipY();a.rect(_||0,g||0,o,l)}a.clip.apply(a,m),h=p.copy().invert().getMatrix(),a.transform(h[0],h[1],h[2],h[3],h[4],h[5])}const v=!y&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";v&&(a.save(),a._applyGlobalCompositeOperation(this)),(s=this.children)===null||s===void 0||s.forEach(function(p){p[e](n,r,i)}),v&&a.restore(),u&&a.restore()}getClientRect(e={}){var n;const r=e.skipTransform,i=e.relativeTo;let s,a,o,l,c={x:1/0,y:1/0,width:0,height:0};const u=this;(n=this.children)===null||n===void 0||n.forEach(function(p){if(!p.visible())return;const h=p.getClientRect({relativeTo:u,skipShadow:e.skipShadow,skipStroke:e.skipStroke});h.width===0&&h.height===0||(s===void 0?(s=h.x,a=h.y,o=h.x+h.width,l=h.y+h.height):(s=Math.min(s,h.x),a=Math.min(a,h.y),o=Math.max(o,h.x+h.width),l=Math.max(l,h.y+h.height)))});const y=this.find("Shape");let v=!1;for(let p=0;p<y.length;p++)if(y[p]._isVisible(this)){v=!0;break}return v&&s!==void 0?c={x:s,y:a,width:o-s,height:l-a}:c={x:0,y:0,width:0,height:0},r?c:this._transformedRect(c,i)}}Tr.Container=Rr;Pi.Factory.addComponentsGetterSetter(Rr,"clip",["x","y","width","height"]);Pi.Factory.addGetterSetter(Rr,"clipX",void 0,(0,Xo.getNumberValidator)());Pi.Factory.addGetterSetter(Rr,"clipY",void 0,(0,Xo.getNumberValidator)());Pi.Factory.addGetterSetter(Rr,"clipWidth",void 0,(0,Xo.getNumberValidator)());Pi.Factory.addGetterSetter(Rr,"clipHeight",void 0,(0,Xo.getNumberValidator)());Pi.Factory.addGetterSetter(Rr,"clipFunc");var Xm={},tr={};Object.defineProperty(tr,"__esModule",{value:!0});tr.getCapturedShape=Vx;tr.createEvent=Xd;tr.hasPointerCapture=Wx;tr.setPointerCapture=Kx;tr.releaseCapture=Zm;const $x=ge,Ls=new Map,qm=$x.Konva._global.PointerEvent!==void 0;function Vx(t){return Ls.get(t)}function Xd(t){return{evt:t,pointerId:t.pointerId}}function Wx(t,e){return Ls.get(t)===e}function Kx(t,e){Zm(t),e.getStage()&&(Ls.set(t,e),qm&&e._fire("gotpointercapture",Xd(new PointerEvent("gotpointercapture"))))}function Zm(t,e){const n=Ls.get(t);if(!n)return;const r=n.getStage();r&&r.content,Ls.delete(t),qm&&n._fire("lostpointercapture",Xd(new PointerEvent("lostpointercapture")))}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const e=De,n=ye,r=Tr,i=ge,s=Wt,a=Yo,o=ge,l=tr,c="Stage",u="string",y="px",v="mouseout",p="mouseleave",h="mouseover",m="mouseenter",_="mousemove",g="mousedown",x="mouseup",d="pointermove",w="pointerdown",b="pointerup",E="pointercancel",j="lostpointercapture",N="pointerout",R="pointerleave",P="pointerover",D="pointerenter",C="contextmenu",O="touchstart",S="touchend",I="touchmove",Z="touchcancel",$="wheel",U=5,G=[[m,"_pointerenter"],[g,"_pointerdown"],[_,"_pointermove"],[x,"_pointerup"],[p,"_pointerleave"],[O,"_pointerdown"],[I,"_pointermove"],[S,"_pointerup"],[Z,"_pointercancel"],[h,"_pointerover"],[$,"_wheel"],[C,"_contextmenu"],[w,"_pointerdown"],[d,"_pointermove"],[b,"_pointerup"],[E,"_pointercancel"],[R,"_pointerleave"],[j,"_lostpointercapture"]],z={mouse:{[N]:v,[R]:p,[P]:h,[D]:m,[d]:_,[w]:g,[b]:x,[E]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[N]:"touchout",[R]:"touchleave",[P]:"touchover",[D]:"touchenter",[d]:I,[w]:O,[b]:S,[E]:Z,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[N]:N,[R]:R,[P]:P,[D]:D,[d]:d,[w]:w,[b]:b,[E]:E,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},F=ae=>ae.indexOf("pointer")>=0?"pointer":ae.indexOf("touch")>=0?"touch":"mouse",L=ae=>{const M=F(ae);if(M==="pointer")return i.Konva.pointerEventsEnabled&&z.pointer;if(M==="touch")return z.touch;if(M==="mouse")return z.mouse};function te(ae={}){return(ae.clipFunc||ae.clipWidth||ae.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),ae}const J="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";t.stages=[];class Q extends r.Container{constructor(M){super(te(M)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{te(this.attrs)}),this._checkVisibility()}_validateAdd(M){const Y=M.getType()==="Layer",ie=M.getType()==="FastLayer";Y||ie||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const M=this.visible()?"":"none";this.content.style.display=M}setContainer(M){if(typeof M===u){let Y;if(M.charAt(0)==="."){const ie=M.slice(1);M=document.getElementsByClassName(ie)[0]}else M.charAt(0)!=="#"?Y=M:Y=M.slice(1),M=document.getElementById(Y);if(!M)throw"Can not find container in document with id "+Y}return this._setAttr("container",M),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),M.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const M=this.children,Y=M.length;for(let ie=0;ie<Y;ie++)M[ie].clear();return this}clone(M){return M||(M={}),M.container=typeof document<"u"&&document.createElement("div"),r.Container.prototype.clone.call(this,M)}destroy(){super.destroy();const M=this.content;M&&e.Util._isInDocument(M)&&this.container().removeChild(M);const Y=t.stages.indexOf(this);return Y>-1&&t.stages.splice(Y,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const M=this._pointerPositions[0]||this._changedPointerPositions[0];return M?{x:M.x,y:M.y}:(e.Util.warn(J),null)}_getPointerById(M){return this._pointerPositions.find(Y=>Y.id===M)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(M){M=M||{},M.x=M.x||0,M.y=M.y||0,M.width=M.width||this.width(),M.height=M.height||this.height();const Y=new s.SceneCanvas({width:M.width,height:M.height,pixelRatio:M.pixelRatio||1}),ie=Y.getContext()._context,ue=this.children;return(M.x||M.y)&&ie.translate(-1*M.x,-1*M.y),ue.forEach(function(ce){if(!ce.isVisible())return;const Se=ce._toKonvaCanvas(M);ie.drawImage(Se._canvas,M.x,M.y,Se.getWidth()/Se.getPixelRatio(),Se.getHeight()/Se.getPixelRatio())}),Y}getIntersection(M){if(!M)return null;const Y=this.children,ie=Y.length,ue=ie-1;for(let ce=ue;ce>=0;ce--){const Se=Y[ce].getIntersection(M);if(Se)return Se}return null}_resizeDOM(){const M=this.width(),Y=this.height();this.content&&(this.content.style.width=M+y,this.content.style.height=Y+y),this.bufferCanvas.setSize(M,Y),this.bufferHitCanvas.setSize(M,Y),this.children.forEach(ie=>{ie.setSize({width:M,height:Y}),ie.draw()})}add(M,...Y){if(arguments.length>1){for(let ue=0;ue<arguments.length;ue++)this.add(arguments[ue]);return this}super.add(M);const ie=this.children.length;return ie>U&&e.Util.warn("The stage has "+ie+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),M.setSize({width:this.width(),height:this.height()}),M.draw(),i.Konva.isBrowser&&this.content.appendChild(M.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(M){return l.hasPointerCapture(M,this)}setPointerCapture(M){l.setPointerCapture(M,this)}releaseCapture(M){l.releaseCapture(M,this)}getLayers(){return this.children}_bindContentEvents(){i.Konva.isBrowser&&G.forEach(([M,Y])=>{this.content.addEventListener(M,ie=>{this[Y](ie)},{passive:!1})})}_pointerenter(M){this.setPointersPositions(M);const Y=L(M.type);Y&&this._fire(Y.pointerenter,{evt:M,target:this,currentTarget:this})}_pointerover(M){this.setPointersPositions(M);const Y=L(M.type);Y&&this._fire(Y.pointerover,{evt:M,target:this,currentTarget:this})}_getTargetShape(M){let Y=this[M+"targetShape"];return Y&&!Y.getStage()&&(Y=null),Y}_pointerleave(M){const Y=L(M.type),ie=F(M.type);if(!Y)return;this.setPointersPositions(M);const ue=this._getTargetShape(ie),ce=!(i.Konva.isDragging()||i.Konva.isTransforming())||i.Konva.hitOnDragEnabled;ue&&ce?(ue._fireAndBubble(Y.pointerout,{evt:M}),ue._fireAndBubble(Y.pointerleave,{evt:M}),this._fire(Y.pointerleave,{evt:M,target:this,currentTarget:this}),this[ie+"targetShape"]=null):ce&&(this._fire(Y.pointerleave,{evt:M,target:this,currentTarget:this}),this._fire(Y.pointerout,{evt:M,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(M){const Y=L(M.type),ie=F(M.type);if(!Y)return;this.setPointersPositions(M);let ue=!1;this._changedPointerPositions.forEach(ce=>{const Se=this.getIntersection(ce);if(a.DD.justDragged=!1,i.Konva["_"+ie+"ListenClick"]=!0,!Se||!Se.isListening()){this[ie+"ClickStartShape"]=void 0;return}i.Konva.capturePointerEventsEnabled&&Se.setPointerCapture(ce.id),this[ie+"ClickStartShape"]=Se,Se._fireAndBubble(Y.pointerdown,{evt:M,pointerId:ce.id}),ue=!0;const Ae=M.type.indexOf("touch")>=0;Se.preventDefault()&&M.cancelable&&Ae&&M.preventDefault()}),ue||this._fire(Y.pointerdown,{evt:M,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(M){const Y=L(M.type),ie=F(M.type);if(!Y||(i.Konva.isDragging()&&a.DD.node.preventDefault()&&M.cancelable&&M.preventDefault(),this.setPointersPositions(M),!(!(i.Konva.isDragging()||i.Konva.isTransforming())||i.Konva.hitOnDragEnabled)))return;const ce={};let Se=!1;const Ae=this._getTargetShape(ie);this._changedPointerPositions.forEach(k=>{const W=l.getCapturedShape(k.id)||this.getIntersection(k),K=k.id,A={evt:M,pointerId:K},T=Ae!==W;if(T&&Ae&&(Ae._fireAndBubble(Y.pointerout,{...A},W),Ae._fireAndBubble(Y.pointerleave,{...A},W)),W){if(ce[W._id])return;ce[W._id]=!0}W&&W.isListening()?(Se=!0,T&&(W._fireAndBubble(Y.pointerover,{...A},Ae),W._fireAndBubble(Y.pointerenter,{...A},Ae),this[ie+"targetShape"]=W),W._fireAndBubble(Y.pointermove,{...A})):Ae&&(this._fire(Y.pointerover,{evt:M,target:this,currentTarget:this,pointerId:K}),this[ie+"targetShape"]=null)}),Se||this._fire(Y.pointermove,{evt:M,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(M){const Y=L(M.type),ie=F(M.type);if(!Y)return;this.setPointersPositions(M);const ue=this[ie+"ClickStartShape"],ce=this[ie+"ClickEndShape"],Se={};let Ae=!1;this._changedPointerPositions.forEach(k=>{const W=l.getCapturedShape(k.id)||this.getIntersection(k);if(W){if(W.releaseCapture(k.id),Se[W._id])return;Se[W._id]=!0}const K=k.id,A={evt:M,pointerId:K};let T=!1;i.Konva["_"+ie+"InDblClickWindow"]?(T=!0,clearTimeout(this[ie+"DblTimeout"])):a.DD.justDragged||(i.Konva["_"+ie+"InDblClickWindow"]=!0,clearTimeout(this[ie+"DblTimeout"])),this[ie+"DblTimeout"]=setTimeout(function(){i.Konva["_"+ie+"InDblClickWindow"]=!1},i.Konva.dblClickWindow),W&&W.isListening()?(Ae=!0,this[ie+"ClickEndShape"]=W,W._fireAndBubble(Y.pointerup,{...A}),i.Konva["_"+ie+"ListenClick"]&&ue&&ue===W&&(W._fireAndBubble(Y.pointerclick,{...A}),T&&ce&&ce===W&&W._fireAndBubble(Y.pointerdblclick,{...A}))):(this[ie+"ClickEndShape"]=null,i.Konva["_"+ie+"ListenClick"]&&this._fire(Y.pointerclick,{evt:M,target:this,currentTarget:this,pointerId:K}),T&&this._fire(Y.pointerdblclick,{evt:M,target:this,currentTarget:this,pointerId:K}))}),Ae||this._fire(Y.pointerup,{evt:M,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),i.Konva["_"+ie+"ListenClick"]=!1,M.cancelable&&ie!=="touch"&&ie!=="pointer"&&M.preventDefault()}_contextmenu(M){this.setPointersPositions(M);const Y=this.getIntersection(this.getPointerPosition());Y&&Y.isListening()?Y._fireAndBubble(C,{evt:M}):this._fire(C,{evt:M,target:this,currentTarget:this})}_wheel(M){this.setPointersPositions(M);const Y=this.getIntersection(this.getPointerPosition());Y&&Y.isListening()?Y._fireAndBubble($,{evt:M}):this._fire($,{evt:M,target:this,currentTarget:this})}_pointercancel(M){this.setPointersPositions(M);const Y=l.getCapturedShape(M.pointerId)||this.getIntersection(this.getPointerPosition());Y&&Y._fireAndBubble(b,l.createEvent(M)),l.releaseCapture(M.pointerId)}_lostpointercapture(M){l.releaseCapture(M.pointerId)}setPointersPositions(M){const Y=this._getContentPosition();let ie=null,ue=null;M=M||window.event,M.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(M.touches,ce=>{this._pointerPositions.push({id:ce.identifier,x:(ce.clientX-Y.left)/Y.scaleX,y:(ce.clientY-Y.top)/Y.scaleY})}),Array.prototype.forEach.call(M.changedTouches||M.touches,ce=>{this._changedPointerPositions.push({id:ce.identifier,x:(ce.clientX-Y.left)/Y.scaleX,y:(ce.clientY-Y.top)/Y.scaleY})})):(ie=(M.clientX-Y.left)/Y.scaleX,ue=(M.clientY-Y.top)/Y.scaleY,this.pointerPos={x:ie,y:ue},this._pointerPositions=[{x:ie,y:ue,id:e.Util._getFirstPointerId(M)}],this._changedPointerPositions=[{x:ie,y:ue,id:e.Util._getFirstPointerId(M)}])}_setPointerPosition(M){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(M)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const M=this.content.getBoundingClientRect();return{top:M.top,left:M.left,scaleX:M.width/this.content.clientWidth||1,scaleY:M.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new s.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new s.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!i.Konva.isBrowser)return;const M=this.container();if(!M)throw"Stage has no container. A container is required.";M.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),M.appendChild(this.content),this._resizeDOM()}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(M){M.batchDraw()}),this}}t.Stage=Q,Q.prototype.nodeType=c,(0,o._registerNode)(Q),n.Factory.addGetterSetter(Q,"container"),i.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{t.stages.forEach(ae=>{ae.batchDraw()})})})(Xm);var Xs={},Ze={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const e=ge,n=De,r=ye,i=Fe,s=fe,a=ge,o=tr,l="hasShadow",c="shadowRGBA",u="patternImage",y="linearGradient",v="radialGradient";let p;function h(){return p||(p=n.Util.createCanvasElement().getContext("2d"),p)}t.shapes={};function m(R){const P=this.attrs.fillRule;P?R.fill(P):R.fill()}function _(R){R.stroke()}function g(R){const P=this.attrs.fillRule;P?R.fill(P):R.fill()}function x(R){R.stroke()}function d(){this._clearCache(l)}function w(){this._clearCache(c)}function b(){this._clearCache(u)}function E(){this._clearCache(y)}function j(){this._clearCache(v)}class N extends i.Node{constructor(P){super(P);let D;for(;D=n.Util.getRandomColor(),!(D&&!(D in t.shapes)););this.colorKey=D,t.shapes[D]=this}getContext(){return n.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return n.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(l,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(u,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const D=h().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(D&&D.setTransform){const C=new n.Transform;C.translate(this.fillPatternX(),this.fillPatternY()),C.rotate(e.Konva.getAngle(this.fillPatternRotation())),C.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),C.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const O=C.getMatrix(),S=typeof DOMMatrix>"u"?{a:O[0],b:O[1],c:O[2],d:O[3],e:O[4],f:O[5]}:new DOMMatrix(O);D.setTransform(S)}return D}}_getLinearGradient(){return this._getCache(y,this.__getLinearGradient)}__getLinearGradient(){const P=this.fillLinearGradientColorStops();if(P){const D=h(),C=this.fillLinearGradientStartPoint(),O=this.fillLinearGradientEndPoint(),S=D.createLinearGradient(C.x,C.y,O.x,O.y);for(let I=0;I<P.length;I+=2)S.addColorStop(P[I],P[I+1]);return S}}_getRadialGradient(){return this._getCache(v,this.__getRadialGradient)}__getRadialGradient(){const P=this.fillRadialGradientColorStops();if(P){const D=h(),C=this.fillRadialGradientStartPoint(),O=this.fillRadialGradientEndPoint(),S=D.createRadialGradient(C.x,C.y,this.fillRadialGradientStartRadius(),O.x,O.y,this.fillRadialGradientEndRadius());for(let I=0;I<P.length;I+=2)S.addColorStop(P[I],P[I+1]);return S}}getShadowRGBA(){return this._getCache(c,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const P=n.Util.colorToRGBA(this.shadowColor());if(P)return"rgba("+P.r+","+P.g+","+P.b+","+P.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const P=this.hitStrokeWidth();return P==="auto"?this.hasStroke():this.strokeEnabled()&&!!P}intersects(P){const D=this.getStage();if(!D)return!1;const C=D.bufferHitCanvas;return C.getContext().clear(),this.drawHit(C,void 0,!0),C.context.getImageData(Math.round(P.x),Math.round(P.y),1,1).data[3]>0}destroy(){return i.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(P){var D;if(!((D=this.attrs.perfectDrawEnabled)!==null&&D!==void 0?D:!0))return!1;const O=P||this.hasFill(),S=this.hasStroke(),I=this.getAbsoluteOpacity()!==1;if(O&&S&&I)return!0;const Z=this.hasShadow(),$=this.shadowForStrokeEnabled();return!!(O&&S&&Z&&$)}setStrokeHitEnabled(P){n.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),P?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const P=this.size();return{x:this._centroid?-P.width/2:0,y:this._centroid?-P.height/2:0,width:P.width,height:P.height}}getClientRect(P={}){let D=!1,C=this.getParent();for(;C;){if(C.isCached()){D=!0;break}C=C.getParent()}const O=P.skipTransform,S=P.relativeTo||D&&this.getStage()||void 0,I=this.getSelfRect(),$=!P.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,U=I.width+$,G=I.height+$,z=!P.skipShadow&&this.hasShadow(),F=z?this.shadowOffsetX():0,L=z?this.shadowOffsetY():0,te=U+Math.abs(F),J=G+Math.abs(L),Q=z&&this.shadowBlur()||0,ae=te+Q*2,M=J+Q*2,Y={width:ae,height:M,x:-($/2+Q)+Math.min(F,0)+I.x,y:-($/2+Q)+Math.min(L,0)+I.y};return O?Y:this._transformedRect(Y,S)}drawScene(P,D,C){const O=this.getLayer(),S=P||O.getCanvas(),I=S.getContext(),Z=this._getCanvasCache(),$=this.getSceneFunc(),U=this.hasShadow();let G;const z=D===this;if(!this.isVisible()&&!z)return this;if(Z){I.save();const F=this.getAbsoluteTransform(D).getMatrix();return I.transform(F[0],F[1],F[2],F[3],F[4],F[5]),this._drawCachedSceneCanvas(I),I.restore(),this}if(!$)return this;if(I.save(),this._useBufferCanvas()){G=this.getStage();const F=C||G.bufferCanvas,L=F.getContext();L.clear(),L.save(),L._applyLineJoin(this);const te=this.getAbsoluteTransform(D).getMatrix();L.transform(te[0],te[1],te[2],te[3],te[4],te[5]),$.call(this,L,this),L.restore();const J=F.pixelRatio;U&&I._applyShadow(this),I._applyOpacity(this),I._applyGlobalCompositeOperation(this),I.drawImage(F._canvas,F.x||0,F.y||0,F.width/J,F.height/J)}else{if(I._applyLineJoin(this),!z){const F=this.getAbsoluteTransform(D).getMatrix();I.transform(F[0],F[1],F[2],F[3],F[4],F[5]),I._applyOpacity(this),I._applyGlobalCompositeOperation(this)}U&&I._applyShadow(this),$.call(this,I,this)}return I.restore(),this}drawHit(P,D,C=!1){if(!this.shouldDrawHit(D,C))return this;const O=this.getLayer(),S=P||O.hitCanvas,I=S&&S.getContext(),Z=this.hitFunc()||this.sceneFunc(),$=this._getCanvasCache(),U=$&&$.hit;if(this.colorKey||n.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),U){I.save();const z=this.getAbsoluteTransform(D).getMatrix();return I.transform(z[0],z[1],z[2],z[3],z[4],z[5]),this._drawCachedHitCanvas(I),I.restore(),this}if(!Z)return this;if(I.save(),I._applyLineJoin(this),!(this===D)){const z=this.getAbsoluteTransform(D).getMatrix();I.transform(z[0],z[1],z[2],z[3],z[4],z[5])}return Z.call(this,I,this),I.restore(),this}drawHitFromCache(P=0){const D=this._getCanvasCache(),C=this._getCachedSceneCanvas(),O=D.hit,S=O.getContext(),I=O.getWidth(),Z=O.getHeight();S.clear(),S.drawImage(C._canvas,0,0,I,Z);try{const $=S.getImageData(0,0,I,Z),U=$.data,G=U.length,z=n.Util._hexToRgb(this.colorKey);for(let F=0;F<G;F+=4)U[F+3]>P?(U[F]=z.r,U[F+1]=z.g,U[F+2]=z.b,U[F+3]=255):U[F+3]=0;S.putImageData($,0,0)}catch($){n.Util.error("Unable to draw hit graph from cached scene canvas. "+$.message)}return this}hasPointerCapture(P){return o.hasPointerCapture(P,this)}setPointerCapture(P){o.setPointerCapture(P,this)}releaseCapture(P){o.releaseCapture(P,this)}}t.Shape=N,N.prototype._fillFunc=m,N.prototype._strokeFunc=_,N.prototype._fillFuncHit=g,N.prototype._strokeFuncHit=x,N.prototype._centroid=!1,N.prototype.nodeType="Shape",(0,a._registerNode)(N),N.prototype.eventListeners={},N.prototype.on.call(N.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",d),N.prototype.on.call(N.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",w),N.prototype.on.call(N.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",b),N.prototype.on.call(N.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",E),N.prototype.on.call(N.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",j),r.Factory.addGetterSetter(N,"stroke",void 0,(0,s.getStringOrGradientValidator)()),r.Factory.addGetterSetter(N,"strokeWidth",2,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(N,"fillAfterStrokeEnabled",!1),r.Factory.addGetterSetter(N,"hitStrokeWidth","auto",(0,s.getNumberOrAutoValidator)()),r.Factory.addGetterSetter(N,"strokeHitEnabled",!0,(0,s.getBooleanValidator)()),r.Factory.addGetterSetter(N,"perfectDrawEnabled",!0,(0,s.getBooleanValidator)()),r.Factory.addGetterSetter(N,"shadowForStrokeEnabled",!0,(0,s.getBooleanValidator)()),r.Factory.addGetterSetter(N,"lineJoin"),r.Factory.addGetterSetter(N,"lineCap"),r.Factory.addGetterSetter(N,"sceneFunc"),r.Factory.addGetterSetter(N,"hitFunc"),r.Factory.addGetterSetter(N,"dash"),r.Factory.addGetterSetter(N,"dashOffset",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(N,"shadowColor",void 0,(0,s.getStringValidator)()),r.Factory.addGetterSetter(N,"shadowBlur",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(N,"shadowOpacity",1,(0,s.getNumberValidator)()),r.Factory.addComponentsGetterSetter(N,"shadowOffset",["x","y"]),r.Factory.addGetterSetter(N,"shadowOffsetX",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(N,"shadowOffsetY",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(N,"fillPatternImage"),r.Factory.addGetterSetter(N,"fill",void 0,(0,s.getStringOrGradientValidator)()),r.Factory.addGetterSetter(N,"fillPatternX",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(N,"fillPatternY",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(N,"fillLinearGradientColorStops"),r.Factory.addGetterSetter(N,"strokeLinearGradientColorStops"),r.Factory.addGetterSetter(N,"fillRadialGradientStartRadius",0),r.Factory.addGetterSetter(N,"fillRadialGradientEndRadius",0),r.Factory.addGetterSetter(N,"fillRadialGradientColorStops"),r.Factory.addGetterSetter(N,"fillPatternRepeat","repeat"),r.Factory.addGetterSetter(N,"fillEnabled",!0),r.Factory.addGetterSetter(N,"strokeEnabled",!0),r.Factory.addGetterSetter(N,"shadowEnabled",!0),r.Factory.addGetterSetter(N,"dashEnabled",!0),r.Factory.addGetterSetter(N,"strokeScaleEnabled",!0),r.Factory.addGetterSetter(N,"fillPriority","color"),r.Factory.addComponentsGetterSetter(N,"fillPatternOffset",["x","y"]),r.Factory.addGetterSetter(N,"fillPatternOffsetX",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(N,"fillPatternOffsetY",0,(0,s.getNumberValidator)()),r.Factory.addComponentsGetterSetter(N,"fillPatternScale",["x","y"]),r.Factory.addGetterSetter(N,"fillPatternScaleX",1,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(N,"fillPatternScaleY",1,(0,s.getNumberValidator)()),r.Factory.addComponentsGetterSetter(N,"fillLinearGradientStartPoint",["x","y"]),r.Factory.addComponentsGetterSetter(N,"strokeLinearGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(N,"fillLinearGradientStartPointX",0),r.Factory.addGetterSetter(N,"strokeLinearGradientStartPointX",0),r.Factory.addGetterSetter(N,"fillLinearGradientStartPointY",0),r.Factory.addGetterSetter(N,"strokeLinearGradientStartPointY",0),r.Factory.addComponentsGetterSetter(N,"fillLinearGradientEndPoint",["x","y"]),r.Factory.addComponentsGetterSetter(N,"strokeLinearGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(N,"fillLinearGradientEndPointX",0),r.Factory.addGetterSetter(N,"strokeLinearGradientEndPointX",0),r.Factory.addGetterSetter(N,"fillLinearGradientEndPointY",0),r.Factory.addGetterSetter(N,"strokeLinearGradientEndPointY",0),r.Factory.addComponentsGetterSetter(N,"fillRadialGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(N,"fillRadialGradientStartPointX",0),r.Factory.addGetterSetter(N,"fillRadialGradientStartPointY",0),r.Factory.addComponentsGetterSetter(N,"fillRadialGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(N,"fillRadialGradientEndPointX",0),r.Factory.addGetterSetter(N,"fillRadialGradientEndPointY",0),r.Factory.addGetterSetter(N,"fillPatternRotation",0),r.Factory.addGetterSetter(N,"fillRule",void 0,(0,s.getStringValidator)()),r.Factory.backCompat(N,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(Ze);Object.defineProperty(Xs,"__esModule",{value:!0});Xs.Layer=void 0;const un=De,gc=Tr,Ur=Fe,qd=ye,u0=Wt,Yx=fe,Xx=Ze,qx=ge,Zx="#",Qx="beforeDraw",Jx="draw",Qm=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],e6=Qm.length;class Ti extends gc.Container{constructor(e){super(e),this.canvas=new u0.SceneCanvas,this.hitCanvas=new u0.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Ur.Node.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Ur.Node.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Ur.Node.prototype.moveDown.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Ur.Node.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return Ur.Node.prototype.remove.call(this),e&&e.parentNode&&un.Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&un.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),Ur.Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){un.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){un.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,un.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,r=!1;for(;;){for(let i=0;i<e6;i++){const s=Qm[i],a=this._getIntersection({x:e.x+s.x*n,y:e.y+s.y*n}),o=a.shape;if(o)return o;if(r=!!a.antialiased,!a.antialiased)break}if(r)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,i=r[3];if(i===255){const s=un.Util._rgbToHex(r[0],r[1],r[2]),a=Xx.shapes[Zx+s];return a?{shape:a}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,n,r){const i=this.getLayer(),s=e||i&&i.getCanvas();return this._fire(Qx,{node:this}),this.clearBeforeDraw()&&s.getContext().clear(),gc.Container.prototype.drawScene.call(this,s,n,r),this._fire(Jx,{node:this}),this}drawHit(e,n){const r=this.getLayer(),i=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),gc.Container.prototype.drawHit.call(this,i,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){un.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return un.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return un.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}Xs.Layer=Ti;Ti.prototype.nodeType="Layer";(0,qx._registerNode)(Ti);qd.Factory.addGetterSetter(Ti,"imageSmoothingEnabled",!0);qd.Factory.addGetterSetter(Ti,"clearBeforeDraw",!0);qd.Factory.addGetterSetter(Ti,"hitGraphEnabled",!0,(0,Yx.getBooleanValidator)());var qo={};Object.defineProperty(qo,"__esModule",{value:!0});qo.FastLayer=void 0;const t6=De,n6=Xs,r6=ge;class Zd extends n6.Layer{constructor(e){super(e),this.listening(!1),t6.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}qo.FastLayer=Zd;Zd.prototype.nodeType="FastLayer";(0,r6._registerNode)(Zd);var Ri={};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.Group=void 0;const i6=De,s6=Tr,a6=ge;class Qd extends s6.Container{_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&i6.Util.throw("You may only add groups and shapes to groups.")}}Ri.Group=Qd;Qd.prototype.nodeType="Group";(0,a6._registerNode)(Qd);var Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.Animation=void 0;const yc=ge,d0=De,vc=function(){return yc.glob.performance&&yc.glob.performance.now?function(){return yc.glob.performance.now()}:function(){return new Date().getTime()}}();class tn{constructor(e,n){this.id=tn.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:vc(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,r=n.length;for(let i=0;i<r;i++)if(n[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=tn.animations,r=n.length;for(let i=0;i<r;i++)if(n[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=vc(),tn._addAnimation(this),this}stop(){return tn._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,r=this.animations,i=r.length;for(let s=0;s<i;s++)if(r[s].id===n){this.animations.splice(s,1);break}}static _runFrames(){const e={},n=this.animations;for(let r=0;r<n.length;r++){const i=n[r],s=i.layers,a=i.func;i._updateFrameObject(vc());const o=s.length;let l;if(a?l=a.call(i,i.frame)!==!1:l=!0,!!l)for(let c=0;c<o;c++){const u=s[c];u._id!==void 0&&(e[u._id]=u)}}for(const r in e)e.hasOwnProperty(r)&&e[r].batchDraw()}static _animationLoop(){const e=tn;e.animations.length?(e._runFrames(),d0.Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,d0.Util.requestAnimFrame(this._animationLoop))}}Ai.Animation=tn;tn.animations=[];tn.animIdCounter=0;tn.animRunning=!1;var Jm={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const e=De,n=Ai,r=Fe,i=ge,s={node:1,duration:1,easing:1,onFinish:1,yoyo:1},a=1,o=2,l=3,c=["fill","stroke","shadowColor"];let u=0;class y{constructor(h,m,_,g,x,d,w){this.prop=h,this.propFunc=m,this.begin=g,this._pos=g,this.duration=d,this._change=0,this.prevPos=0,this.yoyo=w,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=_,this._change=x-this.begin,this.pause()}fire(h){const m=this[h];m&&m()}setTime(h){h>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():h<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=h,this.update())}getTime(){return this._time}setPosition(h){this.prevPos=this._pos,this.propFunc(h),this._pos=h}getPosition(h){return h===void 0&&(h=this._time),this.func(h,this.begin,this._change,this.duration)}play(){this.state=o,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=l,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(h){this.pause(),this._time=h,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const h=this.getTimer()-this._startTime;this.state===o?this.setTime(h):this.state===l&&this.setTime(this.duration-h)}pause(){this.state=a,this.fire("onPause")}getTimer(){return new Date().getTime()}}class v{constructor(h){const m=this,_=h.node,g=_._id,x=h.easing||t.Easings.Linear,d=!!h.yoyo;let w,b;typeof h.duration>"u"?w=.3:h.duration===0?w=.001:w=h.duration,this.node=_,this._id=u++;const E=_.getLayer()||(_ instanceof i.Konva.Stage?_.getLayers():null);E||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new n.Animation(function(){m.tween.onEnterFrame()},E),this.tween=new y(b,function(j){m._tweenFunc(j)},x,0,1,w*1e3,d),this._addListeners(),v.attrs[g]||(v.attrs[g]={}),v.attrs[g][this._id]||(v.attrs[g][this._id]={}),v.tweens[g]||(v.tweens[g]={});for(b in h)s[b]===void 0&&this._addAttr(b,h[b]);this.reset(),this.onFinish=h.onFinish,this.onReset=h.onReset,this.onUpdate=h.onUpdate}_addAttr(h,m){const _=this.node,g=_._id;let x,d,w,b,E;const j=v.tweens[g][h];j&&delete v.attrs[g][j][h];let N=_.getAttr(h);if(e.Util._isArray(m))if(x=[],d=Math.max(m.length,N.length),h==="points"&&m.length!==N.length&&(m.length>N.length?(b=N,N=e.Util._prepareArrayForTween(N,m,_.closed())):(w=m,m=e.Util._prepareArrayForTween(m,N,_.closed()))),h.indexOf("fill")===0)for(let R=0;R<d;R++)if(R%2===0)x.push(m[R]-N[R]);else{const P=e.Util.colorToRGBA(N[R]);E=e.Util.colorToRGBA(m[R]),N[R]=P,x.push({r:E.r-P.r,g:E.g-P.g,b:E.b-P.b,a:E.a-P.a})}else for(let R=0;R<d;R++)x.push(m[R]-N[R]);else c.indexOf(h)!==-1?(N=e.Util.colorToRGBA(N),E=e.Util.colorToRGBA(m),x={r:E.r-N.r,g:E.g-N.g,b:E.b-N.b,a:E.a-N.a}):x=m-N;v.attrs[g][this._id][h]={start:N,diff:x,end:m,trueEnd:w,trueStart:b},v.tweens[g][h]=this._id}_tweenFunc(h){const m=this.node,_=v.attrs[m._id][this._id];let g,x,d,w,b,E,j,N;for(g in _){if(x=_[g],d=x.start,w=x.diff,N=x.end,e.Util._isArray(d))if(b=[],j=Math.max(d.length,N.length),g.indexOf("fill")===0)for(E=0;E<j;E++)E%2===0?b.push((d[E]||0)+w[E]*h):b.push("rgba("+Math.round(d[E].r+w[E].r*h)+","+Math.round(d[E].g+w[E].g*h)+","+Math.round(d[E].b+w[E].b*h)+","+(d[E].a+w[E].a*h)+")");else for(E=0;E<j;E++)b.push((d[E]||0)+w[E]*h);else c.indexOf(g)!==-1?b="rgba("+Math.round(d.r+w.r*h)+","+Math.round(d.g+w.g*h)+","+Math.round(d.b+w.b*h)+","+(d.a+w.a*h)+")":b=d+w*h;m.setAttr(g,b)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const h=this.node,m=v.attrs[h._id][this._id];m.points&&m.points.trueEnd&&h.setAttr("points",m.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const h=this.node,m=v.attrs[h._id][this._id];m.points&&m.points.trueStart&&h.points(m.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(h){return this.tween.seek(h*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const h=this.node._id,m=this._id,_=v.tweens[h];this.pause(),this.anim&&this.anim.stop();for(const g in _)delete v.tweens[h][g];delete v.attrs[h][m],v.tweens[h]&&(Object.keys(v.tweens[h]).length===0&&delete v.tweens[h],Object.keys(v.attrs[h]).length===0&&delete v.attrs[h])}}t.Tween=v,v.attrs={},v.tweens={},r.Node.prototype.to=function(p){const h=p.onFinish;p.node=this,p.onFinish=function(){this.destroy(),h&&h()},new v(p).play()},t.Easings={BackEaseIn(p,h,m,_){return m*(p/=_)*p*((1.70158+1)*p-1.70158)+h},BackEaseOut(p,h,m,_){return m*((p=p/_-1)*p*((1.70158+1)*p+1.70158)+1)+h},BackEaseInOut(p,h,m,_){let g=1.70158;return(p/=_/2)<1?m/2*(p*p*(((g*=1.525)+1)*p-g))+h:m/2*((p-=2)*p*(((g*=1.525)+1)*p+g)+2)+h},ElasticEaseIn(p,h,m,_,g,x){let d=0;return p===0?h:(p/=_)===1?h+m:(x||(x=_*.3),!g||g<Math.abs(m)?(g=m,d=x/4):d=x/(2*Math.PI)*Math.asin(m/g),-(g*Math.pow(2,10*(p-=1))*Math.sin((p*_-d)*(2*Math.PI)/x))+h)},ElasticEaseOut(p,h,m,_,g,x){let d=0;return p===0?h:(p/=_)===1?h+m:(x||(x=_*.3),!g||g<Math.abs(m)?(g=m,d=x/4):d=x/(2*Math.PI)*Math.asin(m/g),g*Math.pow(2,-10*p)*Math.sin((p*_-d)*(2*Math.PI)/x)+m+h)},ElasticEaseInOut(p,h,m,_,g,x){let d=0;return p===0?h:(p/=_/2)===2?h+m:(x||(x=_*(.3*1.5)),!g||g<Math.abs(m)?(g=m,d=x/4):d=x/(2*Math.PI)*Math.asin(m/g),p<1?-.5*(g*Math.pow(2,10*(p-=1))*Math.sin((p*_-d)*(2*Math.PI)/x))+h:g*Math.pow(2,-10*(p-=1))*Math.sin((p*_-d)*(2*Math.PI)/x)*.5+m+h)},BounceEaseOut(p,h,m,_){return(p/=_)<1/2.75?m*(7.5625*p*p)+h:p<2/2.75?m*(7.5625*(p-=1.5/2.75)*p+.75)+h:p<2.5/2.75?m*(7.5625*(p-=2.25/2.75)*p+.9375)+h:m*(7.5625*(p-=2.625/2.75)*p+.984375)+h},BounceEaseIn(p,h,m,_){return m-t.Easings.BounceEaseOut(_-p,0,m,_)+h},BounceEaseInOut(p,h,m,_){return p<_/2?t.Easings.BounceEaseIn(p*2,0,m,_)*.5+h:t.Easings.BounceEaseOut(p*2-_,0,m,_)*.5+m*.5+h},EaseIn(p,h,m,_){return m*(p/=_)*p+h},EaseOut(p,h,m,_){return-m*(p/=_)*(p-2)+h},EaseInOut(p,h,m,_){return(p/=_/2)<1?m/2*p*p+h:-m/2*(--p*(p-2)-1)+h},StrongEaseIn(p,h,m,_){return m*(p/=_)*p*p*p*p+h},StrongEaseOut(p,h,m,_){return m*((p=p/_-1)*p*p*p*p+1)+h},StrongEaseInOut(p,h,m,_){return(p/=_/2)<1?m/2*p*p*p*p*p+h:m/2*((p-=2)*p*p*p*p+2)+h},Linear(p,h,m,_){return m*p/_+h}}})(Jm);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const e=ge,n=De,r=Fe,i=Tr,s=Xm,a=Xs,o=qo,l=Ri,c=Yo,u=Ze,y=Ai,v=Jm,p=vn,h=Wt;t.Konva=n.Util._assign(e.Konva,{Util:n.Util,Transform:n.Transform,Node:r.Node,Container:i.Container,Stage:s.Stage,stages:s.stages,Layer:a.Layer,FastLayer:o.FastLayer,Group:l.Group,DD:c.DD,Shape:u.Shape,shapes:u.shapes,Animation:y.Animation,Tween:v.Tween,Easings:v.Easings,Context:p.Context,Canvas:h.Canvas}),t.default=t.Konva})(Vm);var Zo={};Object.defineProperty(Zo,"__esModule",{value:!0});Zo.Arc=void 0;const Qo=ye,o6=Ze,h0=ge,Jo=fe,l6=ge;class En extends o6.Shape{_sceneFunc(e){const n=h0.Konva.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,r),e.arc(0,0,this.innerRadius(),n,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),r=this.clockwise(),i=h0.Konva.getAngle(r?360-this.angle():this.angle()),s=Math.cos(Math.min(i,Math.PI)),a=1,o=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),l=Math.sin(Math.min(i,Math.PI/2)),c=s*(s>0?e:n),u=a*n,y=o*(o>0?e:n),v=l*(l>0?n:e);return{x:c,y:r?-1*v:y,width:u-c,height:v-y}}}Zo.Arc=En;En.prototype._centroid=!0;En.prototype.className="Arc";En.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];(0,l6._registerNode)(En);Qo.Factory.addGetterSetter(En,"innerRadius",0,(0,Jo.getNumberValidator)());Qo.Factory.addGetterSetter(En,"outerRadius",0,(0,Jo.getNumberValidator)());Qo.Factory.addGetterSetter(En,"angle",0,(0,Jo.getNumberValidator)());Qo.Factory.addGetterSetter(En,"clockwise",!1,(0,Jo.getBooleanValidator)());var el={},qs={};Object.defineProperty(qs,"__esModule",{value:!0});qs.Line=void 0;const tl=ye,c6=ge,u6=Ze,eg=fe;function Au(t,e,n,r,i,s,a){const o=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),l=Math.sqrt(Math.pow(i-n,2)+Math.pow(s-r,2)),c=a*o/(o+l),u=a*l/(o+l),y=n-c*(i-t),v=r-c*(s-e),p=n+u*(i-t),h=r+u*(s-e);return[y,v,p,h]}function f0(t,e){const n=t.length,r=[];for(let i=2;i<n-2;i+=2){const s=Au(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e);isNaN(s[0])||(r.push(s[0]),r.push(s[1]),r.push(t[i]),r.push(t[i+1]),r.push(s[2]),r.push(s[3]))}return r}class nr extends u6.Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const n=this.points(),r=n.length,i=this.tension(),s=this.closed(),a=this.bezier();if(!r)return;let o=0;if(e.beginPath(),e.moveTo(n[0],n[1]),i!==0&&r>4){const l=this.getTensionPoints(),c=l.length;for(o=s?0:4,s||e.quadraticCurveTo(l[0],l[1],l[2],l[3]);o<c-2;)e.bezierCurveTo(l[o++],l[o++],l[o++],l[o++],l[o++],l[o++]);s||e.quadraticCurveTo(l[c-2],l[c-1],n[r-2],n[r-1])}else if(a)for(o=2;o<r;)e.bezierCurveTo(n[o++],n[o++],n[o++],n[o++],n[o++],n[o++]);else for(o=2;o<r;o+=2)e.lineTo(n[o],n[o+1]);s?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():f0(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),n=e.length,r=this.tension(),i=Au(e[n-2],e[n-1],e[0],e[1],e[2],e[3],r),s=Au(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],r),a=f0(e,r);return[i[2],i[3]].concat(a).concat([s[0],s[1],e[n-2],e[n-1],s[2],s[3],i[0],i[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],r=e[0],i=e[1],s=e[1],a,o;for(let l=0;l<e.length/2;l++)a=e[l*2],o=e[l*2+1],n=Math.min(n,a),r=Math.max(r,a),i=Math.min(i,o),s=Math.max(s,o);return{x:n,y:i,width:r-n,height:s-i}}}qs.Line=nr;nr.prototype.className="Line";nr.prototype._attrsAffectingSize=["points","bezier","tension"];(0,c6._registerNode)(nr);tl.Factory.addGetterSetter(nr,"closed",!1);tl.Factory.addGetterSetter(nr,"bezier",!1);tl.Factory.addGetterSetter(nr,"tension",0,(0,eg.getNumberValidator)());tl.Factory.addGetterSetter(nr,"points",[],(0,eg.getNumberArrayValidator)());var Oi={},tg={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(a,o,l)=>{let c,u;const v=l/2;c=0;for(let p=0;p<20;p++)u=v*t.tValues[20][p]+v,c+=t.cValues[20][p]*r(a,o,u);return v*c};t.getCubicArcLength=e;const n=(a,o,l)=>{l===void 0&&(l=1);const c=a[0]-2*a[1]+a[2],u=o[0]-2*o[1]+o[2],y=2*a[1]-2*a[0],v=2*o[1]-2*o[0],p=4*(c*c+u*u),h=4*(c*y+u*v),m=y*y+v*v;if(p===0)return l*Math.sqrt(Math.pow(a[2]-a[0],2)+Math.pow(o[2]-o[0],2));const _=h/(2*p),g=m/p,x=l+_,d=g-_*_,w=x*x+d>0?Math.sqrt(x*x+d):0,b=_*_+d>0?Math.sqrt(_*_+d):0,E=_+Math.sqrt(_*_+d)!==0?d*Math.log(Math.abs((x+w)/(_+b))):0;return Math.sqrt(p)/2*(x*w-_*b+E)};t.getQuadraticArcLength=n;function r(a,o,l){const c=i(1,l,a),u=i(1,l,o),y=c*c+u*u;return Math.sqrt(y)}const i=(a,o,l)=>{const c=l.length-1;let u,y;if(c===0)return 0;if(a===0){y=0;for(let v=0;v<=c;v++)y+=t.binomialCoefficients[c][v]*Math.pow(1-o,c-v)*Math.pow(o,v)*l[v];return y}else{u=new Array(c);for(let v=0;v<c;v++)u[v]=c*(l[v+1]-l[v]);return i(a-1,o,u)}},s=(a,o,l)=>{let c=1,u=a/o,y=(a-l(u))/o,v=0;for(;c>.001;){const p=l(u+y),h=Math.abs(a-p)/o;if(h<c)c=h,u+=y;else{const m=l(u-y),_=Math.abs(a-m)/o;_<c?(c=_,u-=y):y/=2}if(v++,v>500)break}return u};t.t2length=s})(tg);Object.defineProperty(Oi,"__esModule",{value:!0});Oi.Path=void 0;const d6=ye,h6=ge,f6=Ze,Br=tg;class Ye extends f6.Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Ye.parsePathData(this.data()),this.pathLength=Ye.getPathLength(this.dataArray)}_sceneFunc(e){const n=this.dataArray;e.beginPath();let r=!1;for(let i=0;i<n.length;i++){const s=n[i].command,a=n[i].points;switch(s){case"L":e.lineTo(a[0],a[1]);break;case"M":e.moveTo(a[0],a[1]);break;case"C":e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"Q":e.quadraticCurveTo(a[0],a[1],a[2],a[3]);break;case"A":const o=a[0],l=a[1],c=a[2],u=a[3],y=a[4],v=a[5],p=a[6],h=a[7],m=c>u?c:u,_=c>u?1:c/u,g=c>u?u/c:1;e.translate(o,l),e.rotate(p),e.scale(_,g),e.arc(0,0,m,y,y+v,1-h),e.scale(1/_,1/g),e.rotate(-p),e.translate(-o,-l);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(l){if(l.command==="A"){const c=l.points[4],u=l.points[5],y=l.points[4]+u;let v=Math.PI/180;if(Math.abs(c-y)<v&&(v=Math.abs(c-y)),u<0)for(let p=c-v;p>y;p-=v){const h=Ye.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],p,0);e.push(h.x,h.y)}else for(let p=c+v;p<y;p+=v){const h=Ye.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],p,0);e.push(h.x,h.y)}}else if(l.command==="C")for(let c=0;c<=1;c+=.01){const u=Ye.getPointOnCubicBezier(c,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3],l.points[4],l.points[5]);e.push(u.x,u.y)}else e=e.concat(l.points)});let n=e[0],r=e[0],i=e[1],s=e[1],a,o;for(let l=0;l<e.length/2;l++)a=e[l*2],o=e[l*2+1],isNaN(a)||(n=Math.min(n,a),r=Math.max(r,a)),isNaN(o)||(i=Math.min(i,o),s=Math.max(s,o));return{x:n,y:i,width:r-n,height:s-i}}getLength(){return this.pathLength}getPointAtLength(e){return Ye.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,r,i){return Math.sqrt((r-e)*(r-e)+(i-n)*(i-n))}static getPathLength(e){let n=0;for(let r=0;r<e.length;++r)n+=e[r].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let r,i=0,s=n.length;if(!s)return null;for(;i<s&&e>n[i].pathLength;)e-=n[i].pathLength,++i;if(i===s)return r=n[i-1].points.slice(-2),{x:r[0],y:r[1]};if(e<.01)return n[i].command==="M"?(r=n[i].points.slice(0,2),{x:r[0],y:r[1]}):{x:n[i].start.x,y:n[i].start.y};const a=n[i],o=a.points;switch(a.command){case"L":return Ye.getPointOnLine(e,a.start.x,a.start.y,o[0],o[1]);case"C":return Ye.getPointOnCubicBezier((0,Br.t2length)(e,Ye.getPathLength(n),m=>(0,Br.getCubicArcLength)([a.start.x,o[0],o[2],o[4]],[a.start.y,o[1],o[3],o[5]],m)),a.start.x,a.start.y,o[0],o[1],o[2],o[3],o[4],o[5]);case"Q":return Ye.getPointOnQuadraticBezier((0,Br.t2length)(e,Ye.getPathLength(n),m=>(0,Br.getQuadraticArcLength)([a.start.x,o[0],o[2]],[a.start.y,o[1],o[3]],m)),a.start.x,a.start.y,o[0],o[1],o[2],o[3]);case"A":const l=o[0],c=o[1],u=o[2],y=o[3],v=o[5],p=o[6];let h=o[4];return h+=v*e/a.pathLength,Ye.getPointOnEllipticalArc(l,c,u,y,h,p)}return null}static getPointOnLine(e,n,r,i,s,a,o){a=a??n,o=o??r;const l=this.getLineLength(n,r,i,s);if(l<1e-10)return{x:n,y:r};if(i===n)return{x:a,y:o+(s>r?e:-e)};const c=(s-r)/(i-n),u=Math.sqrt(e*e/(1+c*c))*(i<n?-1:1),y=c*u;if(Math.abs(o-r-c*(a-n))<1e-10)return{x:a+u,y:o+y};const v=((a-n)*(i-n)+(o-r)*(s-r))/(l*l),p=n+v*(i-n),h=r+v*(s-r),m=this.getLineLength(a,o,p,h),_=Math.sqrt(e*e-m*m),g=Math.sqrt(_*_/(1+c*c))*(i<n?-1:1),x=c*g;return{x:p+g,y:h+x}}static getPointOnCubicBezier(e,n,r,i,s,a,o,l,c){function u(_){return _*_*_}function y(_){return 3*_*_*(1-_)}function v(_){return 3*_*(1-_)*(1-_)}function p(_){return(1-_)*(1-_)*(1-_)}const h=l*u(e)+a*y(e)+i*v(e)+n*p(e),m=c*u(e)+o*y(e)+s*v(e)+r*p(e);return{x:h,y:m}}static getPointOnQuadraticBezier(e,n,r,i,s,a,o){function l(p){return p*p}function c(p){return 2*p*(1-p)}function u(p){return(1-p)*(1-p)}const y=a*l(e)+i*c(e)+n*u(e),v=o*l(e)+s*c(e)+r*u(e);return{x:y,y:v}}static getPointOnEllipticalArc(e,n,r,i,s,a){const o=Math.cos(a),l=Math.sin(a),c={x:r*Math.cos(s),y:i*Math.sin(s)};return{x:e+(c.x*o-c.y*l),y:n+(c.x*l+c.y*o)}}static parsePathData(e){if(!e)return[];let n=e;const r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let y=0;y<r.length;y++)n=n.replace(new RegExp(r[y],"g"),"|"+r[y]);const i=n.split("|"),s=[],a=[];let o=0,l=0;const c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let u;for(let y=1;y<i.length;y++){let v=i[y],p=v.charAt(0);for(v=v.slice(1),a.length=0;u=c.exec(v);)a.push(u[0]);const h=[];for(let m=0,_=a.length;m<_;m++){if(a[m]==="00"){h.push(0,0);continue}const g=parseFloat(a[m]);isNaN(g)?h.push(0):h.push(g)}for(;h.length>0&&!isNaN(h[0]);){let m="",_=[];const g=o,x=l;let d,w,b,E,j,N,R,P,D,C;switch(p){case"l":o+=h.shift(),l+=h.shift(),m="L",_.push(o,l);break;case"L":o=h.shift(),l=h.shift(),_.push(o,l);break;case"m":const O=h.shift(),S=h.shift();if(o+=O,l+=S,m="M",s.length>2&&s[s.length-1].command==="z"){for(let I=s.length-2;I>=0;I--)if(s[I].command==="M"){o=s[I].points[0]+O,l=s[I].points[1]+S;break}}_.push(o,l),p="l";break;case"M":o=h.shift(),l=h.shift(),m="M",_.push(o,l),p="L";break;case"h":o+=h.shift(),m="L",_.push(o,l);break;case"H":o=h.shift(),m="L",_.push(o,l);break;case"v":l+=h.shift(),m="L",_.push(o,l);break;case"V":l=h.shift(),m="L",_.push(o,l);break;case"C":_.push(h.shift(),h.shift(),h.shift(),h.shift()),o=h.shift(),l=h.shift(),_.push(o,l);break;case"c":_.push(o+h.shift(),l+h.shift(),o+h.shift(),l+h.shift()),o+=h.shift(),l+=h.shift(),m="C",_.push(o,l);break;case"S":w=o,b=l,d=s[s.length-1],d.command==="C"&&(w=o+(o-d.points[2]),b=l+(l-d.points[3])),_.push(w,b,h.shift(),h.shift()),o=h.shift(),l=h.shift(),m="C",_.push(o,l);break;case"s":w=o,b=l,d=s[s.length-1],d.command==="C"&&(w=o+(o-d.points[2]),b=l+(l-d.points[3])),_.push(w,b,o+h.shift(),l+h.shift()),o+=h.shift(),l+=h.shift(),m="C",_.push(o,l);break;case"Q":_.push(h.shift(),h.shift()),o=h.shift(),l=h.shift(),_.push(o,l);break;case"q":_.push(o+h.shift(),l+h.shift()),o+=h.shift(),l+=h.shift(),m="Q",_.push(o,l);break;case"T":w=o,b=l,d=s[s.length-1],d.command==="Q"&&(w=o+(o-d.points[0]),b=l+(l-d.points[1])),o=h.shift(),l=h.shift(),m="Q",_.push(w,b,o,l);break;case"t":w=o,b=l,d=s[s.length-1],d.command==="Q"&&(w=o+(o-d.points[0]),b=l+(l-d.points[1])),o+=h.shift(),l+=h.shift(),m="Q",_.push(w,b,o,l);break;case"A":E=h.shift(),j=h.shift(),N=h.shift(),R=h.shift(),P=h.shift(),D=o,C=l,o=h.shift(),l=h.shift(),m="A",_=this.convertEndpointToCenterParameterization(D,C,o,l,R,P,E,j,N);break;case"a":E=h.shift(),j=h.shift(),N=h.shift(),R=h.shift(),P=h.shift(),D=o,C=l,o+=h.shift(),l+=h.shift(),m="A",_=this.convertEndpointToCenterParameterization(D,C,o,l,R,P,E,j,N);break}s.push({command:m||p,points:_,start:{x:g,y:x},pathLength:this.calcLength(g,x,m||p,_)})}(p==="z"||p==="Z")&&s.push({command:"z",points:[],start:void 0,pathLength:0})}return s}static calcLength(e,n,r,i){let s,a,o,l;const c=Ye;switch(r){case"L":return c.getLineLength(e,n,i[0],i[1]);case"C":return(0,Br.getCubicArcLength)([e,i[0],i[2],i[4]],[n,i[1],i[3],i[5]],1);case"Q":return(0,Br.getQuadraticArcLength)([e,i[0],i[2]],[n,i[1],i[3]],1);case"A":s=0;const u=i[4],y=i[5],v=i[4]+y;let p=Math.PI/180;if(Math.abs(u-v)<p&&(p=Math.abs(u-v)),a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],u,0),y<0)for(l=u-p;l>v;l-=p)o=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),s+=c.getLineLength(a.x,a.y,o.x,o.y),a=o;else for(l=u+p;l<v;l+=p)o=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),s+=c.getLineLength(a.x,a.y,o.x,o.y),a=o;return o=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],v,0),s+=c.getLineLength(a.x,a.y,o.x,o.y),s}return 0}static convertEndpointToCenterParameterization(e,n,r,i,s,a,o,l,c){const u=c*(Math.PI/180),y=Math.cos(u)*(e-r)/2+Math.sin(u)*(n-i)/2,v=-1*Math.sin(u)*(e-r)/2+Math.cos(u)*(n-i)/2,p=y*y/(o*o)+v*v/(l*l);p>1&&(o*=Math.sqrt(p),l*=Math.sqrt(p));let h=Math.sqrt((o*o*(l*l)-o*o*(v*v)-l*l*(y*y))/(o*o*(v*v)+l*l*(y*y)));s===a&&(h*=-1),isNaN(h)&&(h=0);const m=h*o*v/l,_=h*-l*y/o,g=(e+r)/2+Math.cos(u)*m-Math.sin(u)*_,x=(n+i)/2+Math.sin(u)*m+Math.cos(u)*_,d=function(P){return Math.sqrt(P[0]*P[0]+P[1]*P[1])},w=function(P,D){return(P[0]*D[0]+P[1]*D[1])/(d(P)*d(D))},b=function(P,D){return(P[0]*D[1]<P[1]*D[0]?-1:1)*Math.acos(w(P,D))},E=b([1,0],[(y-m)/o,(v-_)/l]),j=[(y-m)/o,(v-_)/l],N=[(-1*y-m)/o,(-1*v-_)/l];let R=b(j,N);return w(j,N)<=-1&&(R=Math.PI),w(j,N)>=1&&(R=0),a===0&&R>0&&(R=R-2*Math.PI),a===1&&R<0&&(R=R+2*Math.PI),[g,x,o,l,E,R,u,a]}}Oi.Path=Ye;Ye.prototype.className="Path";Ye.prototype._attrsAffectingSize=["data"];(0,h6._registerNode)(Ye);d6.Factory.addGetterSetter(Ye,"data");Object.defineProperty(el,"__esModule",{value:!0});el.Arrow=void 0;const nl=ye,p6=qs,ng=fe,m6=ge,p0=Oi;class Ar extends p6.Line{_sceneFunc(e){super._sceneFunc(e);const n=Math.PI*2,r=this.points();let i=r;const s=this.tension()!==0&&r.length>4;s&&(i=this.getTensionPoints());const a=this.pointerLength(),o=r.length;let l,c;if(s){const v=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],r[o-2],r[o-1]],p=p0.Path.calcLength(i[i.length-4],i[i.length-3],"C",v),h=p0.Path.getPointOnQuadraticBezier(Math.min(1,1-a/p),v[0],v[1],v[2],v[3],v[4],v[5]);l=r[o-2]-h.x,c=r[o-1]-h.y}else l=r[o-2]-r[o-4],c=r[o-1]-r[o-3];const u=(Math.atan2(c,l)+n)%n,y=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[o-2],r[o-1]),e.rotate(u),e.moveTo(0,0),e.lineTo(-a,y/2),e.lineTo(-a,-y/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),s?(l=(i[0]+i[2])/2-r[0],c=(i[1]+i[3])/2-r[1]):(l=r[2]-r[0],c=r[3]-r[1]),e.rotate((Math.atan2(-c,-l)+n)%n),e.moveTo(0,0),e.lineTo(-a,y/2),e.lineTo(-a,-y/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x,y:e.y-n,width:e.width,height:e.height+n*2}}}el.Arrow=Ar;Ar.prototype.className="Arrow";(0,m6._registerNode)(Ar);nl.Factory.addGetterSetter(Ar,"pointerLength",10,(0,ng.getNumberValidator)());nl.Factory.addGetterSetter(Ar,"pointerWidth",10,(0,ng.getNumberValidator)());nl.Factory.addGetterSetter(Ar,"pointerAtBeginning",!1);nl.Factory.addGetterSetter(Ar,"pointerAtEnding",!0);var rl={};Object.defineProperty(rl,"__esModule",{value:!0});rl.Circle=void 0;const g6=ye,y6=Ze,v6=fe,x6=ge;class Fi extends y6.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}rl.Circle=Fi;Fi.prototype._centroid=!0;Fi.prototype.className="Circle";Fi.prototype._attrsAffectingSize=["radius"];(0,x6._registerNode)(Fi);g6.Factory.addGetterSetter(Fi,"radius",0,(0,v6.getNumberValidator)());var il={};Object.defineProperty(il,"__esModule",{value:!0});il.Ellipse=void 0;const Jd=ye,_6=Ze,rg=fe,w6=ge;class rr extends _6.Shape{_sceneFunc(e){const n=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),n!==r&&e.scale(1,r/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}il.Ellipse=rr;rr.prototype.className="Ellipse";rr.prototype._centroid=!0;rr.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,w6._registerNode)(rr);Jd.Factory.addComponentsGetterSetter(rr,"radius",["x","y"]);Jd.Factory.addGetterSetter(rr,"radiusX",0,(0,rg.getNumberValidator)());Jd.Factory.addGetterSetter(rr,"radiusY",0,(0,rg.getNumberValidator)());var sl={};Object.defineProperty(sl,"__esModule",{value:!0});sl.Image=void 0;const xc=De,Or=ye,b6=Ze,S6=ge,Zs=fe;class It extends b6.Shape{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),r=this.getHeight(),i=this.cornerRadius(),s=this.attrs.image;let a;if(s){const o=this.attrs.cropWidth,l=this.attrs.cropHeight;o&&l?a=[s,this.cropX(),this.cropY(),o,l,0,0,n,r]:a=[s,0,0,n,r]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?xc.Util.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)),s&&(i&&e.clip(),e.drawImage.apply(e,a))}_hitFunc(e){const n=this.width(),r=this.height(),i=this.cornerRadius();e.beginPath(),i?xc.Util.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n;return(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var e,n;return(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(e,n,r=null){const i=xc.Util.createImageElement();i.onload=function(){const s=new It({image:i});n(s)},i.onerror=r,i.crossOrigin="Anonymous",i.src=e}}sl.Image=It;It.prototype.className="Image";(0,S6._registerNode)(It);Or.Factory.addGetterSetter(It,"cornerRadius",0,(0,Zs.getNumberOrArrayOfNumbersValidator)(4));Or.Factory.addGetterSetter(It,"image");Or.Factory.addComponentsGetterSetter(It,"crop",["x","y","width","height"]);Or.Factory.addGetterSetter(It,"cropX",0,(0,Zs.getNumberValidator)());Or.Factory.addGetterSetter(It,"cropY",0,(0,Zs.getNumberValidator)());Or.Factory.addGetterSetter(It,"cropWidth",0,(0,Zs.getNumberValidator)());Or.Factory.addGetterSetter(It,"cropHeight",0,(0,Zs.getNumberValidator)());var yi={};Object.defineProperty(yi,"__esModule",{value:!0});yi.Tag=yi.Label=void 0;const al=ye,k6=Ze,C6=Ri,eh=fe,ig=ge,sg=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],N6="Change.konva",E6="none",Ou="up",Fu="right",Lu="down",Iu="left",j6=sg.length;class th extends C6.Group{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,r;const i=function(){n._sync()};for(r=0;r<j6;r++)e.on(sg[r]+N6,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),r,i,s,a,o,l,c;if(e&&n){switch(r=e.width(),i=e.height(),s=n.pointerDirection(),a=n.pointerWidth(),c=n.pointerHeight(),o=0,l=0,s){case Ou:o=r/2,l=-1*c;break;case Fu:o=r+a,l=i/2;break;case Lu:o=r/2,l=i+c;break;case Iu:o=-1*a,l=i/2;break}n.setAttrs({x:-1*o,y:-1*l,width:r,height:i}),e.setAttrs({x:-1*o,y:-1*l})}}}yi.Label=th;th.prototype.className="Label";(0,ig._registerNode)(th);class Fr extends k6.Shape{_sceneFunc(e){const n=this.width(),r=this.height(),i=this.pointerDirection(),s=this.pointerWidth(),a=this.pointerHeight(),o=this.cornerRadius();let l=0,c=0,u=0,y=0;typeof o=="number"?l=c=u=y=Math.min(o,n/2,r/2):(l=Math.min(o[0]||0,n/2,r/2),c=Math.min(o[1]||0,n/2,r/2),y=Math.min(o[2]||0,n/2,r/2),u=Math.min(o[3]||0,n/2,r/2)),e.beginPath(),e.moveTo(l,0),i===Ou&&(e.lineTo((n-s)/2,0),e.lineTo(n/2,-1*a),e.lineTo((n+s)/2,0)),e.lineTo(n-c,0),e.arc(n-c,c,c,Math.PI*3/2,0,!1),i===Fu&&(e.lineTo(n,(r-a)/2),e.lineTo(n+s,r/2),e.lineTo(n,(r+a)/2)),e.lineTo(n,r-y),e.arc(n-y,r-y,y,0,Math.PI/2,!1),i===Lu&&(e.lineTo((n+s)/2,r),e.lineTo(n/2,r+a),e.lineTo((n-s)/2,r)),e.lineTo(u,r),e.arc(u,r-u,u,Math.PI/2,Math.PI,!1),i===Iu&&(e.lineTo(0,(r+a)/2),e.lineTo(-1*s,r/2),e.lineTo(0,(r-a)/2)),e.lineTo(0,l),e.arc(l,l,l,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,r=this.pointerWidth(),i=this.pointerHeight(),s=this.pointerDirection(),a=this.width(),o=this.height();return s===Ou?(n-=i,o+=i):s===Lu?o+=i:s===Iu?(e-=r*1.5,a+=r):s===Fu&&(a+=r*1.5),{x:e,y:n,width:a,height:o}}}yi.Tag=Fr;Fr.prototype.className="Tag";(0,ig._registerNode)(Fr);al.Factory.addGetterSetter(Fr,"pointerDirection",E6);al.Factory.addGetterSetter(Fr,"pointerWidth",0,(0,eh.getNumberValidator)());al.Factory.addGetterSetter(Fr,"pointerHeight",0,(0,eh.getNumberValidator)());al.Factory.addGetterSetter(Fr,"cornerRadius",0,(0,eh.getNumberOrArrayOfNumbersValidator)(4));var Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.Rect=void 0;const P6=ye,T6=Ze,R6=ge,A6=De,O6=fe;class ol extends T6.Shape{_sceneFunc(e){const n=this.cornerRadius(),r=this.width(),i=this.height();e.beginPath(),n?A6.Util.drawRoundedRectPath(e,r,i,n):e.rect(0,0,r,i),e.closePath(),e.fillStrokeShape(this)}}Qs.Rect=ol;ol.prototype.className="Rect";(0,R6._registerNode)(ol);P6.Factory.addGetterSetter(ol,"cornerRadius",0,(0,O6.getNumberOrArrayOfNumbersValidator)(4));var ll={};Object.defineProperty(ll,"__esModule",{value:!0});ll.RegularPolygon=void 0;const ag=ye,F6=Ze,og=fe,L6=ge;class Lr extends F6.Shape{_sceneFunc(e){const n=this._getPoints();e.beginPath(),e.moveTo(n[0].x,n[0].y);for(let r=1;r<n.length;r++)e.lineTo(n[r].x,n[r].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,r=[];for(let i=0;i<e;i++)r.push({x:n*Math.sin(i*2*Math.PI/e),y:-1*n*Math.cos(i*2*Math.PI/e)});return r}getSelfRect(){const e=this._getPoints();let n=e[0].x,r=e[0].y,i=e[0].x,s=e[0].y;return e.forEach(a=>{n=Math.min(n,a.x),r=Math.max(r,a.x),i=Math.min(i,a.y),s=Math.max(s,a.y)}),{x:n,y:i,width:r-n,height:s-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}ll.RegularPolygon=Lr;Lr.prototype.className="RegularPolygon";Lr.prototype._centroid=!0;Lr.prototype._attrsAffectingSize=["radius"];(0,L6._registerNode)(Lr);ag.Factory.addGetterSetter(Lr,"radius",0,(0,og.getNumberValidator)());ag.Factory.addGetterSetter(Lr,"sides",0,(0,og.getNumberValidator)());var cl={};Object.defineProperty(cl,"__esModule",{value:!0});cl.Ring=void 0;const lg=ye,I6=Ze,cg=fe,M6=ge,m0=Math.PI*2;class Ir extends I6.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,m0,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),m0,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}cl.Ring=Ir;Ir.prototype.className="Ring";Ir.prototype._centroid=!0;Ir.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,M6._registerNode)(Ir);lg.Factory.addGetterSetter(Ir,"innerRadius",0,(0,cg.getNumberValidator)());lg.Factory.addGetterSetter(Ir,"outerRadius",0,(0,cg.getNumberValidator)());var ul={};Object.defineProperty(ul,"__esModule",{value:!0});ul.Sprite=void 0;const Mr=ye,D6=Ze,z6=Ai,ug=fe,U6=ge;class ln extends D6.Shape{constructor(e){super(e),this._updated=!0,this.anim=new z6.Animation(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const n=this.animation(),r=this.frameIndex(),i=r*4,s=this.animations()[n],a=this.frameOffsets(),o=s[i+0],l=s[i+1],c=s[i+2],u=s[i+3],y=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,c,u),e.closePath(),e.fillStrokeShape(this)),y)if(a){const v=a[n],p=r*2;e.drawImage(y,o,l,c,u,v[p+0],v[p+1],c,u)}else e.drawImage(y,o,l,c,u,0,0,c,u)}_hitFunc(e){const n=this.animation(),r=this.frameIndex(),i=r*4,s=this.animations()[n],a=this.frameOffsets(),o=s[i+2],l=s[i+3];if(e.beginPath(),a){const c=a[n],u=r*2;e.rect(c[u+0],c[u+1],o,l)}else e.rect(0,0,o,l);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),n=this.animation(),r=this.animations(),i=r[n],s=i.length/4;e<s-1?this.frameIndex(e+1):this.frameIndex(0)}}ul.Sprite=ln;ln.prototype.className="Sprite";(0,U6._registerNode)(ln);Mr.Factory.addGetterSetter(ln,"animation");Mr.Factory.addGetterSetter(ln,"animations");Mr.Factory.addGetterSetter(ln,"frameOffsets");Mr.Factory.addGetterSetter(ln,"image");Mr.Factory.addGetterSetter(ln,"frameIndex",0,(0,ug.getNumberValidator)());Mr.Factory.addGetterSetter(ln,"frameRate",17,(0,ug.getNumberValidator)());Mr.Factory.backCompat(ln,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});var dl={};Object.defineProperty(dl,"__esModule",{value:!0});dl.Star=void 0;const nh=ye,B6=Ze,rh=fe,G6=ge;class ir extends B6.Shape{_sceneFunc(e){const n=this.innerRadius(),r=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(let s=1;s<i*2;s++){const a=s%2===0?r:n,o=a*Math.sin(s*Math.PI/i),l=-1*a*Math.cos(s*Math.PI/i);e.lineTo(o,l)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}dl.Star=ir;ir.prototype.className="Star";ir.prototype._centroid=!0;ir.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,G6._registerNode)(ir);nh.Factory.addGetterSetter(ir,"numPoints",5,(0,rh.getNumberValidator)());nh.Factory.addGetterSetter(ir,"innerRadius",0,(0,rh.getNumberValidator)());nh.Factory.addGetterSetter(ir,"outerRadius",0,(0,rh.getNumberValidator)());var Li={};Object.defineProperty(Li,"__esModule",{value:!0});Li.Text=void 0;Li.stringToArray=ur;const Mu=De,ct=ye,H6=Ze,_c=ge,sr=fe,$6=ge;function ur(t){return[...t].reduce((e,n,r,i)=>{if(new RegExp("\\p{Emoji}","u").test(n)){const s=i[r+1];s&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(s)?(e.push(n+s),i[r+1]=""):e.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(i[r+1]||""))?e.push(n+i[r+1]):r>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?e[e.length-1]+=n:n&&e.push(n);return e},[])}const Gr="auto",V6="center",dg="inherit",Yi="justify",W6="Change.konva",K6="2d",g0="-",hg="left",Y6="text",X6="Text",q6="top",Z6="bottom",y0="middle",fg="normal",Q6="px ",Sa=" ",J6="right",v0="rtl",e8="word",t8="char",x0="none",wc="",pg=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],n8=pg.length;function r8(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!r&&(e=`"${e}"`),e}).join(", ")}let ka;function bc(){return ka||(ka=Mu.Util.createCanvasElement().getContext(K6),ka)}function i8(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function s8(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function a8(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}class Be extends H6.Shape{constructor(e){super(a8(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<n8;n++)this.on(pg[n]+W6,this._setTextData);this._setTextData()}_sceneFunc(e){const n=this.textArr,r=n.length;if(!this.text())return;let i=this.padding(),s=this.fontSize(),a=this.lineHeight()*s,o=this.verticalAlign(),l=this.direction(),c=0,u=this.align(),y=this.getWidth(),v=this.letterSpacing(),p=this.fill(),h=this.textDecoration(),m=h.indexOf("underline")!==-1,_=h.indexOf("line-through")!==-1,g;l=l===dg?e.direction:l;let x=a/2,d=y0;if(_c.Konva._fixTextRendering){const w=this.measureSize("M");d="alphabetic",x=(w.fontBoundingBoxAscent-w.fontBoundingBoxDescent)/2+a/2}for(l===v0&&e.setAttr("direction",l),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",d),e.setAttr("textAlign",hg),o===y0?c=(this.getHeight()-r*a-i*2)/2:o===Z6&&(c=this.getHeight()-r*a-i*2),e.translate(i,c+i),g=0;g<r;g++){let w=0,b=0;const E=n[g],j=E.text,N=E.width,R=E.lastInParagraph;if(e.save(),u===J6?w+=y-N-i*2:u===V6&&(w+=(y-N-i*2)/2),m){e.save(),e.beginPath();const P=_c.Konva._fixTextRendering?Math.round(s/4):Math.round(s/2),D=w,C=x+b+P;e.moveTo(D,C);const O=u===Yi&&!R?y-i*2:N;e.lineTo(D+Math.round(O),C),e.lineWidth=s/15;const S=this._getLinearGradient();e.strokeStyle=S||p,e.stroke(),e.restore()}if(_){e.save(),e.beginPath();const P=_c.Konva._fixTextRendering?-Math.round(s/4):0;e.moveTo(w,x+b+P);const D=u===Yi&&!R?y-i*2:N;e.lineTo(w+Math.round(D),x+b+P),e.lineWidth=s/15;const C=this._getLinearGradient();e.strokeStyle=C||p,e.stroke(),e.restore()}if(l!==v0&&(v!==0||u===Yi)){const P=j.split(" ").length-1,D=ur(j);for(let C=0;C<D.length;C++){const O=D[C];O===" "&&!R&&u===Yi&&(w+=(y-i*2-N)/P),this._partialTextX=w,this._partialTextY=x+b,this._partialText=O,e.fillStrokeShape(this),w+=this.measureSize(O).width+v}}else v!==0&&e.setAttr("letterSpacing",`${v}px`),this._partialTextX=w,this._partialTextY=x+b,this._partialText=j,e.fillStrokeShape(this);e.restore(),r>1&&(x+=a)}}_hitFunc(e){const n=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}setText(e){const n=Mu.Util._isString(e)?e:e==null?"":e+"";return this._setAttr(Y6,n),this}getWidth(){return this.attrs.width===Gr||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===Gr||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return Mu.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,r,i,s,a,o,l,c,u,y,v;let p=bc(),h=this.fontSize(),m;p.save(),p.font=this._getContextFont(),m=p.measureText(e),p.restore();const _=h/100;return{actualBoundingBoxAscent:(n=m.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*_,actualBoundingBoxDescent:(r=m.actualBoundingBoxDescent)!==null&&r!==void 0?r:0,actualBoundingBoxLeft:(i=m.actualBoundingBoxLeft)!==null&&i!==void 0?i:-7.421875*_,actualBoundingBoxRight:(s=m.actualBoundingBoxRight)!==null&&s!==void 0?s:75.732421875*_,alphabeticBaseline:(a=m.alphabeticBaseline)!==null&&a!==void 0?a:0,emHeightAscent:(o=m.emHeightAscent)!==null&&o!==void 0?o:100*_,emHeightDescent:(l=m.emHeightDescent)!==null&&l!==void 0?l:-20*_,fontBoundingBoxAscent:(c=m.fontBoundingBoxAscent)!==null&&c!==void 0?c:91*_,fontBoundingBoxDescent:(u=m.fontBoundingBoxDescent)!==null&&u!==void 0?u:21*_,hangingBaseline:(y=m.hangingBaseline)!==null&&y!==void 0?y:72.80000305175781*_,ideographicBaseline:(v=m.ideographicBaseline)!==null&&v!==void 0?v:-21*_,width:m.width,height:h}}_getContextFont(){return this.fontStyle()+Sa+this.fontVariant()+Sa+(this.fontSize()+Q6)+r8(this.fontFamily())}_addTextLine(e){this.align()===Yi&&(e=e.trim());const r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){const n=this.letterSpacing(),r=e.length;return bc().measureText(e).width+n*r}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),r=0,i=this.lineHeight()*n,s=this.attrs.width,a=this.attrs.height,o=s!==Gr&&s!==void 0,l=a!==Gr&&a!==void 0,c=this.padding(),u=s-c*2,y=a-c*2,v=0,p=this.wrap(),h=p!==x0,m=p!==t8&&h,_=this.ellipsis();this.textArr=[],bc().font=this._getContextFont();const g=_?this._getTextWidth(wc):0;for(let x=0,d=e.length;x<d;++x){let w=e[x],b=this._getTextWidth(w);if(o&&b>u)for(;w.length>0;){let E=0,j=ur(w).length,N="",R=0;for(;E<j;){const P=E+j>>>1,D=ur(w),C=D.slice(0,P+1).join(""),O=this._getTextWidth(C);(_&&l&&v+i>y?O+g:O)<=u?(E=P+1,N=C,R=O):j=P}if(N){if(m){const C=ur(w),O=ur(N),S=C[O.length],I=S===Sa||S===g0;let Z;if(I&&R<=u)Z=O.length;else{const $=O.lastIndexOf(Sa),U=O.lastIndexOf(g0);Z=Math.max($,U)+1}Z>0&&(E=Z,N=C.slice(0,E).join(""),R=this._getTextWidth(N))}if(N=N.trimRight(),this._addTextLine(N),r=Math.max(r,R),v+=i,this._shouldHandleEllipsis(v)){this._tryToAddEllipsisToLastLine();break}if(w=ur(w).slice(E).join("").trimLeft(),w.length>0&&(b=this._getTextWidth(w),b<=u)){this._addTextLine(w),v+=i,r=Math.max(r,b);break}}else break}else this._addTextLine(w),v+=i,r=Math.max(r,b),this._shouldHandleEllipsis(v)&&x<d-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&v+i>y)break}this.textHeight=n,this.textWidth=r}_shouldHandleEllipsis(e){const n=+this.fontSize(),r=this.lineHeight()*n,i=this.attrs.height,s=i!==Gr&&i!==void 0,a=this.padding(),o=i-a*2;return!(this.wrap()!==x0)||s&&e+r>o}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,n=e!==Gr&&e!==void 0,r=this.padding(),i=e-r*2,s=this.ellipsis(),a=this.textArr[this.textArr.length-1];!a||!s||(n&&(this._getTextWidth(a.text+wc)<i||(a.text=a.text.slice(0,a.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(a.text+wc))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}}Li.Text=Be;Be.prototype._fillFunc=i8;Be.prototype._strokeFunc=s8;Be.prototype.className=X6;Be.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,$6._registerNode)(Be);ct.Factory.overWriteSetter(Be,"width",(0,sr.getNumberOrAutoValidator)());ct.Factory.overWriteSetter(Be,"height",(0,sr.getNumberOrAutoValidator)());ct.Factory.addGetterSetter(Be,"direction",dg);ct.Factory.addGetterSetter(Be,"fontFamily","Arial");ct.Factory.addGetterSetter(Be,"fontSize",12,(0,sr.getNumberValidator)());ct.Factory.addGetterSetter(Be,"fontStyle",fg);ct.Factory.addGetterSetter(Be,"fontVariant",fg);ct.Factory.addGetterSetter(Be,"padding",0,(0,sr.getNumberValidator)());ct.Factory.addGetterSetter(Be,"align",hg);ct.Factory.addGetterSetter(Be,"verticalAlign",q6);ct.Factory.addGetterSetter(Be,"lineHeight",1,(0,sr.getNumberValidator)());ct.Factory.addGetterSetter(Be,"wrap",e8);ct.Factory.addGetterSetter(Be,"ellipsis",!1,(0,sr.getBooleanValidator)());ct.Factory.addGetterSetter(Be,"letterSpacing",0,(0,sr.getNumberValidator)());ct.Factory.addGetterSetter(Be,"text","",(0,sr.getStringValidator)());ct.Factory.addGetterSetter(Be,"textDecoration","");var hl={};Object.defineProperty(hl,"__esModule",{value:!0});hl.TextPath=void 0;const Sc=De,Xt=ye,o8=Ze,Xi=Oi,kc=Li,mg=fe,l8=ge,c8="",gg="normal";function yg(t){t.fillText(this.partialText,0,0)}function vg(t){t.strokeText(this.partialText,0,0)}class Qe extends o8.Shape{constructor(e){super(e),this.dummyCanvas=Sc.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Xi.Path.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e-1>n?null:Xi.Path.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=Xi.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const n=this.textDecoration(),r=this.fill(),i=this.fontSize(),s=this.glyphInfo;n==="underline"&&e.beginPath();for(let a=0;a<s.length;a++){e.save();const o=s[a].p0;e.translate(o.x,o.y),e.rotate(s[a].rotation),this.partialText=s[a].text,e.fillStrokeShape(this),n==="underline"&&(a===0&&e.moveTo(0,i/2+1),e.lineTo(i,i/2+1)),e.restore()}n==="underline"&&(e.strokeStyle=r,e.lineWidth=i/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();const n=this.glyphInfo;if(n.length>=1){const r=n[0].p0;e.moveTo(r.x,r.y)}for(let r=0;r<n.length;r++){const i=n[r].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return Sc.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return kc.Text.prototype.setText.call(this,e)}_getContextFont(){return kc.Text.prototype._getContextFont.call(this)}_getTextSize(e){const r=this.dummyCanvas.getContext("2d");r.save(),r.font=this._getContextFont();const i=r.measureText(e);return r.restore(),{width:i.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:e,height:n}=this._getTextSize(this.attrs.text);if(this.textWidth=e,this.textHeight=n,this.glyphInfo=[],!this.attrs.data)return null;const r=this.letterSpacing(),i=this.align(),s=this.kerningFunc(),a=Math.max(this.textWidth+((this.attrs.text||"").length-1)*r,0);let o=0;i==="center"&&(o=Math.max(0,this.pathLength/2-a/2)),i==="right"&&(o=Math.max(0,this.pathLength-a));const l=(0,kc.stringToArray)(this.text());let c=o;for(let u=0;u<l.length;u++){const y=this._getPointAtLength(c);if(!y)return;let v=this._getTextSize(l[u]).width+r;if(l[u]===" "&&i==="justify"){const x=this.text().split(" ").length-1;v+=(this.pathLength-a)/x}const p=this._getPointAtLength(c+v);if(!p)return;const h=Xi.Path.getLineLength(y.x,y.y,p.x,p.y);let m=0;if(s)try{m=s(l[u-1],l[u])*this.fontSize()}catch{m=0}y.x+=m,p.x+=m,this.textWidth+=m;const _=Xi.Path.getPointOnLine(m+h/2,y.x,y.y,p.x,p.y),g=Math.atan2(p.y-y.y,p.x-y.x);this.glyphInfo.push({transposeX:_.x,transposeY:_.y,text:l[u],rotation:g,p0:y,p1:p}),c+=v}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(c){e.push(c.p0.x),e.push(c.p0.y),e.push(c.p1.x),e.push(c.p1.y)});let n=e[0]||0,r=e[0]||0,i=e[1]||0,s=e[1]||0,a,o;for(let c=0;c<e.length/2;c++)a=e[c*2],o=e[c*2+1],n=Math.min(n,a),r=Math.max(r,a),i=Math.min(i,o),s=Math.max(s,o);const l=this.fontSize();return{x:n-l/2,y:i-l/2,width:r-n+l,height:s-i+l}}destroy(){return Sc.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}hl.TextPath=Qe;Qe.prototype._fillFunc=yg;Qe.prototype._strokeFunc=vg;Qe.prototype._fillFuncHit=yg;Qe.prototype._strokeFuncHit=vg;Qe.prototype.className="TextPath";Qe.prototype._attrsAffectingSize=["text","fontSize","data"];(0,l8._registerNode)(Qe);Xt.Factory.addGetterSetter(Qe,"data");Xt.Factory.addGetterSetter(Qe,"fontFamily","Arial");Xt.Factory.addGetterSetter(Qe,"fontSize",12,(0,mg.getNumberValidator)());Xt.Factory.addGetterSetter(Qe,"fontStyle",gg);Xt.Factory.addGetterSetter(Qe,"align","left");Xt.Factory.addGetterSetter(Qe,"letterSpacing",0,(0,mg.getNumberValidator)());Xt.Factory.addGetterSetter(Qe,"textBaseline","middle");Xt.Factory.addGetterSetter(Qe,"fontVariant",gg);Xt.Factory.addGetterSetter(Qe,"text",c8);Xt.Factory.addGetterSetter(Qe,"textDecoration","");Xt.Factory.addGetterSetter(Qe,"kerningFunc",void 0);var fl={};Object.defineProperty(fl,"__esModule",{value:!0});fl.Transformer=void 0;const Ne=De,ke=ye,_0=Fe,u8=Ze,d8=Qs,w0=Ri,zt=ge,ar=fe,h8=ge,xg="tr-konva",f8=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${xg}`).join(" "),b0="nodesRect",p8=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],m8={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},g8="ontouchstart"in zt.Konva._global;function y8(t,e,n){if(t==="rotater")return n;e+=Ne.Util.degToRad(m8[t]||0);const r=(Ne.Util.radToDeg(e)%360+360)%360;return Ne.Util._inRange(r,315+22.5,360)||Ne.Util._inRange(r,0,22.5)?"ns-resize":Ne.Util._inRange(r,45-22.5,45+22.5)?"nesw-resize":Ne.Util._inRange(r,90-22.5,90+22.5)?"ew-resize":Ne.Util._inRange(r,135-22.5,135+22.5)?"nwse-resize":Ne.Util._inRange(r,180-22.5,180+22.5)?"ns-resize":Ne.Util._inRange(r,225-22.5,225+22.5)?"nesw-resize":Ne.Util._inRange(r,270-22.5,270+22.5)?"ew-resize":Ne.Util._inRange(r,315-22.5,315+22.5)?"nwse-resize":(Ne.Util.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}const vo=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function v8(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function _g(t,e,n){const r=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),i=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:r,y:i}}function x8(t,e){const n=v8(t);return _g(t,e,n)}function _8(t,e,n){let r=e;for(let i=0;i<t.length;i++){const s=zt.Konva.getAngle(t[i]),a=Math.abs(s-e)%(Math.PI*2);Math.min(a,Math.PI*2-a)<n&&(r=s)}return r}let Du=0;class _e extends w0.Group{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(f8,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return Ne.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return xg+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(i=>i.isAncestorOf(this)?(Ne.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{const s=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(i._attrsAffectingSize.length){const a=i._attrsAffectingSize.map(o=>o+"Change."+this._getEventNamespace()).join(" ");i.on(a,s)}i.on(p8.map(a=>a+`.${this._getEventNamespace()}`).join(" "),s),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,s),this._proxyDrag(i)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,r=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!n)return;const i=e.getAbsolutePosition(),s=i.x-n.x,a=i.y-n.y;this.nodes().forEach(o=>{if(o===e||o.isDragging())return;const l=o.getAbsolutePosition();o.setAbsolutePosition({x:l.x+s,y:l.y+a}),o.startDrag(r)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(b0),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(b0,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),r){const i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),s=e.getAbsoluteScale(r),a=e.getAbsolutePosition(r),o=i.x*s.x-e.offsetX()*s.x,l=i.y*s.y-e.offsetY()*s.y,c=(zt.Konva.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),u={x:a.x+o*Math.cos(c)+l*Math.sin(-c),y:a.y+l*Math.cos(c)+o*Math.sin(c),width:i.width*s.x,height:i.height*s.y,rotation:c};return _g(u,-zt.Konva.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const n=[];this.nodes().map(c=>{const u=c.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),y=[{x:u.x,y:u.y},{x:u.x+u.width,y:u.y},{x:u.x+u.width,y:u.y+u.height},{x:u.x,y:u.y+u.height}],v=c.getAbsoluteTransform();y.forEach(function(p){const h=v.point(p);n.push(h)})});const r=new Ne.Transform;r.rotate(-zt.Konva.getAngle(this.rotation()));let i=1/0,s=1/0,a=-1/0,o=-1/0;n.forEach(function(c){const u=r.point(c);i===void 0&&(i=a=u.x,s=o=u.y),i=Math.min(i,u.x),s=Math.min(s,u.y),a=Math.max(a,u.x),o=Math.max(o,u.y)}),r.invert();const l=r.point({x:i,y:s});return{x:l.x,y:l.y,width:a-i,height:o-s,rotation:zt.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),vo.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const n=new d8.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:g8?10:"auto"}),r=this;n.on("mousedown touchstart",function(i){r._handleMouseDown(i)}),n.on("dragstart",i=>{n.stopDrag(),i.cancelBubble=!0}),n.on("dragend",i=>{i.cancelBubble=!0}),n.on("mouseenter",()=>{const i=zt.Konva.getAngle(this.rotation()),s=this.rotateAnchorCursor(),a=y8(e,i,s);n.getStage().content&&(n.getStage().content.style.cursor=a),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const e=new u8.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(n,r){const i=r.getParent(),s=i.padding();n.beginPath(),n.rect(-s,-s,r.width()+s*2,r.height()+s*2),n.moveTo(r.width()/2,-s),i.rotateEnabled()&&i.rotateLineVisible()&&n.lineTo(r.width()/2,-i.rotateAnchorOffset()*Ne.Util._sign(r.height())-s),n.fillStrokeShape(r)},hitFunc:(n,r)=>{if(!this.shouldOverdrawWholeArea())return;const i=this.padding();n.beginPath(),n.rect(-i,-i,r.width()+i*2,r.height()+i*2),n.fillStrokeShape(r)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const n=this._getNodeRect(),r=n.width,i=n.height,s=Math.sqrt(Math.pow(r,2)+Math.pow(i,2));this.sin=Math.abs(i/s),this.cos=Math.abs(r/s),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const a=e.target.getAbsolutePosition(),o=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:o.x-a.x,y:o.y-a.y},Du++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:e.evt,target:l})})}_handleMouseMove(e){let n,r,i;const s=this.findOne("."+this._movingAnchorName),a=s.getStage();a.setPointersPositions(e);const o=a.getPointerPosition();let l={x:o.x-this._anchorDragOffset.x,y:o.y-this._anchorDragOffset.y};const c=s.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(c,l,e)),s.setAbsolutePosition(l);const u=s.getAbsolutePosition();if(c.x===u.x&&c.y===u.y)return;if(this._movingAnchorName==="rotater"){const x=this._getNodeRect();n=s.x()-x.width/2,r=-s.y()+x.height/2;let d=Math.atan2(-r,n)+Math.PI/2;x.height<0&&(d-=Math.PI);const b=zt.Konva.getAngle(this.rotation())+d,E=zt.Konva.getAngle(this.rotationSnapTolerance()),N=_8(this.rotationSnaps(),b,E)-x.rotation,R=x8(x,N);this._fitNodesInto(R,e);return}const y=this.shiftBehavior();let v;y==="inverted"?v=this.keepRatio()&&!e.shiftKey:y==="none"?v=this.keepRatio():v=this.keepRatio()||e.shiftKey;let p=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(v){const x=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(x.x-s.x(),2)+Math.pow(x.y-s.y(),2));const d=this.findOne(".top-left").x()>x.x?-1:1,w=this.findOne(".top-left").y()>x.y?-1:1;n=i*this.cos*d,r=i*this.sin*w,this.findOne(".top-left").x(x.x-n),this.findOne(".top-left").y(x.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(s.y());else if(this._movingAnchorName==="top-right"){if(v){const x=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(s.x()-x.x,2)+Math.pow(x.y-s.y(),2));const d=this.findOne(".top-right").x()<x.x?-1:1,w=this.findOne(".top-right").y()>x.y?-1:1;n=i*this.cos*d,r=i*this.sin*w,this.findOne(".top-right").x(x.x+n),this.findOne(".top-right").y(x.y-r)}var h=s.position();this.findOne(".top-left").y(h.y),this.findOne(".bottom-right").x(h.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(s.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(s.x());else if(this._movingAnchorName==="bottom-left"){if(v){const x=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(x.x-s.x(),2)+Math.pow(s.y()-x.y,2));const d=x.x<s.x()?-1:1,w=s.y()<x.y?-1:1;n=i*this.cos*d,r=i*this.sin*w,s.x(x.x-n),s.y(x.y+r)}h=s.position(),this.findOne(".top-left").x(h.x),this.findOne(".bottom-right").y(h.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(s.y());else if(this._movingAnchorName==="bottom-right"){if(v){const x=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(s.x()-x.x,2)+Math.pow(s.y()-x.y,2));const d=this.findOne(".bottom-right").x()<x.x?-1:1,w=this.findOne(".bottom-right").y()<x.y?-1:1;n=i*this.cos*d,r=i*this.sin*w,this.findOne(".bottom-right").x(x.x+n),this.findOne(".bottom-right").y(x.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(p=this.centeredScaling()||e.altKey,p){const x=this.findOne(".top-left"),d=this.findOne(".bottom-right"),w=x.x(),b=x.y(),E=this.getWidth()-d.x(),j=this.getHeight()-d.y();d.move({x:-w,y:-b}),x.move({x:E,y:j})}const m=this.findOne(".top-left").getAbsolutePosition();n=m.x,r=m.y;const _=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),g=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:r,width:_,height:g,rotation:zt.Konva.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const r=this.getNode();Du--,this._fire("transformend",{evt:e,target:r}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),r&&this._nodes.forEach(i=>{var s;i._fire("transformend",{evt:e,target:i}),(s=i.getLayer())===null||s===void 0||s.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){const r=this._getNodeRect(),i=1;if(Ne.Util._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(Ne.Util._inRange(e.height,-this.padding()*2-i,i)){this.update();return}const s=new Ne.Transform;if(s.rotate(zt.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const v=s.point({x:-this.padding()*2,y:0});e.x+=v.x,e.y+=v.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=v.x,this._anchorDragOffset.y-=v.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const v=s.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=v.x,this._anchorDragOffset.y-=v.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const v=s.point({x:0,y:-this.padding()*2});e.x+=v.x,e.y+=v.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=v.x,this._anchorDragOffset.y-=v.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const v=s.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=v.x,this._anchorDragOffset.y-=v.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const v=this.boundBoxFunc()(r,e);v?e=v:Ne.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const a=1e7,o=new Ne.Transform;o.translate(r.x,r.y),o.rotate(r.rotation),o.scale(r.width/a,r.height/a);const l=new Ne.Transform,c=e.width/a,u=e.height/a;this.flipEnabled()===!1?(l.translate(e.x,e.y),l.rotate(e.rotation),l.translate(e.width<0?e.width:0,e.height<0?e.height:0),l.scale(Math.abs(c),Math.abs(u))):(l.translate(e.x,e.y),l.rotate(e.rotation),l.scale(c,u));const y=l.multiply(o.invert());this._nodes.forEach(v=>{var p;const h=v.getParent().getAbsoluteTransform(),m=v.getTransform().copy();m.translate(v.offsetX(),v.offsetY());const _=new Ne.Transform;_.multiply(h.copy().invert()).multiply(y).multiply(h).multiply(m);const g=_.decompose();v.setAttrs(g),(p=v.getLayer())===null||p===void 0||p.batchDraw()}),this.rotation(Ne.Util._getRotation(e.rotation)),this._nodes.forEach(v=>{this._fire("transform",{evt:n,target:v}),v._fire("transform",{evt:n,target:v})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;const n=this._getNodeRect();this.rotation(Ne.Util._getRotation(n.rotation));const r=n.width,i=n.height,s=this.enabledAnchors(),a=this.resizeEnabled(),o=this.padding(),l=this.anchorSize(),c=this.find("._anchor");c.forEach(y=>{y.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+o,offsetY:l/2+o,visible:a&&s.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:l/2+o,visible:a&&s.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:l/2-o,offsetY:l/2+o,visible:a&&s.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:l/2+o,visible:a&&s.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:i/2,offsetX:l/2-o,visible:a&&s.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:l/2+o,offsetY:l/2-o,visible:a&&s.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:i,offsetY:l/2-o,visible:a&&s.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:i,offsetX:l/2-o,offsetY:l/2-o,visible:a&&s.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*Ne.Util._sign(i)-o,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const u=this.anchorStyleFunc();u&&c.forEach(y=>{u(y)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),w0.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return _0.Node.prototype.toObject.call(this)}clone(e){return _0.Node.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}fl.Transformer=_e;_e.isTransforming=()=>Du>0;function w8(t){return t instanceof Array||Ne.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){vo.indexOf(e)===-1&&Ne.Util.warn("Unknown anchor name: "+e+". Available names are: "+vo.join(", "))}),t||[]}_e.prototype.className="Transformer";(0,h8._registerNode)(_e);ke.Factory.addGetterSetter(_e,"enabledAnchors",vo,w8);ke.Factory.addGetterSetter(_e,"flipEnabled",!0,(0,ar.getBooleanValidator)());ke.Factory.addGetterSetter(_e,"resizeEnabled",!0);ke.Factory.addGetterSetter(_e,"anchorSize",10,(0,ar.getNumberValidator)());ke.Factory.addGetterSetter(_e,"rotateEnabled",!0);ke.Factory.addGetterSetter(_e,"rotateLineVisible",!0);ke.Factory.addGetterSetter(_e,"rotationSnaps",[]);ke.Factory.addGetterSetter(_e,"rotateAnchorOffset",50,(0,ar.getNumberValidator)());ke.Factory.addGetterSetter(_e,"rotateAnchorCursor","crosshair");ke.Factory.addGetterSetter(_e,"rotationSnapTolerance",5,(0,ar.getNumberValidator)());ke.Factory.addGetterSetter(_e,"borderEnabled",!0);ke.Factory.addGetterSetter(_e,"anchorStroke","rgb(0, 161, 255)");ke.Factory.addGetterSetter(_e,"anchorStrokeWidth",1,(0,ar.getNumberValidator)());ke.Factory.addGetterSetter(_e,"anchorFill","white");ke.Factory.addGetterSetter(_e,"anchorCornerRadius",0,(0,ar.getNumberValidator)());ke.Factory.addGetterSetter(_e,"borderStroke","rgb(0, 161, 255)");ke.Factory.addGetterSetter(_e,"borderStrokeWidth",1,(0,ar.getNumberValidator)());ke.Factory.addGetterSetter(_e,"borderDash");ke.Factory.addGetterSetter(_e,"keepRatio",!0);ke.Factory.addGetterSetter(_e,"shiftBehavior","default");ke.Factory.addGetterSetter(_e,"centeredScaling",!1);ke.Factory.addGetterSetter(_e,"ignoreStroke",!1);ke.Factory.addGetterSetter(_e,"padding",0,(0,ar.getNumberValidator)());ke.Factory.addGetterSetter(_e,"nodes");ke.Factory.addGetterSetter(_e,"node");ke.Factory.addGetterSetter(_e,"boundBoxFunc");ke.Factory.addGetterSetter(_e,"anchorDragBoundFunc");ke.Factory.addGetterSetter(_e,"anchorStyleFunc");ke.Factory.addGetterSetter(_e,"shouldOverdrawWholeArea",!1);ke.Factory.addGetterSetter(_e,"useSingleNodeRotation",!0);ke.Factory.backCompat(_e,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});var pl={};Object.defineProperty(pl,"__esModule",{value:!0});pl.Wedge=void 0;const ml=ye,b8=Ze,S8=ge,wg=fe,k8=ge;class jn extends b8.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,S8.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}pl.Wedge=jn;jn.prototype.className="Wedge";jn.prototype._centroid=!0;jn.prototype._attrsAffectingSize=["radius"];(0,k8._registerNode)(jn);ml.Factory.addGetterSetter(jn,"radius",0,(0,wg.getNumberValidator)());ml.Factory.addGetterSetter(jn,"angle",0,(0,wg.getNumberValidator)());ml.Factory.addGetterSetter(jn,"clockwise",!1);ml.Factory.backCompat(jn,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var gl={};Object.defineProperty(gl,"__esModule",{value:!0});gl.Blur=void 0;const S0=ye,C8=Fe,N8=fe;function k0(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const E8=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],j8=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function P8(t,e){const n=t.data,r=t.width,i=t.height;let s,a,o,l,c,u,y,v,p,h,m,_,g,x,d,w,b,E,j,N;const R=e+e+1,P=r-1,D=i-1,C=e+1,O=C*(C+1)/2,S=new k0,I=E8[e],Z=j8[e];let $=null,U=S,G=null,z=null;for(let F=1;F<R;F++)U=U.next=new k0,F===C&&($=U);U.next=S,o=a=0;for(let F=0;F<i;F++){_=g=x=d=l=c=u=y=0,v=C*(w=n[a]),p=C*(b=n[a+1]),h=C*(E=n[a+2]),m=C*(j=n[a+3]),l+=O*w,c+=O*b,u+=O*E,y+=O*j,U=S;for(let L=0;L<C;L++)U.r=w,U.g=b,U.b=E,U.a=j,U=U.next;for(let L=1;L<C;L++)s=a+((P<L?P:L)<<2),l+=(U.r=w=n[s])*(N=C-L),c+=(U.g=b=n[s+1])*N,u+=(U.b=E=n[s+2])*N,y+=(U.a=j=n[s+3])*N,_+=w,g+=b,x+=E,d+=j,U=U.next;G=S,z=$;for(let L=0;L<r;L++)n[a+3]=j=y*I>>Z,j!==0?(j=255/j,n[a]=(l*I>>Z)*j,n[a+1]=(c*I>>Z)*j,n[a+2]=(u*I>>Z)*j):n[a]=n[a+1]=n[a+2]=0,l-=v,c-=p,u-=h,y-=m,v-=G.r,p-=G.g,h-=G.b,m-=G.a,s=o+((s=L+e+1)<P?s:P)<<2,_+=G.r=n[s],g+=G.g=n[s+1],x+=G.b=n[s+2],d+=G.a=n[s+3],l+=_,c+=g,u+=x,y+=d,G=G.next,v+=w=z.r,p+=b=z.g,h+=E=z.b,m+=j=z.a,_-=w,g-=b,x-=E,d-=j,z=z.next,a+=4;o+=r}for(let F=0;F<r;F++){g=x=d=_=c=u=y=l=0,a=F<<2,v=C*(w=n[a]),p=C*(b=n[a+1]),h=C*(E=n[a+2]),m=C*(j=n[a+3]),l+=O*w,c+=O*b,u+=O*E,y+=O*j,U=S;for(let te=0;te<C;te++)U.r=w,U.g=b,U.b=E,U.a=j,U=U.next;let L=r;for(let te=1;te<=e;te++)a=L+F<<2,l+=(U.r=w=n[a])*(N=C-te),c+=(U.g=b=n[a+1])*N,u+=(U.b=E=n[a+2])*N,y+=(U.a=j=n[a+3])*N,_+=w,g+=b,x+=E,d+=j,U=U.next,te<D&&(L+=r);a=F,G=S,z=$;for(let te=0;te<i;te++)s=a<<2,n[s+3]=j=y*I>>Z,j>0?(j=255/j,n[s]=(l*I>>Z)*j,n[s+1]=(c*I>>Z)*j,n[s+2]=(u*I>>Z)*j):n[s]=n[s+1]=n[s+2]=0,l-=v,c-=p,u-=h,y-=m,v-=G.r,p-=G.g,h-=G.b,m-=G.a,s=F+((s=te+C)<D?s:D)*r<<2,l+=_+=G.r=n[s],c+=g+=G.g=n[s+1],u+=x+=G.b=n[s+2],y+=d+=G.a=n[s+3],G=G.next,v+=w=z.r,p+=b=z.g,h+=E=z.b,m+=j=z.a,_-=w,g-=b,x-=E,d-=j,z=z.next,a+=r}}const T8=function(e){const n=Math.round(this.blurRadius());n>0&&P8(e,n)};gl.Blur=T8;S0.Factory.addGetterSetter(C8.Node,"blurRadius",0,(0,N8.getNumberValidator)(),S0.Factory.afterSetFilter);var yl={};Object.defineProperty(yl,"__esModule",{value:!0});yl.Brighten=void 0;const C0=ye,R8=Fe,A8=fe,O8=function(t){const e=this.brightness()*255,n=t.data,r=n.length;for(let i=0;i<r;i+=4)n[i]+=e,n[i+1]+=e,n[i+2]+=e};yl.Brighten=O8;C0.Factory.addGetterSetter(R8.Node,"brightness",0,(0,A8.getNumberValidator)(),C0.Factory.afterSetFilter);var vl={};Object.defineProperty(vl,"__esModule",{value:!0});vl.Contrast=void 0;const N0=ye,F8=Fe,L8=fe,I8=function(t){const e=Math.pow((this.contrast()+100)/100,2),n=t.data,r=n.length;let i=150,s=150,a=150;for(let o=0;o<r;o+=4)i=n[o],s=n[o+1],a=n[o+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,a/=255,a-=.5,a*=e,a+=.5,a*=255,i=i<0?0:i>255?255:i,s=s<0?0:s>255?255:s,a=a<0?0:a>255?255:a,n[o]=i,n[o+1]=s,n[o+2]=a};vl.Contrast=I8;N0.Factory.addGetterSetter(F8.Node,"contrast",0,(0,L8.getNumberValidator)(),N0.Factory.afterSetFilter);var xl={};Object.defineProperty(xl,"__esModule",{value:!0});xl.Emboss=void 0;const qn=ye,_l=Fe,M8=De,bg=fe,D8=function(t){const e=this.embossStrength()*10,n=this.embossWhiteLevel()*255,r=this.embossDirection(),i=this.embossBlend(),s=t.data,a=t.width,o=t.height,l=a*4;let c=0,u=0,y=o;switch(r){case"top-left":c=-1,u=-1;break;case"top":c=-1,u=0;break;case"top-right":c=-1,u=1;break;case"right":c=0,u=1;break;case"bottom-right":c=1,u=1;break;case"bottom":c=1,u=0;break;case"bottom-left":c=1,u=-1;break;case"left":c=0,u=-1;break;default:M8.Util.error("Unknown emboss direction: "+r)}do{const v=(y-1)*l;let p=c;y+p<1&&(p=0),y+p>o&&(p=0);const h=(y-1+p)*a*4;let m=a;do{const _=v+(m-1)*4;let g=u;m+g<1&&(g=0),m+g>a&&(g=0);const x=h+(m-1+g)*4,d=s[_]-s[x],w=s[_+1]-s[x+1],b=s[_+2]-s[x+2];let E=d;const j=E>0?E:-E,N=w>0?w:-w,R=b>0?b:-b;if(N>j&&(E=w),R>j&&(E=b),E*=e,i){const P=s[_]+E,D=s[_+1]+E,C=s[_+2]+E;s[_]=P>255?255:P<0?0:P,s[_+1]=D>255?255:D<0?0:D,s[_+2]=C>255?255:C<0?0:C}else{let P=n-E;P<0?P=0:P>255&&(P=255),s[_]=s[_+1]=s[_+2]=P}}while(--m)}while(--y)};xl.Emboss=D8;qn.Factory.addGetterSetter(_l.Node,"embossStrength",.5,(0,bg.getNumberValidator)(),qn.Factory.afterSetFilter);qn.Factory.addGetterSetter(_l.Node,"embossWhiteLevel",.5,(0,bg.getNumberValidator)(),qn.Factory.afterSetFilter);qn.Factory.addGetterSetter(_l.Node,"embossDirection","top-left",void 0,qn.Factory.afterSetFilter);qn.Factory.addGetterSetter(_l.Node,"embossBlend",!1,void 0,qn.Factory.afterSetFilter);var wl={};Object.defineProperty(wl,"__esModule",{value:!0});wl.Enhance=void 0;const E0=ye,z8=Fe,U8=fe;function Cc(t,e,n,r,i){const s=n-e,a=i-r;if(s===0)return r+a/2;if(a===0)return r;let o=(t-e)/s;return o=a*o+r,o}const B8=function(t){const e=t.data,n=e.length;let r=e[0],i=r,s,a=e[1],o=a,l,c=e[2],u=c,y;const v=this.enhance();if(v===0)return;for(let d=0;d<n;d+=4)s=e[d+0],s<r?r=s:s>i&&(i=s),l=e[d+1],l<a?a=l:l>o&&(o=l),y=e[d+2],y<c?c=y:y>u&&(u=y);i===r&&(i=255,r=0),o===a&&(o=255,a=0),u===c&&(u=255,c=0);let p,h,m,_,g,x;if(v>0)p=i+v*(255-i),h=r-v*(r-0),m=o+v*(255-o),_=a-v*(a-0),g=u+v*(255-u),x=c-v*(c-0);else{const d=(i+r)*.5;p=i+v*(i-d),h=r+v*(r-d);const w=(o+a)*.5;m=o+v*(o-w),_=a+v*(a-w);const b=(u+c)*.5;g=u+v*(u-b),x=c+v*(c-b)}for(let d=0;d<n;d+=4)e[d+0]=Cc(e[d+0],r,i,h,p),e[d+1]=Cc(e[d+1],a,o,_,m),e[d+2]=Cc(e[d+2],c,u,x,g)};wl.Enhance=B8;E0.Factory.addGetterSetter(z8.Node,"enhance",0,(0,U8.getNumberValidator)(),E0.Factory.afterSetFilter);var bl={};Object.defineProperty(bl,"__esModule",{value:!0});bl.Grayscale=void 0;const G8=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const i=.34*e[r]+.5*e[r+1]+.16*e[r+2];e[r]=i,e[r+1]=i,e[r+2]=i}};bl.Grayscale=G8;var Sl={};Object.defineProperty(Sl,"__esModule",{value:!0});Sl.HSL=void 0;const vi=ye,ih=Fe,sh=fe;vi.Factory.addGetterSetter(ih.Node,"hue",0,(0,sh.getNumberValidator)(),vi.Factory.afterSetFilter);vi.Factory.addGetterSetter(ih.Node,"saturation",0,(0,sh.getNumberValidator)(),vi.Factory.afterSetFilter);vi.Factory.addGetterSetter(ih.Node,"luminance",0,(0,sh.getNumberValidator)(),vi.Factory.afterSetFilter);const H8=function(t){const e=t.data,n=e.length,r=1,i=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,a=this.luminance()*127,o=r*i*Math.cos(s*Math.PI/180),l=r*i*Math.sin(s*Math.PI/180),c=.299*r+.701*o+.167*l,u=.587*r-.587*o+.33*l,y=.114*r-.114*o-.497*l,v=.299*r-.299*o-.328*l,p=.587*r+.413*o+.035*l,h=.114*r-.114*o+.293*l,m=.299*r-.3*o+1.25*l,_=.587*r-.586*o-1.05*l,g=.114*r+.886*o-.2*l;let x,d,w,b;for(let E=0;E<n;E+=4)x=e[E+0],d=e[E+1],w=e[E+2],b=e[E+3],e[E+0]=c*x+u*d+y*w+a,e[E+1]=v*x+p*d+h*w+a,e[E+2]=m*x+_*d+g*w+a,e[E+3]=b};Sl.HSL=H8;var kl={};Object.defineProperty(kl,"__esModule",{value:!0});kl.HSV=void 0;const xi=ye,ah=Fe,oh=fe,$8=function(t){const e=t.data,n=e.length,r=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,a=r*i*Math.cos(s*Math.PI/180),o=r*i*Math.sin(s*Math.PI/180),l=.299*r+.701*a+.167*o,c=.587*r-.587*a+.33*o,u=.114*r-.114*a-.497*o,y=.299*r-.299*a-.328*o,v=.587*r+.413*a+.035*o,p=.114*r-.114*a+.293*o,h=.299*r-.3*a+1.25*o,m=.587*r-.586*a-1.05*o,_=.114*r+.886*a-.2*o;for(let g=0;g<n;g+=4){const x=e[g+0],d=e[g+1],w=e[g+2],b=e[g+3];e[g+0]=l*x+c*d+u*w,e[g+1]=y*x+v*d+p*w,e[g+2]=h*x+m*d+_*w,e[g+3]=b}};kl.HSV=$8;xi.Factory.addGetterSetter(ah.Node,"hue",0,(0,oh.getNumberValidator)(),xi.Factory.afterSetFilter);xi.Factory.addGetterSetter(ah.Node,"saturation",0,(0,oh.getNumberValidator)(),xi.Factory.afterSetFilter);xi.Factory.addGetterSetter(ah.Node,"value",0,(0,oh.getNumberValidator)(),xi.Factory.afterSetFilter);var Cl={};Object.defineProperty(Cl,"__esModule",{value:!0});Cl.Invert=void 0;const V8=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]};Cl.Invert=V8;var Nl={};Object.defineProperty(Nl,"__esModule",{value:!0});Nl.Kaleidoscope=void 0;const xo=ye,Sg=Fe,j0=De,kg=fe,W8=function(t,e,n){const r=t.data,i=e.data,s=t.width,a=t.height,o=n.polarCenterX||s/2,l=n.polarCenterY||a/2;let c=Math.sqrt(o*o+l*l),u=s-o,y=a-l;const v=Math.sqrt(u*u+y*y);c=v>c?v:c;const p=a,h=s,m=360/h*Math.PI/180;for(let _=0;_<h;_+=1){const g=Math.sin(_*m),x=Math.cos(_*m);for(let d=0;d<p;d+=1){u=Math.floor(o+c*d/p*x),y=Math.floor(l+c*d/p*g);let w=(y*s+u)*4;const b=r[w+0],E=r[w+1],j=r[w+2],N=r[w+3];w=(_+d*s)*4,i[w+0]=b,i[w+1]=E,i[w+2]=j,i[w+3]=N}}},K8=function(t,e,n){const r=t.data,i=e.data,s=t.width,a=t.height,o=n.polarCenterX||s/2,l=n.polarCenterY||a/2;let c=Math.sqrt(o*o+l*l),u=s-o,y=a-l;const v=Math.sqrt(u*u+y*y);c=v>c?v:c;const p=a,h=s,m=0;let _,g;for(u=0;u<s;u+=1)for(y=0;y<a;y+=1){const x=u-o,d=y-l,w=Math.sqrt(x*x+d*d)*p/c;let b=(Math.atan2(d,x)*180/Math.PI+360+m)%360;b=b*h/360,_=Math.floor(b),g=Math.floor(w);let E=(g*s+_)*4;const j=r[E+0],N=r[E+1],R=r[E+2],P=r[E+3];E=(y*s+u)*4,i[E+0]=j,i[E+1]=N,i[E+2]=R,i[E+3]=P}},Y8=function(t){const e=t.width,n=t.height;let r,i,s,a,o,l,c,u,y,v,p=Math.round(this.kaleidoscopePower());const h=Math.round(this.kaleidoscopeAngle()),m=Math.floor(e*(h%360)/360);if(p<1)return;const _=j0.Util.createCanvasElement();_.width=e,_.height=n;const g=_.getContext("2d").getImageData(0,0,e,n);j0.Util.releaseCanvas(_),W8(t,g,{polarCenterX:e/2,polarCenterY:n/2});let x=e/Math.pow(2,p);for(;x<=8;)x=x*2,p-=1;x=Math.ceil(x);let d=x,w=0,b=d,E=1;for(m+x>e&&(w=d,b=0,E=-1),i=0;i<n;i+=1)for(r=w;r!==b;r+=E)s=Math.round(r+m)%e,y=(e*i+s)*4,o=g.data[y+0],l=g.data[y+1],c=g.data[y+2],u=g.data[y+3],v=(e*i+r)*4,g.data[v+0]=o,g.data[v+1]=l,g.data[v+2]=c,g.data[v+3]=u;for(i=0;i<n;i+=1)for(d=Math.floor(x),a=0;a<p;a+=1){for(r=0;r<d+1;r+=1)y=(e*i+r)*4,o=g.data[y+0],l=g.data[y+1],c=g.data[y+2],u=g.data[y+3],v=(e*i+d*2-r-1)*4,g.data[v+0]=o,g.data[v+1]=l,g.data[v+2]=c,g.data[v+3]=u;d*=2}K8(g,t,{})};Nl.Kaleidoscope=Y8;xo.Factory.addGetterSetter(Sg.Node,"kaleidoscopePower",2,(0,kg.getNumberValidator)(),xo.Factory.afterSetFilter);xo.Factory.addGetterSetter(Sg.Node,"kaleidoscopeAngle",0,(0,kg.getNumberValidator)(),xo.Factory.afterSetFilter);var El={};Object.defineProperty(El,"__esModule",{value:!0});El.Mask=void 0;const P0=ye,X8=Fe,q8=fe;function Ca(t,e,n){let r=(n*t.width+e)*4;const i=[];return i.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),i}function qi(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function Z8(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function Q8(t,e){const n=Ca(t,0,0),r=Ca(t,t.width-1,0),i=Ca(t,0,t.height-1),s=Ca(t,t.width-1,t.height-1),a=e||10;if(qi(n,r)<a&&qi(r,s)<a&&qi(s,i)<a&&qi(i,n)<a){const o=Z8([r,n,s,i]),l=[];for(let c=0;c<t.width*t.height;c++){const u=qi(o,[t.data[c*4],t.data[c*4+1],t.data[c*4+2]]);l[c]=u<a?0:255}return l}}function J8(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function e_(t,e,n){const r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),a=[];for(let o=0;o<n;o++)for(let l=0;l<e;l++){const c=o*e+l;let u=0;for(let y=0;y<i;y++)for(let v=0;v<i;v++){const p=o+y-s,h=l+v-s;if(p>=0&&p<n&&h>=0&&h<e){const m=p*e+h,_=r[y*i+v];u+=t[m]*_}}a[c]=u===255*8?255:0}return a}function t_(t,e,n){const r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),a=[];for(let o=0;o<n;o++)for(let l=0;l<e;l++){const c=o*e+l;let u=0;for(let y=0;y<i;y++)for(let v=0;v<i;v++){const p=o+y-s,h=l+v-s;if(p>=0&&p<n&&h>=0&&h<e){const m=p*e+h,_=r[y*i+v];u+=t[m]*_}}a[c]=u>=255*4?255:0}return a}function n_(t,e,n){const r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),a=[];for(let o=0;o<n;o++)for(let l=0;l<e;l++){const c=o*e+l;let u=0;for(let y=0;y<i;y++)for(let v=0;v<i;v++){const p=o+y-s,h=l+v-s;if(p>=0&&p<n&&h>=0&&h<e){const m=p*e+h,_=r[y*i+v];u+=t[m]*_}}a[c]=u}return a}const r_=function(t){const e=this.threshold();let n=Q8(t,e);return n&&(n=e_(n,t.width,t.height),n=t_(n,t.width,t.height),n=n_(n,t.width,t.height),J8(t,n)),t};El.Mask=r_;P0.Factory.addGetterSetter(X8.Node,"threshold",0,(0,q8.getNumberValidator)(),P0.Factory.afterSetFilter);var jl={};Object.defineProperty(jl,"__esModule",{value:!0});jl.Noise=void 0;const T0=ye,i_=Fe,s_=fe,a_=function(t){const e=this.noise()*255,n=t.data,r=n.length,i=e/2;for(let s=0;s<r;s+=4)n[s+0]+=i-2*i*Math.random(),n[s+1]+=i-2*i*Math.random(),n[s+2]+=i-2*i*Math.random()};jl.Noise=a_;T0.Factory.addGetterSetter(i_.Node,"noise",.2,(0,s_.getNumberValidator)(),T0.Factory.afterSetFilter);var Pl={};Object.defineProperty(Pl,"__esModule",{value:!0});Pl.Pixelate=void 0;const R0=ye,o_=De,l_=Fe,c_=fe,u_=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,r=t.height,i=Math.ceil(n/e),s=Math.ceil(r/e),a=t.data;if(e<=0){o_.Util.error("pixelSize value can not be <= 0");return}for(let o=0;o<i;o+=1)for(let l=0;l<s;l+=1){let c=0,u=0,y=0,v=0;const p=o*e,h=p+e,m=l*e,_=m+e;let g=0;for(let x=p;x<h;x+=1)if(!(x>=n))for(let d=m;d<_;d+=1){if(d>=r)continue;const w=(n*d+x)*4;c+=a[w+0],u+=a[w+1],y+=a[w+2],v+=a[w+3],g+=1}c=c/g,u=u/g,y=y/g,v=v/g;for(let x=p;x<h;x+=1)if(!(x>=n))for(let d=m;d<_;d+=1){if(d>=r)continue;const w=(n*d+x)*4;a[w+0]=c,a[w+1]=u,a[w+2]=y,a[w+3]=v}}};Pl.Pixelate=u_;R0.Factory.addGetterSetter(l_.Node,"pixelSize",8,(0,c_.getNumberValidator)(),R0.Factory.afterSetFilter);var Tl={};Object.defineProperty(Tl,"__esModule",{value:!0});Tl.Posterize=void 0;const A0=ye,d_=Fe,h_=fe,f_=function(t){const e=Math.round(this.levels()*254)+1,n=t.data,r=n.length,i=255/e;for(let s=0;s<r;s+=1)n[s]=Math.floor(n[s]/i)*i};Tl.Posterize=f_;A0.Factory.addGetterSetter(d_.Node,"levels",.5,(0,h_.getNumberValidator)(),A0.Factory.afterSetFilter);var Rl={};Object.defineProperty(Rl,"__esModule",{value:!0});Rl.RGB=void 0;const _o=ye,lh=Fe,p_=fe,m_=function(t){const e=t.data,n=e.length,r=this.red(),i=this.green(),s=this.blue();for(let a=0;a<n;a+=4){const o=(.34*e[a]+.5*e[a+1]+.16*e[a+2])/255;e[a]=o*r,e[a+1]=o*i,e[a+2]=o*s,e[a+3]=e[a+3]}};Rl.RGB=m_;_o.Factory.addGetterSetter(lh.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});_o.Factory.addGetterSetter(lh.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});_o.Factory.addGetterSetter(lh.Node,"blue",0,p_.RGBComponent,_o.Factory.afterSetFilter);var Al={};Object.defineProperty(Al,"__esModule",{value:!0});Al.RGBA=void 0;const Is=ye,Ol=Fe,g_=fe,y_=function(t){const e=t.data,n=e.length,r=this.red(),i=this.green(),s=this.blue(),a=this.alpha();for(let o=0;o<n;o+=4){const l=1-a;e[o]=r*a+e[o]*l,e[o+1]=i*a+e[o+1]*l,e[o+2]=s*a+e[o+2]*l}};Al.RGBA=y_;Is.Factory.addGetterSetter(Ol.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Is.Factory.addGetterSetter(Ol.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Is.Factory.addGetterSetter(Ol.Node,"blue",0,g_.RGBComponent,Is.Factory.afterSetFilter);Is.Factory.addGetterSetter(Ol.Node,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});var Fl={};Object.defineProperty(Fl,"__esModule",{value:!0});Fl.Sepia=void 0;const v_=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const i=e[r+0],s=e[r+1],a=e[r+2];e[r+0]=Math.min(255,i*.393+s*.769+a*.189),e[r+1]=Math.min(255,i*.349+s*.686+a*.168),e[r+2]=Math.min(255,i*.272+s*.534+a*.131)}};Fl.Sepia=v_;var Ll={};Object.defineProperty(Ll,"__esModule",{value:!0});Ll.Solarize=void 0;const x_=function(t){const e=t.data,n=t.width,r=t.height,i=n*4;let s=r;do{const a=(s-1)*i;let o=n;do{const l=a+(o-1)*4;let c=e[l],u=e[l+1],y=e[l+2];c>127&&(c=255-c),u>127&&(u=255-u),y>127&&(y=255-y),e[l]=c,e[l+1]=u,e[l+2]=y}while(--o)}while(--s)};Ll.Solarize=x_;var Il={};Object.defineProperty(Il,"__esModule",{value:!0});Il.Threshold=void 0;const O0=ye,__=Fe,w_=fe,b_=function(t){const e=this.threshold()*255,n=t.data,r=n.length;for(let i=0;i<r;i+=1)n[i]=n[i]<e?0:255};Il.Threshold=b_;O0.Factory.addGetterSetter(__.Node,"threshold",.5,(0,w_.getNumberValidator)(),O0.Factory.afterSetFilter);Object.defineProperty(Wo,"__esModule",{value:!0});Wo.Konva=void 0;const F0=Vm,S_=Zo,k_=el,C_=rl,N_=il,E_=sl,L0=yi,j_=qs,P_=Oi,T_=Qs,R_=ll,A_=cl,O_=ul,F_=dl,L_=Li,I_=hl,M_=fl,D_=pl,z_=gl,U_=yl,B_=vl,G_=xl,H_=wl,$_=bl,V_=Sl,W_=kl,K_=Cl,Y_=Nl,X_=El,q_=jl,Z_=Pl,Q_=Tl,J_=Rl,ew=Al,tw=Fl,nw=Ll,rw=Il;Wo.Konva=F0.Konva.Util._assign(F0.Konva,{Arc:S_.Arc,Arrow:k_.Arrow,Circle:C_.Circle,Ellipse:N_.Ellipse,Image:E_.Image,Label:L0.Label,Tag:L0.Tag,Line:j_.Line,Path:P_.Path,Rect:T_.Rect,RegularPolygon:R_.RegularPolygon,Ring:A_.Ring,Sprite:O_.Sprite,Star:F_.Star,Text:L_.Text,TextPath:I_.TextPath,Transformer:M_.Transformer,Wedge:D_.Wedge,Filters:{Blur:z_.Blur,Brighten:U_.Brighten,Contrast:B_.Contrast,Emboss:G_.Emboss,Enhance:H_.Enhance,Grayscale:$_.Grayscale,HSL:V_.HSL,HSV:W_.HSV,Invert:K_.Invert,Kaleidoscope:Y_.Kaleidoscope,Mask:X_.Mask,Noise:q_.Noise,Pixelate:Z_.Pixelate,Posterize:Q_.Posterize,RGB:J_.RGB,RGBA:ew.RGBA,Sepia:tw.Sepia,Solarize:nw.Solarize,Threshold:rw.Threshold}});var iw=Kd.exports;Object.defineProperty(iw,"__esModule",{value:!0});const sw=Wo;Kd.exports=sw.Konva;var aw=Kd.exports;const dn=wo(aw);function ow(){var R;const{projectId:t}=em(),e=kn(),[n,r]=X.useState(null),[i,s]=X.useState(!0),[a,o]=X.useState(!1),[l,c]=X.useState(0),[u,y]=X.useState(new Set),[v,p]=X.useState(new Map),[h,m]=X.useState(!1);X.useEffect(()=>{if(!t)return;(async()=>{var D;try{const O=(await gi.getById(t)).data.data;r(O);const S=((D=O.template)==null?void 0:D.jsonConfig.exports)||[];y(new Set(S.map(z=>`${z.name}-${z.width}x${z.height}`)));const Z=(O.projectConfig.slides||[{id:"default",canvas:O.projectConfig.canvas,layers:O.projectConfig.layers}]).flatMap(z=>z.layers.filter(F=>F.type==="image"||F.type==="screenshot").map(F=>F.properties.src)).filter(Boolean),U=[...new Set(Z)].map(z=>new Promise(F=>{const L=new window.Image;L.crossOrigin="anonymous",L.onload=()=>F([z,L]),L.onerror=()=>F([z,L]),L.src=z})),G=await Promise.all(U);p(new Map(G))}catch(C){console.error("Failed to fetch project:",C),e("/dashboard")}finally{s(!1)}})()},[t,e]);const _=P=>{y(D=>{const C=new Set(D);return C.has(P)?C.delete(P):C.add(P),C})},g=P=>{var O;const C=(((O=n==null?void 0:n.template)==null?void 0:O.jsonConfig.exports)||[]).filter(S=>S.platform===P);y(S=>{const I=new Set(S);return C.forEach(Z=>{I.add(`${Z.name}-${Z.width}x${Z.height}`)}),I})},x=X.useCallback(async(P,D,C)=>{const O=C.width/P.width,S=C.height/P.height,I=document.createElement("div");document.body.appendChild(I);const Z=new dn.Stage({container:I,width:C.width,height:C.height}),$=new dn.Layer;Z.add($);const U=new dn.Rect({x:0,y:0,width:C.width,height:C.height,fill:P.backgroundColor});$.add(U);const G=[...D].sort((z,F)=>z.zIndex-F.zIndex);for(const z of G){if(!z.visible)continue;const F=z.x*O,L=z.y*S,te=z.width*O,J=z.height*S,Q=z.type==="shape"&&z.x===0&&z.y===0&&z.width===P.width&&z.height===P.height;if(z.type==="shape"){const ae=z.properties,M=new dn.Rect({x:Q?0:F,y:Q?0:L,width:Q?C.width:te,height:Q?C.height:J,fill:ae.fill,cornerRadius:(ae.cornerRadius||0)*Math.min(O,S),opacity:z.opacity,rotation:z.rotation,offsetX:Q?0:te/2,offsetY:Q?0:J/2});$.add(M)}if(z.type==="text"){const ae=z.properties,M=new dn.Text({x:F,y:L,width:te,text:ae.content,fontSize:ae.fontSize*Math.min(O,S),fontFamily:ae.fontFamily,fontStyle:ae.fontWeight==="700"?"bold":ae.fontWeight==="600"?"600":"normal",fill:ae.color,align:ae.align,lineHeight:ae.lineHeight,opacity:z.opacity,rotation:z.rotation,offsetX:te/2,offsetY:0});$.add(M)}if(z.type==="image"||z.type==="screenshot"){const ae=z.properties,M=v.get(ae.src);if(M&&M.complete&&M.naturalWidth>0){if(ae.shadow){const ue=new dn.Rect({x:F+(ae.shadowOffsetX||0)*O,y:L+(ae.shadowOffsetY||0)*S,width:te,height:J,fill:ae.shadowColor||"rgba(0,0,0,0.3)",cornerRadius:(ae.borderRadius||0)*Math.min(O,S),opacity:z.opacity*.5,offsetX:te/2,offsetY:J/2});ue.filters([dn.Filters.Blur]),ue.blurRadius((ae.shadowBlur||20)*Math.min(O,S)),ue.cache(),$.add(ue)}const Y=new dn.Group({x:F,y:L,offsetX:te/2,offsetY:J/2,rotation:z.rotation,opacity:z.opacity});ae.borderRadius&&ae.borderRadius>0&&Y.clipFunc(ue=>{const ce=(ae.borderRadius||0)*Math.min(O,S);ue.beginPath(),ue.moveTo(ce,0),ue.lineTo(te-ce,0),ue.arcTo(te,0,te,ce,ce),ue.lineTo(te,J-ce),ue.arcTo(te,J,te-ce,J,ce),ue.lineTo(ce,J),ue.arcTo(0,J,0,J-ce,ce),ue.lineTo(0,ce),ue.arcTo(0,0,ce,0,ce),ue.closePath()});const ie=new dn.Image({x:0,y:0,width:te,height:J,image:M});Y.add(ie),$.add(Y)}}}return $.draw(),new Promise(z=>{try{Z.toBlob({callback:F=>{Z.destroy(),I.remove(),z(F)},mimeType:"image/png",pixelRatio:1})}catch(F){console.error("Export error:",F),Z.destroy(),I.remove(),z(null)}})},[v]),d=async()=>{var $;if(!n||u.size===0)return;o(!0),c(0);const P=new rx,C=((($=n.template)==null?void 0:$.jsonConfig.exports)||[]).filter(U=>u.has(`${U.name}-${U.width}x${U.height}`)),O=n.projectConfig.slides||[{id:"default",canvas:n.projectConfig.canvas,layers:n.projectConfig.layers}],S=C.length*O.length;let I=0;for(let U=0;U<O.length;U++){const G=O[U];for(const z of C){const F=await x(G.canvas,G.layers,z);if(F){const L=`${n.name.replace(/[^a-z0-9]/gi,"_")}_slide${U+1}_${z.name.replace(/[^a-z0-9]/gi,"_")}_${z.width}x${z.height}.png`;P.file(L,F)}I++,c(I/S*100)}}const Z=await P.generateAsync({type:"blob"});ix.saveAs(Z,`${n.name.replace(/[^a-z0-9]/gi,"_")}_screenshots.zip`),o(!1),m(!0),setTimeout(()=>m(!1),3e3)};if(i)return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-emerald-50/30 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"relative inline-block",children:[f.jsx("div",{className:"w-16 h-16 border-4 border-emerald-200 rounded-full animate-spin border-t-emerald-500"}),f.jsx("div",{className:"absolute inset-0 w-16 h-16 border-4 border-transparent rounded-full animate-ping border-t-emerald-500/30"})]}),f.jsx("p",{className:"mt-6 text-slate-500 animate-pulse",children:"Preparing export..."})]})});const w=((R=n==null?void 0:n.template)==null?void 0:R.jsonConfig.exports)||[],b=w.filter(P=>P.platform==="ios"),E=w.filter(P=>P.platform==="android"),j=(n==null?void 0:n.projectConfig.slides)||[{id:"default",canvas:n==null?void 0:n.projectConfig.canvas,layers:n==null?void 0:n.projectConfig.layers}],N=u.size*j.length;return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-emerald-50/30",children:[f.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[f.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-emerald-400/10 rounded-full blur-3xl animate-float-slow"}),f.jsx("div",{className:"absolute top-1/2 -left-20 w-72 h-72 bg-blue-400/10 rounded-full blur-3xl animate-float-slower"})]}),f.jsx("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-xl border-b border-slate-200/80",children:f.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsx("div",{className:"flex items-center justify-between h-16",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(an,{to:`/editor/${t}`,className:"p-2 text-slate-500 hover:text-slate-700 hover:bg-slate-100 rounded-xl transition-colors",children:f.jsx(dm,{className:"w-5 h-5"})}),f.jsx("div",{className:"h-8 w-px bg-slate-200"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-xl shadow-lg shadow-emerald-500/20",children:f.jsx(ku,{className:"w-5 h-5 text-white"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-lg font-bold text-slate-800",children:"Export Screenshots"}),f.jsx("p",{className:"text-sm text-slate-500",children:n==null?void 0:n.name})]})]})]})})})}),f.jsx("div",{className:"relative max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[f.jsxs("div",{className:"p-6 bg-white/70 backdrop-blur-sm border border-slate-200/80 rounded-2xl animate-slide-up",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[f.jsx("div",{className:"p-3 bg-emerald-100 rounded-xl",children:f.jsx(gm,{className:"w-6 h-6 text-emerald-600"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Export Summary"}),f.jsx("p",{className:"text-sm text-slate-500",children:"Select sizes for your screenshots"})]})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[f.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl text-center",children:[f.jsx("p",{className:"text-3xl font-bold text-slate-800",children:j.length}),f.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Slides"})]}),f.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl text-center",children:[f.jsx("p",{className:"text-3xl font-bold text-emerald-600",children:u.size}),f.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Sizes Selected"})]}),f.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl text-center",children:[f.jsx("p",{className:"text-3xl font-bold text-blue-600",children:N}),f.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Total Images"})]})]})]}),b.length>0&&f.jsxs("div",{className:"p-6 bg-white/70 backdrop-blur-sm border border-slate-200/80 rounded-2xl animate-slide-up",style:{animationDelay:"0.1s"},children:[f.jsxs("div",{className:"flex items-center justify-between mb-5",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2.5 bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl shadow-lg",children:f.jsx(Da,{className:"w-5 h-5 text-white"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-slate-800",children:"iOS App Store"}),f.jsxs("p",{className:"text-sm text-slate-500",children:[b.length," sizes available"]})]})]}),f.jsx("button",{onClick:()=>g("ios"),className:"px-4 py-2 text-sm font-medium text-emerald-600 hover:text-emerald-700 hover:bg-emerald-50 rounded-lg transition-colors",children:"Select All"})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:b.map(P=>{const D=`${P.name}-${P.width}x${P.height}`,C=u.has(D);return f.jsxs("button",{onClick:()=>_(D),className:`
                          group relative flex items-center gap-3 p-4 rounded-xl border-2 transition-all duration-300
                          ${C?"bg-gradient-to-r from-slate-800 to-slate-900 border-slate-700 shadow-lg shadow-slate-500/10":"bg-white border-slate-200 hover:border-slate-300 hover:shadow-md"}
                        `,children:[f.jsx("div",{className:`
                          w-6 h-6 rounded-lg flex items-center justify-center transition-all duration-300
                          ${C?"bg-emerald-500 shadow-lg shadow-emerald-500/30":"bg-slate-100 group-hover:bg-slate-200"}
                        `,children:C&&f.jsx(Sr,{className:"w-4 h-4 text-white"})}),f.jsxs("div",{className:"text-left flex-1",children:[f.jsx("p",{className:`font-semibold ${C?"text-white":"text-slate-700"}`,children:P.name}),f.jsxs("p",{className:`text-sm ${C?"text-slate-300":"text-slate-500"}`,children:[P.width,"  ",P.height]})]})]},D)})})]}),E.length>0&&f.jsxs("div",{className:"p-6 bg-white/70 backdrop-blur-sm border border-slate-200/80 rounded-2xl animate-slide-up",style:{animationDelay:"0.15s"},children:[f.jsxs("div",{className:"flex items-center justify-between mb-5",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2.5 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl shadow-lg shadow-emerald-500/30",children:f.jsx(sn,{className:"w-5 h-5 text-white"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-slate-800",children:"Google Play Store"}),f.jsxs("p",{className:"text-sm text-slate-500",children:[E.length," sizes available"]})]})]}),f.jsx("button",{onClick:()=>g("android"),className:"px-4 py-2 text-sm font-medium text-emerald-600 hover:text-emerald-700 hover:bg-emerald-50 rounded-lg transition-colors",children:"Select All"})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:E.map(P=>{const D=`${P.name}-${P.width}x${P.height}`,C=u.has(D);return f.jsxs("button",{onClick:()=>_(D),className:`
                          group relative flex items-center gap-3 p-4 rounded-xl border-2 transition-all duration-300
                          ${C?"bg-gradient-to-r from-emerald-500 to-emerald-600 border-emerald-400 shadow-lg shadow-emerald-500/20":"bg-white border-slate-200 hover:border-emerald-300 hover:shadow-md"}
                        `,children:[f.jsx("div",{className:`
                          w-6 h-6 rounded-lg flex items-center justify-center transition-all duration-300
                          ${C?"bg-white shadow-lg":"bg-slate-100 group-hover:bg-emerald-100"}
                        `,children:C&&f.jsx(Sr,{className:"w-4 h-4 text-emerald-600"})}),f.jsxs("div",{className:"text-left flex-1",children:[f.jsx("p",{className:`font-semibold ${C?"text-white":"text-slate-700"}`,children:P.name}),f.jsxs("p",{className:`text-sm ${C?"text-emerald-100":"text-slate-500"}`,children:[P.width,"  ",P.height]})]})]},D)})})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"p-6 bg-white/70 backdrop-blur-sm border border-slate-200/80 rounded-2xl animate-slide-up",style:{animationDelay:"0.05s"},children:[f.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[f.jsx(Ud,{className:"w-5 h-5 text-emerald-500"}),"Preview"]}),f.jsx("div",{className:"aspect-[9/16] rounded-xl overflow-hidden shadow-lg",style:{backgroundColor:n==null?void 0:n.projectConfig.canvas.backgroundColor},children:f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsxs("div",{className:"text-center p-4",children:[f.jsx(Os,{className:"w-8 h-8 text-white/40 mx-auto mb-2"}),f.jsxs("p",{className:"text-white/60 text-sm",children:[j.length," slide",j.length!==1?"s":""," ready"]})]})})})]}),f.jsxs("div",{className:"p-6 bg-white/70 backdrop-blur-sm border border-slate-200/80 rounded-2xl sticky top-24 animate-slide-up",style:{animationDelay:"0.1s"},children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx("div",{className:"p-2.5 bg-slate-100 rounded-xl",children:f.jsx(e3,{className:"w-5 h-5 text-slate-600"})}),f.jsxs("div",{children:[f.jsxs("p",{className:"font-bold text-slate-800",children:[N," image",N!==1?"s":""]}),f.jsx("p",{className:"text-sm text-slate-500",children:"ZIP archive"})]})]}),f.jsx("button",{onClick:d,disabled:a||u.size===0,className:`
                  w-full relative inline-flex items-center justify-center gap-2 px-6 py-4 font-semibold rounded-xl transition-all duration-300
                  ${u.size===0?"bg-slate-100 text-slate-400 cursor-not-allowed":"bg-gradient-to-r from-emerald-500 to-emerald-600 text-white shadow-lg shadow-emerald-500/30 hover:shadow-xl hover:shadow-emerald-500/40 hover:-translate-y-0.5"}
                `,children:a?f.jsxs(f.Fragment,{children:[f.jsx(kr,{className:"w-5 h-5 animate-spin"}),"Exporting... ",Math.round(l),"%"]}):h?f.jsxs(f.Fragment,{children:[f.jsx(Ff,{className:"w-5 h-5"}),"Export Complete!"]}):f.jsxs(f.Fragment,{children:[f.jsx(ku,{className:"w-5 h-5"}),"Export Screenshots"]})}),a&&f.jsxs("div",{className:"mt-4",children:[f.jsx("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-400 to-emerald-500 transition-all duration-300 ease-out",style:{width:`${l}%`}})}),f.jsxs("p",{className:"text-center text-sm text-slate-500 mt-2",children:["Processing ",Math.ceil(l/100*N)," of ",N," images"]})]}),u.size===0&&f.jsx("p",{className:"text-center text-sm text-slate-500 mt-4",children:"Select at least one size to export"})]})]})]})}),h&&f.jsx("div",{className:"fixed bottom-8 right-8 animate-slide-up",children:f.jsxs("div",{className:"flex items-center gap-3 px-5 py-4 bg-white border border-slate-200 rounded-2xl shadow-2xl shadow-slate-200/50",children:[f.jsx("div",{className:"p-2 bg-emerald-100 rounded-full",children:f.jsx(Ff,{className:"w-5 h-5 text-emerald-600"})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-slate-800",children:"Export Complete!"}),f.jsxs("p",{className:"text-sm text-slate-500",children:[N," images downloaded"]})]}),f.jsx("button",{onClick:()=>m(!1),className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",children:f.jsx(mm,{className:"w-4 h-4"})})]})})]})}function I0({children:t}){const{isAuthenticated:e}=Ni();return e?f.jsx(_u,{to:"/dashboard",replace:!0}):f.jsx(f.Fragment,{children:t})}function lw(){return f.jsx(nv,{children:f.jsxs(X5,{children:[f.jsxs(Dt,{element:f.jsx(Dv,{}),children:[f.jsx(Dt,{path:"/login",element:f.jsx(I0,{children:f.jsx(B4,{})})}),f.jsx(Dt,{path:"/register",element:f.jsx(I0,{children:f.jsx(G4,{})})})]}),f.jsxs(Dt,{element:f.jsx(c3,{}),children:[f.jsx(Dt,{path:"/dashboard",element:f.jsx(H4,{})}),f.jsx(Dt,{path:"/templates",element:f.jsx($4,{})}),f.jsx(Dt,{path:"/editor/:projectId",element:f.jsx(tx,{})}),f.jsx(Dt,{path:"/export/:projectId",element:f.jsx(ow,{})})]}),f.jsx(Dt,{path:"/",element:f.jsx(_u,{to:"/dashboard",replace:!0})}),f.jsx(Dt,{path:"*",element:f.jsx(_u,{to:"/dashboard",replace:!0})})]})})}Nc.createRoot(document.getElementById("root")).render(f.jsx(Hu.StrictMode,{children:f.jsx(lw,{})}));
